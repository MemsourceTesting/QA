<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE book [
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % DOCBOOK_ENTS PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/dbcentx.mod">
%DOCBOOK_ENTS;
]>
<?asciidoc-toc?><?asciidoc-numbered?><book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
<info>
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$d$ m$a$n$a$g$i$n$g$ h$i$</title><subtitle>C$o$n$f$i$g$u$r$i$n$g$ a$n$d$ m$a$n$a$g$i$n$g$ t$h$e$ R$e$d$ </subtitle>

<date>2020-12-09</date>
<productname>Red Hat Enterprise Linux</productname>
<productnumber>8</productnumber>
<release>{ProductRelease}</release>
<abstract>
  <para>
    T$h$i$s$ g$u$i$d$e$ p$r$o$v$i$d$e$s$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ i$n$s$t$a$l$l$i$n$g$, c$o$n$f$i$g$u$r$i$n$g$, a$n$d$ m$a$n$a$g$i$n$g$ t$h
  </para>
</abstract>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="Author_Group.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="Common_Content/Legal_Notice.xml"/>
<orgname>Red Hat</orgname>
</info>
<preface xml:id="making-open-source-more-inclusive">
<title>M$a$k$i$n$g$ o$p$e$n$ s$o$u$r$c$e</title>
<simpara>R$e$d$ H$a$t$ i$s$ c$o$m$m$i$t$t$e$d$ t$o$ r$e$p$l$a$c$i$n$g$ p$r$o$b$l$e$m$a$t$i$c$ l$a$n$g$u$a$g$e$ W$e$ a$r$e$ b$e$g$i$n$n$i$n$g$ w$i$t$h$ t$h$e$s$e$ f$o$u$r$ t$e$r$m$s$: m$a$s$t$B$e$c$a$u$s$e$ o$f$ t$h$e$ e$n$o$r$m$i$t$y$ o$f$ t$h$i$s$ e$n$d$e$a$v$o$r$, t$h$e$s$e$ c$h$a$n$g$e$s$ w$i$l$l$ b$e$ iF$o$r$ m$o$r$e$ d$e$t$a$i$l$s$, s$e$e$ <link xlink:href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">o$u$r$ C$T$O$ </link></simpara>
</preface>
<preface xml:id="proc_providing-feedback-on-red-hat-documentation_configuring-and-managing-high-availability-clusters">
<title>P$r$o$v$i$d$i$n$g$ f$e$e$d$b$a$c$k$ o$n$ R$</title>
<simpara role="_abstract">W$e$ a$p$p$r$e$c$i$a$t$e$ y$o$u$r$ i$n$p$u$t$ P$l$e$a$s$e$ l$e$t$ u$s$ k$n$o$w$ h$o$w$ w$e$ cT$o$ d$o$</simpara>
<itemizedlist>
<listitem>
<simpara>F$o$r$ s$i$m$p$l$e$ c$o$m$m$e$n$t$s$ o$n$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>M$a$k$e$ s$u$r$e$ y$o$u$ a$r$e$ v$i$e$w$i$n$g$ t$h$e$ d$o$c$u$m$e$n$t$a$t$<emphasis></emphasis>I$n$ a$d$d$i$t$i$o$n$, e$n$s$u$r$e$ y$o$u$ s$e$e$ t$h$e$ <emphasis role="strong">F$e$e$d$b$a$c$k$</emphasis> b$u$t$t$o$n$ i$n</simpara>
</listitem>
<listitem>
<simpara>U$s$e$ y$o$u$r$ m$o$u$s$e$ c$u$r$s$o$r$ t$o$ h$i$g$h$l$i$g$h$t$ t$h$e$ p$a$r$t$ </simpara>
</listitem>
<listitem>
<simpara>C$l$i$c$k$ t$h$e$ <emphasis role="strong">A$d$d$ F$e$e$d$b$a$c$k$</emphasis> p$o$p$-u$p$ t$h$a$t$ a$p$p$e</simpara>
</listitem>
<listitem>
<simpara>F$o$l$l$o$w$ t$h$e$ d$i$s$p$l$a$y$</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>F$o$r$ s$u$b$m$i$t$t$i$n$g$ m$o$r$e$ c$o$m$p$l$e$x$ f$e$e$d$b$a</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>G$o$ t$o$ t$h$e$ <link xlink:href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">B$u$g$z$i$</link></simpara>
</listitem>
<listitem>
<simpara>A$s$ t$h$e$ C$o$m$p$o$n$e$n$t$, u$s$<emphasis role="strong"></emphasis></simpara>
</listitem>
<listitem>
<simpara>F$i$l$l$ i$n$ t$h$e$ <emphasis role="strong">D$e$s$c$r$i$p$t$i$o$n$</emphasis> f$i$e$l$d$ w$i$t$h$ y$oI$n$c$l$u$d$e$ a$ l$i$n$k$ t$o$ t$h$e$ r$e$l$e$v$a$n$t$ </simpara>
</listitem>
<listitem>
<simpara>C$l$i$c$k$ <emphasis role="strong">S$u$b$</emphasis></simpara>
</listitem>
</orderedlist>
</listitem>
</itemizedlist>
</preface>
<chapter xml:id="assembly_overview-of-high-availability-configuring-and-managing-high-availability-clusters">
<title>H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$</title>
<simpara>T$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ i$s$ a$ c$l$u$s$t$e$r$e$d$ s$y$s$t$e$m$ t$h$a$t$ p$r$o$v$i$d$e$s$ r$e$l$i$a$b$i$l$i$t$y</simpara>
<simpara>A$ c$l$u$s$t$e$r$ i$s$ t$w$o$ o$r$ m$o$r$e$ c$o$m$p$u$t$e$r$s$ (c$a$l$l$e$d$ <emphasis>n$o$d$e$s$</emphasis> o$r$ <emphasis>m$e$m</emphasis>C$l$u$s$t$e$r$s$ c$a$n$ b$e$ u$s$e$d$ t$o$ p$r$o$v$i$d$e$ h$i$g$h$l$y$ T$h$e$ r$e$d$u$n$d$a$n$c$y$ o$f$ m$u$l$t$i$p$l$e$ m$a$c$h$i$n$e$s$ i$s$ u$s$e$d$ t$o</simpara>
<simpara>H$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$s$ p$r$o$v$i$d$e$ h$i$g$h$l$y$ a$v$a$i$l$a$b$l$e$ s$e$r$v$i$c$e$s$ b$y$ e$l$i$m$i$n$a$t$i$n$g$ s$i$n$g$l$e$ p$o$i$n$t$s$ o$f$ f$a$i$l$u$r$e$ a$n$d$ b$T$y$p$i$c$a$l$l$y$, s$e$r$v$i$c$e$s$ i$n$ a$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ r$e$a$d$ a$n$d$ w$r$i$tT$h$e$r$e$f$o$r$e$, a$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ m$u$s$t$ m$a$i$n$t$a$i$n$ d$a$t$a$ i$n$t$e$g$r$i$t$y$ a$s$ o$n$e$ c$l$u$s$N$o$d$e$ f$a$i$l$u$r$e$s$ i$n$ a$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ a$r$e$ n$o$(H$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$s$ a$r$e$ s$o$m$e$t$i$m$e$s T$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ p$r$o$v$i$d$e$s$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$i$n$g$ t$h$r$o$u$g$<literal role="command"></literal></simpara>
<section xml:id="con_high-availability-add-on-concepts-overview-of-high-availability">
<title>H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A</title>
<simpara>T$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ c$o$n$s$i$s$t$s$ o$</simpara>
<itemizedlist>
<listitem>
<simpara>C$l$u$s$t$e$r$ i$n$f$r$a$s$t$r$u$c$t$u$r$e$ — P$r$o$v$i$d$e$s$ f$u$n$d$a$m$e$n$t$a$l$ f$u$n$c$t$i$o$n$s$ f$o$r$ n$o$d$e$s$ t$o$ w$o$r$k$ t$o$g$e$t$h$e$r$ a$s$ a$ c$l$u$s$t$e$r$: c$</simpara>
</listitem>
<listitem>
<simpara>H$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ s$e$r$v$i$c$e$ m$a$n$a$g$e$m$e$n$t$ — P$r$o$v$i$d$e$s$ f$a$i$l$o$v$e$r$ o$f$ s$e$r$v$i$c$e$s$ f$r$o$m$ </simpara>
</listitem>
<listitem>
<simpara>C$l$u$s$t$e$r$ a$d$m$i$n$i$s$t$r$a$t$i$o$n$ t$o$o$l$s$ — C$o$n$f$i$g$u$r$a$t$i$o$n$ a$n$d$ m$a$n$a$g$e$m$e$n$t$ t$o$o$l$s$ f$o$r$ s$e$t$tT$h$e$ t$o$o$l$s$ a$r$e$ f$o$r$ u$s$e$ w$i$t$h$ t$h$e$ c$l$u$s$t$e$r$ i$n$f$r$a$s$t$r$u$c$t$u$r$e$ c$o$m$p$o$n$e$n$t$s$, t$h$e$ h$i$g$h</simpara>
</listitem>
</itemizedlist>
<simpara>Y$o$u$ c$a$n$ s$u$p$p$l$e$m$e$n$t$ t$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$</simpara>
<itemizedlist>
<listitem>
<simpara>R$e$d$ H$a$t$ G$F$S$2 (G$l$o$b$a$l$ F$i$l$e$ S$y$s$t$e$m$ 2) — P$a$r$t$ o$f$ t$h$e$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ A$d$d$-O$n$, t$h$i$s$ p$r$o$v$i$d$e$G$F$S$2 a$l$l$o$w$s$ m$u$l$t$i$p$l$e$ n$o$d$e$s$ t$o$ s$h$a$r$e$ s$t$o$r$a$g$e$ a$t$ a$ b$l$o$c$k$ l$e$v$e$l$ a$s$ i$f$ t$hG$F$S$2 c$l$u$s$t$e$r$ f$i$l$e$ s$y$s$t$e$m$ r$e$q$u$i$r$e$</simpara>
</listitem>
<listitem>
<simpara>L$V$M$ L$o$c$k$i$n$g$ D$a$e$m$o$n$ (<literal>l$v$m$l$o$c$k$d$</literal>) — P$a$r$t$ o$f$ t$h$e$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ A$d$d$-O$n<literal>l$v$m$l$o$c$k$d$</literal> s$u$p$p$o$r$t$ a$l$s$o$ r$e$q$u$i$r$e</simpara>
</listitem>
<listitem>
<simpara>L$o$a$d$ B$a$l$a$n$c$e$r$ A$d$d$-O$n$ — R$o$u$t$i$n$g$ s$o$f$t$w$a$r$e$ t$h$a$t$ p$r$o$v$i$d$e$s$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ l$o$a$d$ b$a$l$a$n$cT$h$e$ L$o$a$d$ B$a$l$a$n$c$e$r$ A$d$d$-O$n$ r$u$n$s$ i$n$ a$ c$l$u$s$t$e$r$ o$f$ r$e$d$u$n$d$a$n$t$ v$i$r$t$u$a$l$ r$o$u$t$e$r$s$ t$h$a$t$ u$s$e$s$ l$o$a$d$ a$l$g$o$r$i$t$h$m$s$ t$o$ dI$t$ i$s$ n$o$t$ n$e$c$e$s$s$a$r$y$ t$o$ u$s$e$ t$h$e$ L$o$a$d$ B$a$l$a$n$c$e$r$ A</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="s1-Pacemakeroverview-HAAO">
<title>P$a$c$e$m$a$k$e$r$</title>
<simpara>P$a$c$e$m$a$k$e$r$ i$s$ a$ c$l$u$s$t$e$rI$t$ a$c$h$i$e$v$e$s$ m$a$x$i$m$u$m$ a$v$a$i$l$a$b$i$l$i$t$y$ f$o$r$ y$o$u$r$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ a$n$d$ r$e$s$o$u$r$c$e$s$ b$y$ m$a$k$i$n$g$ u$s$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$ i$n$f$r$a$s$t$r$u$c$t$u$r$e</simpara>
<section xml:id="s2-Pacemakerarchitecture-HAAO">
<title>P$a$c$e$m$a$k$e$r$ a$r$c$h$i$t$e$</title>
<simpara>A$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$e$d$ w$i$t$h$ P$a$c$e$m$a$k$e$r$ c$o$m$p$r$i$s$e$s$ s$e$p$a$r$a$t$e$ c$o$m$p$o$n$e$n$t$ d$a$e$m$o$n$s$ t$h$a$t$ m$o$n$i$t$o$r$ c$l$u$s$t$e$r$ m$e$m$b$e$r$s$h$i$p$, s$c$r$i$p$t$s$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$p$o$n$e$n$t$s$ f$o$r$m$ t</simpara>
<variablelist>
<varlistentry>
<term>C$l$u$s$t$e$r$ I$n$f$o$r$m$a$t</term>
<listitem>
<simpara>T$h$e$ P$a$c$e$m$a$k$e$r$ i$n$f$o$r$m$a$t$i$o$n$ d$a$e$m$o$n$, w$h$i$c$h$ u$s$e$s$ X$M$L$ i$n$t$e$r$n$a$l$l$y$ t$o$ d$i$s$t$r$i$b$u$t$e$ a$n$d$ s$y$n$c$h$r$o$n$i$z$e$ c$u$r$r$e$n$t$ c$o$n$f$i$g$u$r$a$t$i$o$n$ a$n$d$ s$t$a$t$u$s$ i$n$f$o$r$m$a$t$i$o$n$ f$r$o$m$ t$h$e$ D$e$s$i$g$n$a$t$e$d$ C$o$o$r$d$i$n</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>C$l$u$s$t$e$r$ R$e$s$o$u$r$c$e$ M$a$n$a$g</term>
<listitem>
<simpara>P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ a$c$t$i$o$n$s$ R$e$s$o$u$r$c$e$s$ m$a$n$a$g$e$d$ b$y$ C$R$M$d$ c$a$n$ b$e$ q$u$e$r$i$e$d$ b$y$ c$l$i$e$n$t$ s$y$s$t$e$m$</simpara>
<simpara>E$a$c$h$ c$l$u$s$t$e$r$ n$o$d$e$ a$l$s$o$ i$n$c$l$u$d$e$s$ a$ l$o$c$a$l$ r$e$s$o$u$r$c$e$ m$a$n$a$g$e$r$ d$a$e$m$o$n$ (L$R$ML$R$M$d$ p$a$s$s$e$s$ c$o$m$m$a$n$d$s$ f$r$o$m$ C$R$M$d$ t$o$ a$g$e$n$t$s$, s$u$c$h$ a$s$ s$t$a$r$t$i$n$</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>S$h$o$o$t$ t$h$e$ O$t$h$e$r$ N$o$d$e$ i$n$</term>
<listitem>
<simpara>S$T$O$N$I$T$H$ i$s$ t$h$e$ P$a$c$e$m$a$k$e$r$ f$I$t$ a$c$t$s$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ i$n$ P$a$c$e$m$a$k$e$r$ t$h$a$t$ p$r$o$c$e$s$s$e$s$ f$e$n$c$e$ r$e$q$u$e$s$t$s$, f$o$r$c$e$f$u$l$l$y$ s$h$u$t$tS$T$O$N$I$T$H$ i$s$ c$o$n$f$i$g$u$r$e$d$ i$n$ t$h$e$ C$I$B$ a$n$d$ c$a$n$ b$e$ m$o$F$o$r$ a$ g$e$n$e$r$a$l$ o$v$e$r$v$i$e$w<xref linkend="s1-fencing-HAAO"/></simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>c$o$r$o$</term>
<listitem>
<simpara><literal>c$o$r$o$s$y$n$c$</literal> i$s$ t$h$e$ c$o$m$p$o$n$e$n$t$ - a$n$d$ a$ d$a$e$m$o$n$ o$f$ t$h$e$ s$a$m$e$ n$a$m$e$ - t$h$a$t$ s$e$r$v$e$s$ t$h$e$ c$o$r$e$ m$e$m$b$e$rI$t$ i$s$ r$e$q$u$i$r$e$d$ f$o$r$ t$h$e$ H$i$g$h$ A$v$a$i$l$</simpara>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$o$s$e$ m$e$m$b$e$r$s$h$i$p$ a$n$d$ m$e$s<literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>M$a$n$a$g$e$s$ q$u$o$r$u$m$ r$u$l$e$s$ </simpara>
</listitem>
<listitem>
<simpara>P$r$o$v$i$d$e$s$ m$e$s$s$a$g$i$n$g$ c$a$p$a$b$i$l$i$t$i$e$s$ f$o$r$ a$p$p$l$i$c$a$t$i$o$n$s$ t$h$a$t$ c$o$o$r$d$i$n$a$t$e$ o$r$ o$p$e$r$a$t$e$ a$c$r$o$s$s$ m$u$l$t$i$p$l$e$ m$e$m$b$e$r$s$ o</simpara>
</listitem>
<listitem>
<simpara>U$s$e$s$ t$h$e$ <literal>k$r$o$n$o$s$n$e$t$</literal> l$i$b$r$a$r$y$ a$s$ i$t$s$ n$e$t$w$o$r$k$ t$r$a$n$s$p$o$r$t$ t$o$ p$r$o$v$i$</simpara>
</listitem>
</itemizedlist>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="s2-Pacemakertools-HAAO">
<title>C$o$n$f$i$g$u$r$a$t$i$o$n$ a$n$d$ </title>
<simpara>T$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ f$e$a$t$u$r$e$s$ t$w$o$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$o$o$l$s</simpara>
<variablelist>
<varlistentry>
<term><literal role="command">p$c</literal></term>
<listitem>
<simpara>T$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ l$i$n$e$ i$n$t$e$r$f$a$c$e$ c$o$n$t$r$o$l$s$ a$n$d$ c$o$n$f$i$g$u$r$e$<literal></literal>A$ c$o$m$m$a$n$d$-l$i$n$e$ b$a$s$e$d$ p$r$o$g$r$a$m$, <literal role="command">p$c$s$</literal> c$a$n$ p$e$r$f$o$r$m$ t$</simpara>
<itemizedlist>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$d$ c$o$n$f$i$g$u$r$e$ a$ P$a$c$e</simpara>
</listitem>
<listitem>
<simpara>M$o$d$i$f$y$ c$o$n$f$i$g$u$r$a$t$i$o$n$ o$f$ t$h$e$ c$l</simpara>
</listitem>
<listitem>
<simpara>R$e$m$o$t$e$l$y$ c$o$n$f$i$g$u$r$e$ b$o$t$h$ P$a$c$e$m$a$k$e$r$ a$n$d$ C$o$r$o$s$y$n$c$ a$s$ w$e$l$l$ a$s$ s$t$a$r$t</simpara>
</listitem>
</itemizedlist>
</listitem>
</varlistentry>
<varlistentry>
<term><literal role="command">p$c$s$d$</literal> W$</term>
<listitem>
<simpara>A$ g$r$a$p$h$i$c$a$l$ u$s$e$r$ i$n$t$e$r$f$a$c$e$ t$o$ c$r$e$a$t$e$ a$n$d$ c$o$</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="s1-configfileoverview-HAAR">
<title>T$h$e$ c$l$u$s$t$e$r$ a$n$d$ p$a$c$e$m$a$k$e$</title>
<simpara>T$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$s$ f$o$r$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b<literal></literal><literal></literal></simpara>
<simpara>T$h$e$ <literal>c$o$r$o$s$y$n$c$.c$o$n$f$</literal> f$i$l$e$ p$r$o$v$i$d$e$s$ t$h$e$ c$l$u$s$t$e$r$ p$a$r$a$m$e$t$e$r$s$ u$s$e$d$ b$y$ <literal>c$o$</literal>I$n$ g$e$n$e$r$a$l$, y$o$u$ s$h$o$u$l$d$ n$o$t$ e$d$i$t$ t$h$e$ <literal>c$o$r$o$s$y$n$c$.c$o$n$f$</literal> d$i$r$e$c$t$l<literal role="command"></literal><literal role="command"></literal></simpara>
<simpara>T$h$e$ <literal>c$i$b$.x$m$l$</literal> f$i$l$e$ i$s$ a$n$ X$M$L$ f$i$l$e$ t$h$a$t$ r$e$p$r$e$s$e$n$t$s$ b$o$t$h$ t$h$e$ c$l$u$s$t$e$r$’s$ c$o$n$f$i$g$u$rT$h$i$s$ f$i$l$e$ i$s$ u$s$e$d$ b$y$ P$a$c$e$m$a$k$e$r$’s$ C$l$uT$h$e$ c$o$n$t$e$n$t$s$ o$f$ t$h$e$ C$I$B$ a$r$e$ a$u$t$o$m$a$t$i$c$a$l$l$y$ k$e$D$o$ n$o$t$ e$d$i$t$ t$h$e$ <literal>c$i$b$.x$m$l$</literal> f$i$l$e$ d$i$r$e$c$t$l$y$; u$s$e$ t<literal role="command"></literal><literal role="command"></literal></simpara>
</section>
</section>
<section xml:id="s1-fencing-HAAO">
<title>F$e$n$c$i$n$g$ o</title>
<simpara>I$f$ c$o$m$m$u$n$i$c$a$t$i$o$n$ w$i$t$h$ a$ s$i$n$g$l$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ f$a$i$l$s$, t$h$e$n$ o$t$h$e$r$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$ m$u$s$t$ b$e$ a$b$l$e$ t$o$ r$eT$h$i$s$ c$a$n$n$o$t$ b$e$ a$c$c$o$m$p$l$i$s$h$e$d$ b$y$ c$o$n$t$a$c$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$I$n$s$t$e$a$d$, y$o$u$ m$u$s$t$ p$r$o$v$i$d$e$ a$n$ e$x$t$e$r$n$a$l$ m$e$t$h$o$d$, w$h$i$A$ f$e$n$c$e$ d$e$v$i$c$e$ i$s$ a$n$ e$x$t$e$r$n$a$l$ d$e$v$i$c$e$ t$h$a$t$ c$a$n$ b$e$ u$s$e$d$ b$y$ t$h$e$ c$l$u$s$t$e$r$ t$o$ r$e$s$t$r$i$c$t$ a$c$c$e$s$s$ t$o$ s$h$a$r$e</simpara>
<simpara>W$i$t$h$o$u$t$ a$ f$e$n$c$e$ d$e$v$i$c$e$ c$o$n$f$i$g$u$r$e$d$ y$o$u$ d$o$ n$o$t$ h$a$v$e$ a$ w$a$y$ t$o$ k$n$o$w$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ p$r$e$v$i$o$u$s$l$y$ u$s$e$d$ b$y$ t$h$e$ d$i$s$c$o$n$n$e$c$t$e$d$ c$l$u$s$t$e$r$ n$oC$o$n$v$e$r$s$e$l$y$, t$h$e$ s$y$s$t$e$m$ m$a$y$ a$s$s$u$m$e$ e$r$r$o$n$e$o$u$s$l$y$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$ h$a$s$ r$e$l$e$a$s$e$W$i$t$h$o$u$t$ a$ f$e$n$c$e$ d$e$v$i$c$e$ c$o$n$f$i$g$u$r$e$d$ d$a$t$a$ i$n$t$e$g$r$i$t$y$ c$a$n$n$o$t$ b$e$ g$u$a$r$a$n</simpara>
<simpara>W$h$e$n$ t$h$e$ f$e$n$c$i$n$g$ i$s$ i$n$ p$r$o$g$r$e$s$s$ n$o$ o$t$h$e$r$ c$lN$o$r$m$a$l$ o$p$e$r$a$t$i$o$n$ o$f$ t$h$e$ c$l$u$s$t$e$r$ c$a$n$n$o$t$ r$e$s$u$m$e$ u$n$t$i$l$ f$e$n$c$i$n$g$ h$a$s$ c$o$m$p$l$e$t$e$d$ o$r$ t$h$e$ c$l$u$</simpara>
<simpara>F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ f$e$n$c$i$n$g$, s$e$e$ <link xlink:href="https://access.redhat.com/solutions/15575"> F$e$n$c$i$n$g$</link></simpara>
</section>
<section xml:id="s1-quorumoverview-HAAO">
<title>Q$u$o$r$u$m$ o$</title>
<simpara>I$n$ o$r$d$e$r$ t$o$ m$a$i$n$t$a$i$n$ c$l$u$s$t$e$r$ i$n$t$e$g$r$i$t$y$ a$n$d$ a$v$a$i$l$a$b$i$l$i$t$y$, c$l$u$s$t$e$r$ s$y$s$t$e$m$s$ u$s$<emphasis></emphasis>A$ c$l$u$s$t$e$r$ h$a$s$ q$u$o$r$u$m$ w$h$e$n$ m$o$r$e$ t$h$a$n$ h$a$l$f$T$o$ m$i$t$i$g$a$t$e$ t$h$e$ c$h$a$n$c$e$ o$f$ d$a$t$a$ c$o$r$r$u$p$t$i$o$n$ d$u$e$ t$o$ f$a$i$l$u$r$e$, P$a$c$e$m$a$k$e$r$ b$y$ d$e$f$</simpara>
<simpara>Q$u$o$r$u$m$ i$s$ e$s$t$a$b$l$i$s$h$e$d$ u$sW$h$e$n$ a$ c$l$u$s$t$e$r$ n$o$d$e$ d$o$e$s$ n$o$t$ f$u$n$c$t$i$o$n$ a$s$ i$t$ s$h$o$u$l$d$ o$r$ l$o$s$e$s$ c$o$m$m$u$n$i$c$a$t$i$o$n$ w$i$t$h$ t$h$e$ r$e$s$t$ o$f$ t$h$e$ c$l$u$s$t$e$r$, t$h$e$ m</simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$n$ a$ 6-n$o$d$e$ c$l$u$s$t$e$r$, q$u$o$r$u$m$ i$s$ e$s$t$a$b$l$i$s$h$e$d$ w$hI$f$ t$h$e$ m$a$j$o$r$i$t$y$ o$f$ n$o$d$e$s$ g$o$ o$f$f$l$i$n$e$ o$r$ b$e$c$o$m$e$ u$n$a$v$a$i$l$a$b$l$e$, t$h$e$ c$l$u$s$t$e$r$ n$</simpara>
<simpara>T$h$e$ q$u$o$r$u$m$ f$e$a$t$u$r$e$s$ i$n$ P$a$c$e$m$a$k$e$r$ p$r$e$v$e$n$t$ w$h$a$t$ i$s$ a$l$s$o$ k$n$o$w$n$ a$s$ <emphasis>s$p$l$i$t$-b$r$a$i$n$</emphasis>, a$ p$h$e$n$o$m$e$n$o$n$ w$h$e$r$e$ t$h$e$ c$l$u$s$t$e$r$ i$s$ s$e$p$a$r$a$t$e$d$ f$r$o$m$ c$o$m$m$u$n$i$c$a$t$i$o$n$ b$u$t$ e$a$c$h$F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ w$h$a$t$ i$t$ m$e$a$n$s$ t$o$ b$e$ i$n$ a$ s$p$l$i$t$-b$r$a$i$n$ s$t$a$t$e$, a$n$d$ o$n$ q$u$o$r$u$m$ c$o$n$c$e$p$t$s$ i$n$ g$<link xlink:href="https://access.redhat.com/articles/2824071"></link></simpara>
<simpara>A$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ c$l$u$s$t$e$r$ u$s$e$s$ t$h$e$ <literal>v$o$t$e$q$u$o$r$u$m$</literal> s$eA$ n$u$m$b$e$r$ o$f$ v$o$t$e$s$ i$s$ a$s$s$i$g$n$e$d$ t$o$ e$a$c$h$ s$y$s$t$e$m$ i$n$ t$h$e$ c$l$u$s$t$e$r$, a$n$d$ c$l$u$s$t$e$r$ o$p$e$r$a$t$i$o$n</simpara>
</section>
<section xml:id="s1-resourceoverview-HAAO">
<title>R$e$s$o$u$r$c$e$ </title>
<simpara>A$ <emphasis>c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$</emphasis> i$s$ a$n$ i$n$s$t$a$n$c$e$ o$f$ p$r$o$g$r$a$m$, d$a$t$a$, o$r$ a$p$p$T$h$e$s$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ a$b$s$t$r$a$c$t$e$d$ b$y$ <emphasis>a$g$e$n$t$s$</emphasis> t$h$a$t$ p$r$o$v$i$d$e$ a$ s$t$a$n$d$a$r$d$ i$n$t$</simpara>
<simpara>T$o$ e$n$s$u$r$e$ t$h$a$t$ r$e$s$o$u$r$c$e$s$ r$e$m$a$i$n$ h$e$a$l$t$h$y$, y$o$u$ c$a$n$ a$d$d$ a$ m$o$I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$ f$o</simpara>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ t$h$e$ b$e$h$a$v$i$o$r$ o$f$ a$ r$e$s$o$u$r$c$e$ i$n<emphasis></emphasis>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ f$o$l$l$o$w$i$n$g$</simpara>
<itemizedlist>
<listitem>
<simpara>l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ — A$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ d$e$t$e</simpara>
</listitem>
<listitem>
<simpara>o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ — A$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ d$e$t$e$r</simpara>
</listitem>
<listitem>
<simpara>c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ — A$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ d$e$t$e$r$m$i$n$e$s$ w$h$e$r</simpara>
</listitem>
</itemizedlist>
<simpara>O$n$e$ o$f$ t$h$e$ m$o$s$t$ c$o$m$m$o$n$ e$l$e$m$e$n$t$s$ o$f$ a$ c$l$u$s$t$e$r$ i$s$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ n$e$e$d$ t$o$ b$e$ l$oT$o$ s$i$m$p$l$i$f$y$ t$h$i$s$ c$o$n$f$i$g$u$r$a$t$i$o$n$, P$a$c$e$m$a$k$<emphasis></emphasis></simpara>
</section>
<section xml:id="con_HA-lvm-shared-volumes-overview-of-high-availability">
<title>L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ i$n$ a$ R$e$d$ H$a$t$</title>
<simpara>T$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ p$r$o$v$i$d$e$s$ s$u$p$p$o$r$t$ f$o$r$ L$V</simpara>
<itemizedlist>
<listitem>
<simpara>H$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ L$V$M$ v$o$l$u$m$e$s$ (H$A$-L$V$M$) i$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ f$a$i$l$o$v$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$s$ i$n$ w$h$i$c</simpara>
</listitem>
<listitem>
<simpara>L$V$M$ v$o$l$u$m$e$s$ t$h$a$t$ u$s$e$ t$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$ t$o$ m$a$n$a$g$e$ s$t$o$r$a$g$e$ d$e$v$i$c$e$s$ i$n$ a$c$t$i$v$e$/a$c$t$i$v$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$s$ i$n$ w$T$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$ i$s$ p$a$r$t$ o$f$ t$h$</simpara>
</listitem>
</itemizedlist>
<section xml:id="choosing_ha_lvm_or_shared_volumes" remap="_choosing_ha_lvm_or_shared_volumes">
<title>C$h$o$o$s$i$n$g$ H$A$-L$V$M$ o$r$</title>
<simpara>W$h$e$n$ t$o$ u$s$e$ H$A$-L$V$M$ o$r$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ m$a$n$a$g$e$d$ b$y$ t$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$ s$h$o$u$l$d$ b</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ m$u$l$t$i$p$l$e$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ r$e$q$u$i$r$e$ s$i$m$u$l$t$a$n$e$o$u$s$ r$e$a$d$/w$r$i$t$e$ a$c$c$e$s$s$ t$o$ L$V$M$ v$o$l$u$m$e$s$ i$n$ a$n$ a$c$t$i$v$e$/a$c$t$i$v$e$ s$<literal></literal>T$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$ p$r$o$v$i$d$e$s$ a$ s$y$s$t$e$m$ f$o$r$ c$o$o$r$d$i$n$a$t$i$n$g$ a$c$t$i$v$a$t$i$o$n$ o$f$ a$n$d$ T$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$’s$ l$o$c$k$i$n$g$ s$e$r$v$i$c$e$ p$r$o$v$i$d$e$s$ p$r$o$t$e$c$t$i$o$n$ t$o$ L$V$M$ m$e$t$a$d$a$t$a$ a$s$ v$a$r$i$o$u$s$ n$o$T$h$i$s$ p$r$o$t$e$c$t$i$o$n$ i$s$ c$o$n$t$i$n$g$e$n$t$ u$p$o$n$ c$o$n$f$i$g$u$r$i$n$g$ a$n$y$ v$o$l$u$m$e$ g$r$o$u$p$ t$h$a$t$ w$i$l$l$ b$e$ a$c$t$i$v</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ i$s$ c$o$n$f$i$g$u$r$e$d$ t$o$ m$a$n$a$g$e$ s$h$a$r$e$d$ r$e$s$o$u$r$c$e$s$ i$n$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ m$a$n$n$e$r$ w$i$t$h$ o$n$l$y$ o$n$e$ s$i$n$g$l$e$ m$e$m$b$e$r$ <literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>M$o$s$t$ a$p$p$l$i$c$a$t$i$o$n$s$ w$i$l$l$ r$u$n$ b$e$t$t$e$r$ i$n$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$, a$s$ t$h$e$y$ a$r$e$C$h$o$o$s$i$n$g$ t$o$ r$u$n$ a$n$ a$p$p$l$i$c$a$t$i$o$n$ t$h$a$t$ i$s$ n$o$t$ c$l$u$s$t$e$r$-a$w$a$r$e$ o$n$ s$h$a$r$eT$h$i$s$ i$s$ b$e$c$a$u$s$e$ t$h$e$r$e$ i$s$ c$l$u$s$t$e$r$ c$o$m$m$u$n$i$c$a$t$i$o$n$ o$v$e$r$h$e$a$d$ f$o$r$A$ c$l$u$s$t$e$r$-a$w$a$r$e$ a$p$p$l$i$c$a$t$i$o$n$ m$u$s$t$ b$e$ a$b$l$e$ t$o$ a$c$h$i$e$v$e$ p$e$r$f$o$r$m$a$n$c$e$ g$a$i$n$s$ a$b$o$v$e$ t$h$e$ p$e$r$f$o$r$m$a$n$c$eT$h$i$s$ i$s$ a$c$h$i$e$v$a$b$l$e$ f$o$r$ s$o$m$e$ a$p$p$l$i$c$a$t$i$o$n$s$ a$nD$e$t$e$r$m$i$n$i$n$g$ w$h$a$t$ t$h$e$ r$e$q$u$i$r$e$m$e$n$t$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ a$r$e$ a$n$d$ w$h$e$t$h$e$r$ t$h$e$ e$x$t$r$a$ e$f$f$o$r$t$ t$o$w$a$r$d$ o$p$t$i$m$i$z$i$n$g$ f$o$r$ a$n$ aM$o$s$t$ u$s$e$r$s$ w$i$l$l$ a$c$h$i$e$v$e$ t$h$e$ b$e$s$t$ H$</simpara>
<simpara>H$A$-L$V$M$ a$n$d$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ u$s$i$n$g$ <literal>l$v$m$l$o$c$k$d$</literal> a$r$e$ s$i$m$i$l$a$r$ i$n$ t$h$e$ f$a$c$t$ t$h$a$t$ t$h$e$y$ p$r$e$v$e$n$t$ c$o$r$r$u$p$t$i$o$n$ o$f$ L$V$M$ m$e$t$a$d$a$t$a$ a$n$d$ i$t$s$ l$H$A$-L$V$M$ i$m$p$o$s$e$s$ t$h$e$ r$e$s$t$r$i$c$t$i$o$n$ t$h$a$t$ a$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ c$a$n$ o$n$l$y$ b$e$ a$c$t$i$v$a$t$e$T$h$i$s$ m$e$a$n$s$ t$h$a$t$ o$n$l$y$ l$o$c$a$l$ (n$o$n$-c$l$u$s$t$e$r$e$d$) i$m$p$l$e$m$e$A$v$o$i$d$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ c$o$o$r$d$i$n$a$t$i$o$n$ o$v$e$r$h$e$aA$ s$h$a$r$e$d$ v$o$l$u$m$e$ u$s$i$n$g$ <literal>l$v$m$l$o$c$k$d$</literal> d$o$e$s$ n$o$t$ i$m$p$o$s$e$ t$h$e$s$e$ r$e$s$t$r$i$c$t$i$o$n$s$ a$n$d$ a$ u$s$e$r$ i$s$ f$r$e$e$ t$o$ a$c$t$i$v$a$t$e$ a$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ o$n$ a$l$l$ m$a$c$h$i$n$e$s$ i$n$ a$ c$l$u$s$t$e$r$; t$h$i$s$ f$o$r</simpara>
</section>
<section xml:id="configuring_lvm_volumes_in_a_cluster" remap="_configuring_lvm_volumes_in_a_cluster">
<title>C$o$n$f$i$g$u$r$i$n$g$ L$V$M$ v$o$l$</title>
<simpara>I$n$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8, c$l$u$s$t$e$r$s$B$o$t$h$ H$A$-L$V$M$ a$n$d$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ a$r$e$ s$u$p$p$o$r$t$e$d$ o$n$l$y$ i$n$ c$o$n$j$u$n$c$t$i$o$n$ w$i$t$h$</simpara>
<itemizedlist>
<listitem>
<simpara>F$o$r$ e$x$a$m$p$l$e$s$ o$f$ p$r$o$c$e$d$u$r$e$s$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ a$n$ H$A$-L$V$M$ v$o$l$u$m$e$ a$s$ p$a$r$t$ o$f$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$, s$e$e$ <link linkend="assembly_configuring-active-passive-http-server-in-a-cluster-configuring-and-managing-high-availability-clusters">C$o$n$f$i$g$u$r$i$n$g$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ A$p$a$c$h$e$ H$T$T$P$ s$e$r$v$e$r$ i$n$</link><link linkend="assembly_configuring-active-passive-nfs-server-in-a-cluster-configuring-and-managing-high-availability-clusters"></link></simpara>
<simpara>N$o$t$e$ t$h$a$t$ t$h$e$s$e$ p$r$o$c$e$d$u$r$e$s$ i$n$c</simpara>
<itemizedlist>
<listitem>
<simpara>E$n$s$u$r$i$n$g$ t$h$a$t$ o$n$l$y$ t$h$e$ c$l$u$s$t$e$r$ i$s$ c$a$p$a$b$</simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M</simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ t$h$e$ L$V$M$ v$o$l$u$m$e</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>F$o$r$ a$ p$r$o$c$e$d$u$r$e$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ s$h$a$r$e$d$ L$V$M$ v$o$l$u$m$e$s$ t$h$a$t$ u$s$e$ t$h$e$ <literal>l$v$m$l$o$c$k$d$</literal> d$a$e$m$o$n$ t$o$ m$a$n$a$g$e$ s$t$o$r$a$g$e$ d$e$v$<link linkend="proc_configuring-gfs2-in-a-cluster.adoc-configuring-gfs2-cluster"></link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
</chapter>
<chapter xml:id="assembly_getting-started-with-pacemaker-configuring-and-managing-high-availability-clusters">
<title>G$e$t$t$i$n$g$ s$t$a$r$t$e$d$ </title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$s$ p$r$o$v$i$d$e$ a$n$ i$n$t$r$o$d$u$c$t$i$o$n$ t$o$ t$h$e$ t$o$o$l$s$T$h$e$y$ a$r$e$ i$n$t$e$n$d$e$d$ f$o$r$ u$s$e$r$s$ w$h$o$ a$r$e$ i$n$t$e$r$e$s$t$e$d$ i$n$ s$e$e$i$n$g$ w$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ l$o$o$k$s$ l$i$k$</simpara>
<note>
<simpara>T$h$e$s$e$ p$r$o$c$e$d$u$r$e$s$ d$o$ n$o$t$ c$r$e$a$t$e$ a$ s$u$p$p$o$r$t$e$d$ R$e$d$ H$a$t$ c$l$u$s$t$e$r$, w$h$i$c$h$ r$e$q$u$i$r$e$s$F$o$r$ f$u$l$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ R$e$d$ H$a$t$’s$ s$u$p$p$o$r$t$ p$o$l$i$c$i$e$s$, r$e$q$u$i$r$e$m$e$n$t$s$, a$n$d$ l$i$m$i$t$a$t$i$o$n$s$ f$o$r$ R$H$E$L$ H$i$g$h$ A<link xlink:href="https://access.redhat.com/articles/2912891/"></link></simpara>
</note>
<section xml:id="proc_learning-to-use-pacemaker-getting-started-with-pacemaker">
<title>L$e$a$r$n$i$n$g$ t$o$ u$s</title>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ r$e$q$u$i$r$e$s$ a$ s$i$n$g$l$e$ n$o$d$e$ r$u$n$n$i$n$g$ R$H$E$L$ 8 a$n$d$ i$t$ r$e$q$u$i$r$e$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ t$h$a$t$ r$e$s$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$ u$s$e$d$ i$n$ t$h$i$s$ e$x$a$m$p<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ u$s$e$d$ i$n$ t$h$i$</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>E$n$s$u$r$e$ t$h$a$t$ t$h$e$ n$a$m$e$ o$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ y$o$u$ a$r<literal></literal></simpara>
</note>
<simpara>B$y$ w$o$r$k$i$n$g$ t$h$r$o$u$g$h$ t$h$i$s$ p$r$o$c$e$d$u$r$e$, y$o$u$ w$i$l$l$ l$e$a$r$n$ h$o$w$ t$o$ u$s$e$ P$a$c$e$m$a$k$e$r$ t$o$ s$e$t$ u$p$ a$ c$l$u$s$t$e$rT$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ a$n$ A$p$a$c$h$e$ H$T$T$P$ s$e$r$v$e$r$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ a$n$d</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s$ f$r$o$m$ t$h$e$ H$i$g<literal></literal></simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-all</literal>
...
# <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$n$a$b$l$e$ t$h$e$ p$o$r$t$s$ t$h$a$t$ a$</simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd --reload</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ a$ p$a$s$s$w$o$r$d$ f$o$r$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> o$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ a$u$t$h$e$n$t$i$c$a$t$e$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> f$o$r$ e$a$<literal></literal>T$h$i$s$ e$x$a$m$p$l$e$ i$s$ u$s$i$n$g$ o$n$l$y$ a$ s$i$n$g$l$e$ n$o$d$e$, t$h$e$ n$o$d$e$ f$r$o$m$ w$h$i$c$h$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ c$o$m$m$a$n$d$s$, b$u$t$ t$h$i$s$ s$t$e$p$ i$s$ i$n$c$l$u$d$e$d$ h$e$r$e$ s$i</simpara>
<literallayout class="monospaced"># <literal>passwd hacluster</literal>
...
# <literal>pcs host auth z1.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ c$l$u$s$t$e$r$ n$a$m$e$d$ <literal>m$y$_c$l$u$s$t$e$r$</literal> w$i$t$h$ o$n$e$ m$e$m$b$T$h$i$s$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$n$d$ s$t$a$r$t$</simpara>
<literallayout class="monospaced"># <literal>pcs cluster setup my_cluster --start z1.example.com</literal>
...
# <literal>pcs cluster status</literal>
Cluster Status:
 Stack: corosync
 Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
 Last updated: Thu Oct 11 16:11:18 2018
 Last change: Thu Oct 11 16:11:00 2018 by hacluster via crmd on z1.example.com
 1 node configured
 0 resources configured

PCSD Status:
  z1.example.com: Online</literallayout>
</listitem>
<listitem>
<simpara>A$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ r$e$q$u$i$r$e$s$ t$h$aT$h$e$ r$e$a$s$o$n$s$ f$o$r$ t$h$i$s$ r$e$q$u$i$r$e$m$e$n$t$ a$r$e$ d$e$s$c$r$i$b$e$d$ i$n$ <link xlink:href="https://access.redhat.com/solutions/15575">F$e$n</link>F$o$r$ t$h$i$s$ i$n$t$r$o$d$u$c$t$i$o$n$, h$o$w$e$v$e$r$, w$h$i$c$h$ i$s$ i$n$t$e$n$d$e$d$ t$o$ s$h$o$w$ o$n$l$y$ h$o$w$ t$o$ u$s$e$ t$h$e$ b$a$s$i$c$ P$a$c$e$m$a$k$e$r$ c$o$m<literal></literal><literal></literal></simpara>
<warning>
<simpara>T$h$e$ u$s$e$ o$f$ <literal>s$t$o$n$i$t$h$-e$n$a$b$l$e$d$=f$a$l$s$e$</literal> i$s$ c$o$m$p$l$e$t$e$l$y$ I$t$ t$e$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ s$i$m$p$l$y$ p$r$e$t$e$n$d$ t$h$</simpara>
</warning>
<literallayout class="monospaced"># <literal>pcs property set stonith-enabled=false</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$ w$e$b$ b$r$o$w$s$e$r$ o$n$ y$o$u$r$ s$y$s$t$e$m$ a$n$d$ c$r$e$a$t$e$ a$ I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$n$a$b$l$e<literal></literal></simpara>
<note>
<simpara>D$o$ n$o$t$ u$s$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ e$n$a$b$l$e$</literal> t$o$ e$n$a$b$l$e$ a$n$y$ s$e$r$v$i$c$e$s$ t$h$a$t$ w$i$l$l$ </simpara>
</note>
<literallayout class="monospaced"># <literal>yum install -y httpd wget</literal>
...
# <literal>firewall-cmd --permanent --add-service=http</literal>
# <literal>firewall-cmd --reload</literal>

# <literal>cat &lt;&lt;-END &gt;/var/www/html/index.html</literal>
<literal>&lt;html&gt;</literal>
<literal>&lt;body&gt;My Test Site - $(hostname)&lt;/body&gt;</literal>
<literal>&lt;/html&gt;</literal>
<literal>END</literal></literallayout>
<simpara>I$n$ o$r$d$e$r$ f$o$r$ t$h$e$ A$p$a$c$h$e$ r$e$s$o$u$r$c$e$ a$g$e$n$t$ t$o$ g$e$t$ t$h$e$ s$t$a$t$u$s$ o$f$ A$p$a$c$h$e$, c$r$e$a$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$</simpara>
<literallayout class="monospaced"># <literal>cat &lt;&lt;-END &gt; /etc/httpd/conf.d/status.conf</literal>
<literal>&lt;Location /server-status&gt;</literal>
<literal>SetHandler server-status</literal>
<literal>Order deny,allow</literal>
<literal>Deny from all</literal>
<literal>Allow from 127.0.0.1</literal>
<literal>Allow from ::1</literal>
<literal>&lt;/Location&gt;</literal>
<literal>END</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ <literal>I$P$a$d$d$r$2</literal> a$n$d$ <literal>a$p$a$c$h$e$</literal> r$e$s$o$u$r$c$eT$h$e$ 'I$P$a$d$d$r$2' r$e$s$o$u$r$c$e$ i$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ t$h$a$t$ m$u$s$t$ n$o$t$I$f$ t$h$e$ 'I$P$a$d$d$r$2' r$e$s$o$u$r$c$e$’s$ N$I$C$ d$e$v$i$c$e$ i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$, t$h$e$ f$l$o$a$t$i$n$g$ I$P$ m$u$s$t$ r$e$s$i$d$e$ o$n$ t$h$</simpara>
<simpara>Y$o$u$ c$a$n$ d$i$s$p$l$a$y$ a$ l$i$s$t$ o$f$ a$l$l$ a$v$a$i$l$a$b$l$e$ r$e$s$o$u$r$c$e$ t<literal role="command"></literal>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$e$s$c$r$i$b$e$ <emphasis>r$e$s$o$u$r$c$e$t$y$p$e$</emphasis></literal> c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ p$a$r$a$m$e$t<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource describe apache</literal>
...</literallayout>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ I$P$ a$d$d$r$e$s$s$ r$e$s$o$u$r$c$e$ a$n$d$ t$h$e$ a$p$a$c$h$e$ r$e$s$o$u$r$c$e$ a$r$e$ b$o$t$h$ c$o$n$f$i$g$u$r$e$d$ a$s$ p$a$r$t$ o$f$ a$ g$r$o$u$p$ n$a$m$e$d$ <literal>a$p$a$c$h$e$g$r$o$u$p$</literal>, w$h$i$c$h$ e$n$s$u$r$e$s$ t$h</simpara>
<literallayout class="monospaced"># <literal>pcs resource create ClusterIP ocf:heartbeat:IPaddr2 ip=192.168.122.120 --group apachegroup</literal>

# <literal>pcs resource create WebSite ocf:heartbeat:apache  configfile=/etc/httpd/conf/httpd.conf  statusurl="http://localhost/server-status" --group apachegroup</literal>

# <literal>pcs status</literal>
Cluster name: my_cluster
Stack: corosync
Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
Last updated: Fri Oct 12 09:54:33 2018
Last change: Fri Oct 12 09:54:30 2018 by root via cibadmin on z1.example.com

1 node configured
2 resources configured

Online: [ z1.example.com ]

Full list of resources:

Resource Group: apachegroup
    ClusterIP  (ocf::heartbeat:IPaddr2):       Started z1.example.com
    WebSite    (ocf::heartbeat:apache):        Started z1.example.com

PCSD Status:
  z1.example.com: Online
...</literallayout>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ c$o$n$f$i$g$u$r$e$d$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$, y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ c$o$n$f$i$g$</literal> c$</simpara>
<literallayout class="monospaced"># <literal>pcs resource config WebSite</literal>
Resource: WebSite (class=ocf provider=heartbeat type=apache)
 Attributes: configfile=/etc/httpd/conf/httpd.conf statusurl=http://localhost/server-status
 Operations: start interval=0s timeout=40s (WebSite-start-interval-0s)
             stop interval=0s timeout=60s (WebSite-stop-interval-0s)
             monitor interval=1min (WebSite-monitor-interval-1min)</literallayout>
</listitem>
<listitem>
<simpara>P$o$i$n$t$ y$o$u$r$ b$r$o$w$s$e$r$ t$o$ t$h$e$ w$e$b$s$i$t$e$ y$o$u$ c$r$e$a$t$e$d$ u$s$i$nT$h$i$s$ s$h$o$u$l$d$ d$i$s$p$l$a$y$ t$h$e$ t$e$x</simpara>
</listitem>
<listitem>
<simpara>S$t$o$p$ t$h$e$ a$p$a$c$h$e$ w$e$b$ s$e$r$v$i$c$e$ a$n$d$U$s$i$n$g$ <literal role="command">k$i$l$l$a$l$l$ -9</literal> s$i$m$u$l$a$t$e$s$ a$n$ a</simpara>
<literallayout class="monospaced"># <literal>killall -9 httpd</literal></literallayout>
<simpara>C$h$e$c$k$ t$h$e$ c$l$u$sY$o$u$ s$h$o$u$l$d$ s$e$e$ t$h$a$t$ s$t$o$p$p$i$n$g$ t$h$e$ w$e$b$ s$e$r$v$i$c$e$ c$a$u$s$e$d$ a$ f$a$i$l$e$d$ a$c$t$i$o$n$, b$u$t$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w</simpara>
<literallayout class="monospaced"># <literal>pcs status</literal>
Cluster name: my_cluster
...
Current DC: z1.example.com (version 1.1.13-10.el7-44eb2dd) - partition with quorum
1 node and 2 resources configured

Online: [ z1.example.com ]

Full list of resources:

Resource Group: apachegroup
    ClusterIP  (ocf::heartbeat:IPaddr2):       Started z1.example.com
    WebSite    (ocf::heartbeat:apache):        Started z1.example.com

Failed Resource Actions:
* WebSite_monitor_60000 on z1.example.com 'not running' (7): call=13, status=complete, exitreason='none',
    last-rc-change='Thu Oct 11 23:45:50 2016', queued=0ms, exec=0ms

PCSD Status:
    z1.example.com: Online</literallayout>
<simpara>Y$o$u$ c$a$n$ c$l$e$a$r$ t$h$e$ f$a$i$l$u$r$e$ s$t$a$t$u$s$ o$n$ t$h$e$ r$e$s$o$u$r$c$e$ t$h$a$t$ f$a$i$l$e$d$ o$n$c$e$ t$h$e$ s$e$r$v$i$c$e$ i$s$ u$p$ a$n$d$ r$u$n$n$i$n$g$ a$g$a$i$n$ a</simpara>
<literallayout class="monospaced"># <literal>pcs resource cleanup WebSite</literal></literallayout>
</listitem>
<listitem>
<simpara>W$h$e$n$ y$o$u$ a$r$e$ f$i$n$i$s$h$e$d$ l$o$o$k$i$n$g$ a$t$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ t$h$e$ c$l$u$s$t$eE$v$e$n$ t$h$o$u$g$h$ y$o$u$ h$a$v$e$ o$n$l$y$ s$t$a$r$t$e$d$ s$e$r$v$i$c$e$s$ o$n$ o$n$e$ n$o$d$e$ f$o$r$ t$h$i$s$ i$n$t$r$o$d$u$c$t$i$o$n$, t$h$e$ <literal>--a$l$l$</literal> p$a$r$a$m$e$t$e$r$ i$s$ i$n$c$l$u$</simpara>
<literallayout class="monospaced"># <literal>pcs cluster stop --all</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_learning-to-configure-failover-getting-started-with-pacemaker">
<title>L$e$a$r$n$i$n$g$ t$o$ c$o$n$f$</title>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ p$r$o$v$i$d$e$s$ a$n$ i$n$t$r$o$d$u$c$t$i$o$n$ t$o$ c$r$e$a$t$i$n$g$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ r$u$n$n$i$n$g$ a$ s$e$r$v$i$c$e$ t$h$a$t$ w$i$l$l$ f$a$i$l$ o$v$e$rB$y$ w$o$r$k$i$n$g$ t$h$r$o$u$g$h$ t$h$i$s$ p$r$o$c$e$d$u$r$e$, y$o$u$ c$a$n$ l$e$a$r$n$ h$o$w$ t$o$ c$r$e$a$t$e$ a$ s$e$r$v$i$c$e$ i$n$ a$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ a$n$d$ y$o$u$ c$a$n$ t$h</simpara>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ a$ t$w$o$-n$o$d$e$ P$a$c$e$m$Y$o$u$ c$a$n$ t$h$e$n$ s$t$o$p$ t$h$e$ A$p$a$c$h$e$ s$e$r$v$i$c$e$ o$n$ o$n$e$ n$o$d$e$ t$</simpara>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ r$e$q$u$i$r$e$s$ a$s$ a$ p$r$e$r$e$q$u$i$s$i$t$e$ t$h$a$t$ y$o$u$ h$a$v$e$ t$w$o$ n$o$d$e$s$ r$u$n$n$i$n$g$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8 t$h$a$t$ c$a$n$ c$o$m$m$u$n$i$c$a$t$e$ w$i$t$h$ e$a$c$h$ o$t$h$e$r$, a$n$d$ i$t$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$s$ u$s$e$d$ i$n$ t$h$i$s$ e$x$a$m$p$l$e$ a$r$e$ <literal>z$1.e$</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ u$s$e$d$ i$n$ t$h$i$</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>E$n$s$u$r$e$ t$h$a$t$ t$h$e$ n$a$m$e$s$ o$f$ t$h$e$ n$o$d$e$s$ y$o$u$ a$r$e$ u$s$i$n$g$ a<literal></literal></simpara>
</note>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$, i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s$ f$r$o$m$ t<literal></literal></simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-all</literal>
...
# <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, o$n$ b$o$t$h$ n$o$d$e$s$ e$n$a$b$l$e$ t$h$e$ p$o$r$t$s$ </simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd --reload</literal></literallayout>
</listitem>
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, s$e$t$ a$ p$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>passwd hacluster</literal></literallayout>
</listitem>
<listitem>
<simpara>A$u$t$h$e$n$t$i$c$a$t$e$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> f$o$r$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ o$n$ t$h$e$ <literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs host auth z1.example.com z2.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ c$l$u$s$t$e$r$ n$a$m$e$d$ <literal>m$y$_c$l$u$s$t$e$r$</literal> w$i$t$hT$h$i$s$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$n$d$ s$t$a$r$t$Y$o$u$ o$n$l$y$ n$e$e$d$ t$o$ r$u$n$ t$h$i$s$ f$r$o$m$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ b$e$c$a$u$s$e$ <literal>p$c$s$</literal> c$o$n</simpara>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ c$l$u$s$t$e$r$, r$u$n$ t</simpara>
<literallayout class="monospaced"># <literal>pcs cluster setup my_cluster --start  z1.example.com z2.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>A$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ r$e$q$u$i$r$e$s$ t$h$aT$h$e$ r$e$a$s$o$n$s$ f$o$r$ t$h$i$s$ r$e$q$u$i$r$e$m$e$n$t$ a$r$e$ d$e$s$c$r$i$b$e$d$ i$n$ <link xlink:href="https://access.redhat.com/solutions/15575">F$e$n</link>F$o$r$ t$h$i$s$ i$n$t$r$o$d$u$c$t$i$o$n$, h$o$w$e$v$e$r$, t$o$ s$h$o$w$ o$n$l$y$ h$o$w$ f$a$i$l$o$v$e$r$ w$o$r$k$s$ i$n$ t$h$i$s$ c$o$n$f$i$g$u$r$a$t$i$o$n$,<literal></literal><literal></literal></simpara>
<warning>
<simpara>T$h$e$ u$s$e$ o$f$ <literal>s$t$o$n$i$t$h$-e$n$a$b$l$e$d$=f$a$l$s$e$</literal> i$s$ c$o$m$p$l$e$t$e$l$y$ I$t$ t$e$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ s$i$m$p$l$y$ p$r$e$t$e$n$d$ t$h$</simpara>
</warning>
<literallayout class="monospaced"># <literal>pcs property set stonith-enabled=false</literal></literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ c$r$e$a$t$i$n$g$ a$ c$l$u$s$t$e$r$ a$n$d$ d$i$s$a$b$l$i$n$g$ f$e$n$c$</simpara>
<note>
<simpara>W$h$e$n$ y$o$u$ r$u$n$ t$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ s$t$a$t$u$s$</literal> c$o$m$m$a$n$d$, i$t$ m$a$y$ s$h$o$w$ o$u$t$p$u$t$ t$h$a$t$ t$e$m$p$o$r$a$r$i$l$y$ d$i</simpara>
</note>
<literallayout class="monospaced"># <literal>pcs cluster status</literal>
Cluster Status:
 Stack: corosync
 Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
 Last updated: Thu Oct 11 16:11:18 2018
 Last change: Thu Oct 11 16:11:00 2018 by hacluster via crmd on z1.example.com
 2 nodes configured
 0 resources configured

PCSD Status:
  z1.example.com: Online
  z2.example.com: Online</literallayout>
</listitem>
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$, c$o$n$f$i$g$u$r$e$ a$ w$e$b$ b$r$o$w$s$e$r$ a$n$d$ c$r$e$a$t$e$ a$ wI$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$n$a$b$l$e<literal></literal></simpara>
<note>
<simpara>D$o$ n$o$t$ u$s$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ e$n$a$b$l$e$</literal> t$o$ e$n$a$b$l$e$ a$n$y$ s$e$r$v$i$c$e$s$ t$h$a$t$ w$i$l$l$ </simpara>
</note>
<literallayout class="monospaced"># <literal>yum install -y httpd wget</literal>
...
# <literal>firewall-cmd --permanent --add-service=http</literal>
# <literal>firewall-cmd --reload</literal>

# <literal>cat &lt;&lt;-END &gt;/var/www/html/index.html</literal>
<literal>&lt;html&gt;</literal>
<literal>&lt;body&gt;My Test Site - $(hostname)&lt;/body&gt;</literal>
<literal>&lt;/html&gt;</literal>
<literal>END</literal></literallayout>
<simpara>I$n$ o$r$d$e$r$ f$o$r$ t$h$e$ A$p$a$c$h$e$ r$e$s$o$u$r$c$e$ a$g$e$n$t$ t$o$ g$e$t$ t$h$e$ s$t$a$t$u$s$ o$f$ A$p$a$c$h$e$, o$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ c$r$e$a$t$e$ t$h</simpara>
<literallayout class="monospaced"># <literal>cat &lt;&lt;-END &gt; /etc/httpd/conf.d/status.conf</literal>
<literal>&lt;Location /server-status&gt;</literal>
<literal>SetHandler server-status</literal>
<literal>Order deny,allow</literal>
<literal>Deny from all</literal>
<literal>Allow from 127.0.0.1</literal>
<literal>Allow from ::1</literal>
<literal>&lt;/Location&gt;</literal>
<literal>END</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ <literal>I$P$a$d$d$r$2</literal> a$n$d$ <literal>a$p$a$c$h$e$</literal> r$e$s$o$u$r$c$eT$h$e$ 'I$P$a$d$d$r$2' r$e$s$o$u$r$c$e$ i$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ t$h$a$t$ m$u$s$t$ n$o$t$I$f$ t$h$e$ 'I$P$a$d$d$r$2' r$e$s$o$u$r$c$e$’s$ N$I$C$ d$e$v$i$c$e$ i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$, t$h$e$ f$l$o$a$t$i$n$g$ I$P$ m$u$s$t$ r$e$s$i$d$e$ o$n$ t$h$</simpara>
<simpara>Y$o$u$ c$a$n$ d$i$s$p$l$a$y$ a$ l$i$s$t$ o$f$ a$l$l$ a$v$a$i$l$a$b$l$e$ r$e$s$o$u$r$c$e$ t<literal role="command"></literal>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$e$s$c$r$i$b$e$ <emphasis>r$e$s$o$u$r$c$e$t$y$p$e$</emphasis></literal> c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ p$a$r$a$m$e$t<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource describe apache</literal>
...</literallayout>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ I$P$ a$d$d$r$e$s$s$ r$e$s$o$u$r$c$e$ a$n$d$ t$h$e$ a$p$a$c$h$e$ r$e$s$o$u$r$c$e$ a$r$e$ b$o$t$h$ c$o$n$f$i$g$u$r$e$d$ a$s$ p$a$r$t$ o$f$ a$ g$r$o$u$p$ n$a$m$e$d$<literal></literal></simpara>
<simpara>R$u$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ f$r$o$</simpara>
<literallayout class="monospaced"># <literal>pcs resource create ClusterIP ocf:heartbeat:IPaddr2 ip=192.168.122.120 --group apachegroup</literal>

# <literal>pcs resource create WebSite ocf:heartbeat:apache configfile=/etc/httpd/conf/httpd.conf statusurl="http://localhost/server-status" --group apachegroup</literal>

# <literal>pcs status</literal>
Cluster name: my_cluster
Stack: corosync
Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
Last updated: Fri Oct 12 09:54:33 2018
Last change: Fri Oct 12 09:54:30 2018 by root via cibadmin on z1.example.com

2 nodes configured
2 resources configured

Online: [ z1.example.com z2.example.com ]

Full list of resources:

Resource Group: apachegroup
    ClusterIP  (ocf::heartbeat:IPaddr2):       Started z1.example.com
    WebSite    (ocf::heartbeat:apache):        Started z1.example.com

PCSD Status:
  z1.example.com: Online
  z2.example.com: Online
...</literallayout>
<simpara>N$o$t$e$ t$h$a$t$ i$n$ t$h$i$s$ i$n$s$t$a$n$c$e$, t$h$e$ <literal>a$p$a$c$h$e$g$r$o$u$p$</literal> s$e$r$</simpara>
</listitem>
<listitem>
<simpara>A$c$c$e$s$s$ t$h$e$ w$e$b$s$i$t$e$ y$o$u$ c$r$e$a$t$e$d$, s$t$o$p$ t$h$e$ s$e$r$v$i$c$e$ o$n$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ i$t$ i$s$ r$u$</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>P$o$i$n$t$ a$ b$r$o$w$s$e$r$ t$o$ t$h$e$ w$e$b$s$i$t$e$ y$o$u$ c$r$e$a$t$e$d$ u$s$i$n$g$T$h$i$s$ s$h$o$u$l$d$ d$i$s$p$l$a$y$ t$h$e$ t$e$x$t$ m$e$s$s$a$g$e$ y$o$u$ d$e$f$i$n$e$d$, d$i$s$p$l$a$y$i$n$g$ t$</simpara>
</listitem>
<listitem>
<simpara>S$t$o$p$ t$h$e$ a$p$a$c$h$e$U$s$i$n$g$ <literal role="command">k$i$l$l$a$l$l$ -9</literal> s$i$m$u$l$a$t$e$s$ a$n$ a</simpara>
<literallayout class="monospaced"># <literal>killall -9 httpd</literal></literallayout>
<simpara>C$h$e$c$k$ t$h$e$ c$l$u$sY$o$u$ s$h$o$u$l$d$ s$e$e$ t$h$a$t$ s$t$o$p$p$i$n$g$ t$h$e$ w$e$b$ s$e$r$v$i$c$e$ c$a$u$s$e$d$ a$ f$a$i$l$e$d$ a$c$t$i$o$n$, b$u$t$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ r$e$s$t$a$r$t$e$d$ t$h$e$ s$e$r$v$i$c</simpara>
<literallayout class="monospaced"># <literal>pcs status</literal>
Cluster name: my_cluster
Stack: corosync
Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
Last updated: Fri Oct 12 09:54:33 2018
Last change: Fri Oct 12 09:54:30 2018 by root via cibadmin on z1.example.com

2 nodes configured
2 resources configured

Online: [ z1.example.com z2.example.com ]

Full list of resources:

Resource Group: apachegroup
    ClusterIP  (ocf::heartbeat:IPaddr2):       Started z1.example.com
    WebSite    (ocf::heartbeat:apache):        Started z1.example.com

Failed Resource Actions:
* WebSite_monitor_60000 on z1.example.com 'not running' (7): call=31, status=complete, exitreason='none',
    last-rc-change='Fri Feb  5 21:01:41 2016', queued=0ms, exec=0ms</literallayout>
<simpara>C$l$e$a$r$ t$h$e$ f$a$i$l$u$r$e$ s$t$a$t$u$s$ o$n$c$e$ t$h$e$ s$e$</simpara>
<literallayout class="monospaced"># <literal>pcs resource cleanup WebSite</literal></literallayout>
</listitem>
<listitem>
<simpara>P$u$t$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ t$h$e$ s$e$r$v$i$c$e$ i$N$o$t$e$ t$h$a$t$ s$i$n$c$e$ w$e$ h$a$v$e$ d$i$s$a$b$l$e$d$ f$e$n$c$i$n$g$ w$e$ c$a$n$ n$o$t$ e$f$f$e$c$t$i$v$e$l$y$ s$i$m$u$l$a$t$e$ a$ n$o$d$e$-l$e$v$e$l$ f$a$i$l$u$r$e$ (s$u$c$h$ a$s$ p$u$l$l$i$n$g$ </simpara>
<literallayout class="monospaced"># <literal>pcs node standby z1.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ n$o$t$e$ </simpara>
<literallayout class="monospaced"># <literal>pcs status</literal>
Cluster name: my_cluster
Stack: corosync
Current DC: z1.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
Last updated: Fri Oct 12 09:54:33 2018
Last change: Fri Oct 12 09:54:30 2018 by root via cibadmin on z1.example.com

2 nodes configured
2 resources configured

Node z1.example.com: standby
Online: [ z2.example.com ]

Full list of resources:

Resource Group: apachegroup
    ClusterIP  (ocf::heartbeat:IPaddr2):       Started z2.example.com
    WebSite    (ocf::heartbeat:apache):        Started z2.example.com</literallayout>
</listitem>
<listitem>
<simpara>A$c$c$e$s$s$ t$h$e$T$h$e$r$e$ s$h$o$u$l$d$ b$e$ n$o$ l$o$s$s$ o$f$ s$e$r$v$i$c$e$, a$l$t$h$o$u$g$h$ t$h$e$ d$i$s$p$l$a$y$ m$e$s$s$a$g$e$ s$h$o$u$</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>T$o$ r$e$s$t$o$r$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ t$o$ t$h$e$ f$i$r$s$t$ n$o$d$T$h$i$s$ w$i$l$l$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$o$v$e$ t$h$</simpara>
<literallayout class="monospaced"># <literal>pcs node unstandby z1.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>F$o$r$ f$i$n$a$l$ c$l$e$a$n$u$p$, s$t$o$p$ t$h$e$ c$l$u$s$t</simpara>
<literallayout class="monospaced"># <literal>pcs cluster stop --all</literal></literallayout>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_pcs-operation-configuring-and-managing-high-availability-clusters">
<title>T$h$e$ p$c$s$ c$o$m$m$a$n$d$ l</title>
<simpara>T$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ l$i$n$e$ i$n$t$e$r$f$a$c$e$ c$o$n$t$r$o$l$s$ a$n$d$ c$o$n$f$i$g$u$r$e$s$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ s$u$c$h$ a$s$ <literal>c$o$r$o$s$y$n$c$</literal>, <literal>p$a$c$e$m$a</literal><literal></literal><literal></literal></simpara>
<simpara>N$o$t$e$ t$h$a$t$ y$o$u$ s$h$o$u$l$d$ n$o$t$ e$d$i$t$ t$h$e$ <literal>c$i$b$.x$</literal>I$n$ m$o$s$t$ c$a$s$e$s$, P$a$c$e$m$a$k$e$r$ w$i$l$l$ r$e$j$e$c$t$ a$ <literal></literal></simpara>
<section xml:id="proc_pcs-help-pcs-operation">
<title>p$c$s$ h$e$l$p$ </title>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal>-h$</literal> o$p$t$i$o$n$ o$f$ <literal role="command">p$c$s$</literal> t$o$ d$i$s$p$l$a$y$ t$h$e$ p$a$r$a$m$e$t$e$r$s$ o$f$ a$ <literal role="command">p</literal>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$<literal role="command"></literal>O$n$l$y$ a$ p$o$r$t$i$o$n$ o$f$ t$h$e$</simpara>
<literallayout class="monospaced"># <literal>pcs resource -h</literal></literallayout>
</section>
<section xml:id="proc_raw-config-pcs-operation">
<title>V$i$e$w$i$n$g$ t$h$e$ r$a$w$ c$l$u$s$</title>
<simpara>A$l$t$h$o$u$g$h$ y$o$u$ s$h$o$u$l$d$ n$o$t$ e$d$i$t$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$ d$i$r$e$c$t$l$y$, y$o$u$ c$a$n$ v$i<literal role="command"></literal></simpara>
<simpara>Y$o$u$ c$a$n$ s$a$v$e$ t$h$e$ r$a$w$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$o$ a$ s$p$e$c$i$f$i$e$d$<literal role="command"><emphasis></emphasis></literal>I$f$ y$o$u$ h$a$v$e$ p$r$e$v$i$o$u$s$l$y$ c$o$n$f$i$g$u$r$e$d$ a$ c$l$u$s$t$e$r$ a$n$d$ t$h$e$r$e$ i$s$ a$l$r$e$a$d$y$ a$n$ a$c$t$i$v$e</simpara>
<literallayout class="monospaced">pcs cluster cib <emphasis>filename</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$a$v$e$s$ t$h$e$ r$a$w$ x$m$<literal></literal></simpara>
<literallayout class="monospaced">pcs cluster cib testfile</literallayout>
</section>
<section xml:id="proc_configure-testfile-pcs-operation">
<title>S$a$v$i$n$g$ a$ c$o$n$f$i$g$u$r$a$t$i$o$n$ c$h$</title>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ c$l$u$s$t$e$r$, y$o$u$ c$a$n$ s$a$v$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ c$h$a$n$g$e$s$ T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ s$p$e$c$i$f$y$ c$o$n$f$i$g$u$r$a$t$i$o$n$ u$p$d$a$t$e$s$ w$i$t$h$o$u$t$ i$m$m$e$d$i$a$t$e$l$y$ u$p$d$a$t$i$n$g$ t$h$</simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$a$v$i$n$g$ t$h$e$ C$I$B$ t$o$ a$ f$i$l$e$, s$e$e$ <link linkend="proc_raw-config-pcs-operation"></link>O$n$c$e$ y$o$u$ h$a$v$e$ c$r$e$a$t$e$d$ t$h$a$t$ f$i$l$e$, y$o$u$ c$a$n$ s$a$v$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ c$h$a$n$g$e$s$ t$o$ t$h$a$t$ f$i$l$e$ r$a$t$<literal></literal><literal></literal>W$h$e$n$ y$o$u$ h$a$v$e$ c$o$m$p$l$e$t$e$d$ t$h$e$ c$h$a$n$g$e$s$ a$n$d$ a$r$e$ r$e$a$d$y$ t$o$ u$p$d$a$t$e$ t$h$e$ a$c$t$i$v$e$ C$I$B$ f$i$l$e$, y$o$u<literal role="command"></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ i$s$ t$h$e$ r$e$c$o$m$m$e$n$d$e$d$ p$r$o$c$e$d$u$r$e$T$h$i$s$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$ c$o$p$y$ o$f$ t$h$e$ o$r$i$g$i$n$a$l$ s$a$v$e$W$h$e$n$ p$u$s$h$i$n$g$ t$h$o$s$e$ c$h$a$n$g$e$s$ t$o$ t$h$e$ a$c$t$i$v$e$ C$I$B$, t$h$i$s$ p$r$o$c$e$d$u$r$e$ s$p$e$c$i$f$i$e$s$ t$h$e$ <literal>d$i$f$f$-a$g$a$i$n$s$t$</literal> o$p$t$i$o$n$ o$f$ t$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ c$i$b$-p$u$s$h$</literal> cT$h$i$s$ a$l$l$o$w$s$ u$s$e$r$s$ t$o$ m$a$k$e$ c$h$a$n$g$e$s$ i$n$ p$a$r$a$l$l$e$l$ t$h$a$t$ d$o$ n$o$t$ o$v$e$r$w$r$i$t$e$ e$a$c$h$ o$t$h$e$r$, a$n$d$ i$t$ r$e$d$u$c$e$s$ t$h$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$a$v$e$ t$h$e$ a$c$t$i$v$e$ CT$h$i$s$ e$x$a$m$p$l$e$ s$a$v$e$s$ t$h$e$ C$I$B$ t$o$ a$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs cluster cib original.xml</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$p$y$ t$h$e$ s$a$v$e$d$ f$i$l$e$ t$o$ t$h$e$ w$o$r$k$i$n$g$ f$i$l$e$ y$o$u$ w$i$l$l$ </simpara>
<literallayout class="monospaced"># <literal>cp original.xml updated.xml</literal></literallayout>
</listitem>
<listitem>
<simpara>U$p$d$a$t$e$ y$o$u$r$ c$o$n$f$i$g$u$T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r$c$e$ i$n$ t$h$e$ f$i$l$e$ <literal>u$p$d$a$t$e$d$.x$m$l$</literal> b$u$t$ d$o$e$s$ n$o$t$ a</simpara>
<literallayout class="monospaced"># <literal>pcs -f updated.xml resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.120 op monitor interval=30s</literal></literallayout>
</listitem>
<listitem>
<simpara>P$u$s$h$ t$h$e$ u$p$d$a$t$e$d$ f$i$l$e$ t$o$ t$h$e$ a$c$t$i$v$e$ C$I$B$, s$p$e$c$i$f$y$i$n$g$ t$h$a$t$ y$o$u$ a$r$e$ p$u$s$h$</simpara>
<literallayout class="monospaced"># <literal>pcs cluster cib-push updated.xml diff-against=original.xml</literal></literallayout>
</listitem>
</orderedlist>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ p$u$s$h$ t$h$e$ e$n$t$i$r$e$ c$u$r$r$e$n$t$ c$o$n$t$e$n$</simpara>
<literallayout class="monospaced">pcs cluster cib-push <emphasis>filename</emphasis></literallayout>
<simpara>W$h$e$n$ p$u$s$h$i$n$g$ t$h$e$ e$n$t$i$r$e$ C$I$B$ f$i$l$e$, P$a$c$e$m$a$k$e$r$ c$h$e$c$k$s$ t$h$e$ v$e$r$s$i$o$n$ a$n$d$ d$o$e$s$ n$o$t$ a$l$l$o$w$ y$o$uI$f$ y$o$u$ n$e$e$d$ t$o$ u$p$d$a$t$e$ t$h$e$ e$n$t$i$r$e$ C$I$B$ f$i$l$e$ w$i$t$h$ a$ v$e$r$s$i$o$n$ t$h$a$t$ i$s$ o$l$d$e$r$ t$h$a$n$ t$h$e$ o$n$e$ c$u$r$r$e$n$t$l$y$ i$n$ t$h$<literal></literal><literal role="command"></literal></simpara>
<literallayout class="monospaced">pcs cluster cib-push --config <emphasis>filename</emphasis></literallayout>
</section>
<section xml:id="proc_cluster-status-pcs-operation">
<title>D$i$s$p$l$a$y$i$n$g$ c$l$</title>
<simpara>Y$o$u$ c$a$n$ d$i$s$p$l$a$y$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ t$h$e$ c$l$u</simpara>
<literallayout class="monospaced">pcs status</literallayout>
<simpara>Y$o$u$ c$a$n$ d$i$s$p$l$a$y$ t$h$e$ s$t$a$t$u$s$ o$f$ a$ p$a$r$t$i$c$u$l$a$r$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e$n$t$ w$i$t$h$ t$h$e$ <emphasis>c$o$m$m$a$n$d$s$</emphasis> p$a$r$a$m$e$t$e$r<literal role="command"></literal><literal></literal><literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">pcs status <emphasis>commands</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$</simpara>
<literallayout class="monospaced">pcs status resources</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e</simpara>
<literallayout class="monospaced">pcs cluster status</literallayout>
</section>
<section xml:id="proc_cluster-config-display-pcs-operation">
<title>D$i$s$p$l$a$y$i$n$g$ t$h$e$ f$u$l$l$ c$l$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ t$h$e$ f</simpara>
<literallayout class="monospaced">pcs config</literallayout>
</section>
<section xml:id="proc_pcs-corosync-manage-pcs-operation">
<title>M$o$d$i$f$y$i$n$g$ t$h$e$ c$o$r$o$s$y$n$c$.c$o$n$f$ f$i$l$e$ w$i$t$h$ t$h$</title>
<simpara role="_abstract">A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.4, y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal>p$c$s$</literal> c$o$m$m$a$n$d$ t$o$<literal></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ m$o$d$i$f$i$e$s$ t$h$e$ p$a$r$a<literal></literal></simpara>
<literallayout class="monospaced">pcs cluster config update [transport <emphasis>transport options</emphasis>] [compression <emphasis>compression options</emphasis>] [crypto <emphasis>crypto options</emphasis>] [totem <emphasis>totem options</emphasis>] [--corosync_conf <emphasis>path</emphasis>]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$ u$d$a$t$e$s$ t$h$e$ <literal>k$n$e$t$_p$m$t$u$d$_i$n$t$e$r$v$a$l$</literal> <literal></literal><literal></literal></simpara>
<literallayout class="monospaced">pcs cluster config update transport knet_pmtud_interval=35 totem token=10000 join=100</literallayout>
<itemizedlist>
<title>A$d$d$i$t$i$o$n$a$l$</title>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$d$d$i$n$g$ a$n$d$ r$e$m$o$v$i$n$g$ n$o$d$e$s$ f$r$o$m$ a$n$ e<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#assembly_clusternode-management-configuring-and-managing-high-availability-clusters"></link></simpara>
</listitem>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$d$d$i$n$g$ a$n$d$ m$o$d$i$f$y$i$n$g$ l$i$n$k$s$ i$n$ a$n$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#assembly_clusternode-management-configuring-and-managing-high-availability-clusters"></link></simpara>
</listitem>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ m$o$d$i$f$y$n$g$ q$u$o$r$u$m$ o$p$t$i$o$n$s$ a$n$d$ m$a$n$a$g$i$n$g$ t$h$e$ q$u$o<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#assembly_configuring-cluster-quorum-configuring-and-managing-high-availability-clusters"></link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_pcs-corosync-display-pcs-operation">
<title>D$i$s$p$l$a$y$i$n$g$ t$h$e$ c$o$r$o$s$y$n$c$.c$o$n$f$ </title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ c$o$n$t$e$n$t$s$ o$f$ t$h$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs cluster corosync</literal></literallayout>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.4, y$o$u$ c$a$n$ p$r$i$n$t$ t$h$e$ c$o$n$t$e$n$t$s$ o$f$ t$h$e$ <literal>c$o$r$o$s$y$n$c$.c$o$n$f$</literal> f$i$l$e$ i$n$ a$ h$u$m$a$n$-r$e$a<literal></literal></simpara>
<literallayout class="monospaced">[root@r8-node-01 ~]# <literal>pcs cluster config</literal>
Cluster Name: HACluster
Transport: knet
Nodes:
  r8-node-01:
    Link 0 address: r8-node-01
    Link 1 address: 192.168.122.121
    nodeid: 1
  r8-node-02:
    Link 0 address: r8-node-02
    Link 1 address: 192.168.122.122
    nodeid: 2
Links:
  Link 1:
    linknumber: 1
    ping_interval: 1000
    ping_timeout: 2000
    pong_count: 5
Compression Options:
  level: 9
  model: zlib
  threshold: 150
Crypto Options:
  cipher: aes256
  hash: sha256
Totem Options:
  downcheck: 2000
  join: 50
  token: 10000
Quorum Device: net
  Options:
    sync_timeout: 2000
    timeout: 3000
  Model Options:
    algorithm: lms
    host: r8-node-03
  Heuristics:
    exec_ping: ping -c 1 127.0.0.1</literallayout>
<simpara>A$d$d$i$t$i$o$n$a$l$l$y$, a$s$ o$f$ R$H$E$L$ 8.4, y$o$u$ c$a$n$ r$u$n$ t$h$e$ <literal>p$c$s$ c$l$u$s$t$e$r$ c$o$n$f$i$g$ s$h$o$w$</literal> c$o$m$m$a$n$d$ w$i$t$h$ t$h$e$ <literal>--o$u$t$p$u$t$-f$o$r$m$a$t$=c$m$d$</literal> o$p$t$i$o$n$ t$o$ d$i$s$p$l$a$y$ t$h$e$ <literal>p$c$s$</literal> c$o$n$f$i$g<literal></literal></simpara>
<literallayout class="monospaced">[root@r8-node-01 ~]# <literal>pcs cluster config show --output-format=cmd</literal>
pcs cluster setup HACluster \
  r8-node-01 addr=r8-node-01 addr=192.168.122.121 \
  r8-node-02 addr=r8-node-02 addr=192.168.122.122 \
  transport \
  knet \
    link \
      linknumber=1 \
      ping_interval=1000 \
      ping_timeout=2000 \
      pong_count=5 \
    compression \
      level=9 \
      model=zlib \
      threshold=150 \
    crypto \
      cipher=aes256 \
      hash=sha256 \
  totem \
    downcheck=2000 \
    join=50 \
    token=10000</literallayout>
</section>
</chapter>
<chapter xml:id="assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters">
<title>C$r$e$a$t$i$n$g$ a$ R$e$d$ H$a$t$ H$i$g$h$-A$v$a$i$l$a$b$i$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$ R$e$d$ H$a$t$ H$i$g$h$ A<literal role="command"></literal></simpara>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ i$n$ t$h$i$s$ e$x$a$m$p$l$e$ r$e$q$u$i$r$e$s$ t$h$a$t$</simpara>
<itemizedlist>
<listitem>
<simpara>2 n$o$d$e$s$, w$h$i$c$h$ w$i$l$l$ b$e$ u$s$e$d$ t$I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ n$o$d$e$s$ u$s$e$d$ a$r$e$ <literal>z$1.e$</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>N$e$t$w$o$r$k$ s$w$i$t$c$h$e$s$ f$o$r$ t$W$e$ r$e$c$o$m$m$e$n$d$ b$u$t$ d$o$ n$o$t$ r$e$q$u$i$r$e$ a$ p$r$i$v$a$t$e$ n$e$t$w$o$r$k$ f$o$r$ c$o$m$m$u$n$i$c$a$t$i$o$n$ a$m$o$n$g$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$n$d$ o</simpara>
</listitem>
<listitem>
<simpara>A$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ f$o$r$ e$a$c$h$T$h$i$s$ e$x$a$m$p$l$e$ u$s$e$s$ t$w$o$ p$o$r$t$s$ o$f$ t$h$e$ A$P$C$ p$o$w$e$r$ s$w$i$t$<literal></literal></simpara>
</listitem>
</itemizedlist>
<section xml:id="proc_installing-cluster-software-creating-high-availability-cluster">
<title>I$n$s$t$a$l$l$i$n$g$ c$l$u$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ i$n$s$t$a$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ a</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s</simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-all</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$i$v$e$l$y$, y$o$u$ c$a$n$ i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s$ a$l$</simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-<emphasis>model</emphasis></literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ a$ l$i$s$t</simpara>
<literallayout class="monospaced"># <literal>rpm -q -a | grep fence</literal>
fence-agents-rhevm-4.0.2-3.el7.x86_64
fence-agents-ilo-mp-4.0.2-3.el7.x86_64
fence-agents-ipmilan-4.0.2-3.el7.x86_64
...</literallayout>
<warning>
<simpara>A$f$t$e$r$ y$o$u$ i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ p$a$c$k$a$g$e$s$, y$o$u$ s$h$o$u$l$d$ e$n$s$u$r$e$ t$h$a$t$ y$o$u$r$ s$oI$n$s$t$a$l$l$a$t$i$o$n$ o$n$ a$ r$u$n$n$i$n$g$ c$l$u$s$t$e$r$ c$F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$, s$e$e$ <link xlink:href="https://access.redhat.com/articles/2059253/">R$e$c$o$m$m$e$n$d$e$d$ P$r$a$c$t$i$c$e$s$ f$o$r$ A$p$p$l$y$i$n$g$ S$o$f$t$w$a$r$e$ U$p$d</link></simpara>
</warning>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ e$n$a$b$l$e$ </simpara>
<note>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$ i$s$ i$n$s$t$a$l$l$e$d<literal role="command"></literal>I$f$ i$t$ i$s$ i$n$s$t$a$l$l$e$d$, y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ i$t$ i$s$ r$u$n<literal role="command"></literal></simpara>
</note>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd  --add-service=high-availability</literal></literallayout>
<note>
<simpara>T$h$e$ i$d$e$a$l$ f$i$r$e$w$a$l$l$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$r$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e$n$t$s$ d$e$p$e$n$d$s$ o$n$ t$h$e$ l$o$c$a$l$ e$n$v$i$r$o$n$m$e$n$t$, w$h$e$r$e$ y$o$u$ m$a$y$ n$e$e$d$ t$o$ t$a$k$e$ i$n$t$o$ a$c$c$o$u$n$t$ s$u$c$h$T$h$e$ e$x$a$m$p$l$e$ h$e$r$e$, w$h$i$c$h$ o$p$e$n$s$ t$h$e$ p$o$r$t$s$ t$h$a$t$ a$r$e$ g$e$n$e$r$a$l$l$y$ r$e$q$u$i$r$e$d$ b$y$ a$ P$a$<link linkend="proc_enabling-ports-for-high-availability-creating-high-availability-cluster">E$n$a$b$l$i$n$g$ p$o$r$t$s$ f$o$r$ t$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$</link> s$h$o$w$s$ t$h$e$ p$o$r$t$s$ t$o$ e$n$a$b$l$e$ f$o$r$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$</simpara>
</note>
</listitem>
<listitem>
<simpara>I$n$ o$r$d$e$r$ t$o$ u$s$e$ <literal>p$c$s$</literal> t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ c$o$m$m$u$n$i$c$a$t$e$ a$m$o$n$g$ t$h$e$ n$o$d$e$s$, y$o$u$ m$u$s$t$ s$e$t$ a$ p$a$s$s$w$o$r$d<literal></literal><literal></literal>I$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ t$h$e$ p$a$s$s$w$o$r$d$ f$o$r$ u$s$e$r<literal></literal></simpara>
<literallayout class="monospaced"># <literal>passwd hacluster</literal>
Changing password for user hacluster.
New password:
Retype new password:
passwd: all authentication tokens updated successfully.</literallayout>
</listitem>
<listitem>
<simpara>B$e$f$o$r$e$ t$h$e$ c$l$u$s$t$e$r$ c$a$n$ b$e$ c$o$n$f$i$g$u$r$e$d$, t$h$e$ <literal role="command">p$c$s$d$</literal> d$a$e$m$o$n$ m$u$s$t$ b$e$ s$tT$h$i$s$ d$a$e$m$o$n$ w$o$r$k$s$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ t$o$ m$a$n$a$g$e$ c$o$n$</simpara>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ s$t$a$r<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_installing-pcp-zeroconf-creating-high-availability-cluster">
<title>I$n$s$t$a$l$l$i$n$g$ t$h$e$ p$c$p$-z$e$r$o$c$o$n$</title>
<simpara>W$h$e$n$ y$o$u$ s$e$t$ u$p$ y$o$u$r$ c$l$u$s$t$e$r$, i$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ y$o$u$ i$n$s$t$a$l$l$ t$h$e$ <literal>p$c$p$</literal>P$C$P$ i$s$ R$e$d$ H$a$t$’s$ r$e$c$o$m$m$e$n$d$e$d$ r$e$s$o$u$r$c$e$-m$I$n$s$t$a$l$l$i$n$g$ t$h$e$ <literal>p$c$p$-z$e$r$o$c$o$n$f$</literal> p$a$c$k$a$g$e$ a$l$l$o$w$s$ y$o$u$ t$o$ h$a$v$e$ P$C$P$ r$u$n$n$i$n$g$ a$n$d$ c$o$l$l$e$c$t$i$n$g$ p$e$r$f$o$r$m$a$n$c$e$-m$o$n$i$t$o$r$i$n$g$ d$a$t$a$ f$o$r$ t$h$e$ b</simpara>
<note>
<simpara>C$l$u$s$t$e$r$ d$e$p$l$o$y$m$e$n$t$s$ w$h$e$r$e$ P$C$P$ i$s$ e$n$a$b$l$e$d$ w$i$l$l$ n$e$e$d$ s$u$f$f$i$c$i$e$n$t$ s$p$a$c$e$ a$v$a$i$l$a$b$l$e$ f$o$<literal></literal>T$y$p$i$c$a$l$ s$p$a$c$e$ u$s$a$g$e$ b$y$ P$C$P$ v$a$r$i$e$s$ a$c$r$o$s$s$ d$e$p$l$o$y$m$e$n$t$s$, b$u$t$ 10G$b$ i$s$ u$s$u$a$l$l$y$ s$u$f$f$i$c$i$e$n$t$ w$h$e$n$ u$s$i$n<literal></literal>M$o$n$i$t$o$r$i$n$g$ u$s$a$g$e$ i$n$ t$h$i$s$ d$i$r$e$c$t$o$r$y$ o$v$e$r$ a$ 14-d$a$y$ p$e$r$i$o$d$ o$f$ t$y$p$i$c$a$l$ a$</simpara>
</note>
<simpara>T$o$ i$n$s$t$a$l$l$ t$h$e$ <literal>p$c$p$-z$e$r$o$c$o$n$f$</literal> p$a$c$k$a$g$</simpara>
<literallayout class="monospaced"># <literal>yum install pcp-zeroconf</literal></literallayout>
<simpara>T$h$i$s$ p$a$c$k$a$g$e$ e$n$a$b$l$e$s$ <literal>p$m$c$d$</literal> a$n$d$ s$e$t$s$ u$p$ d$a$t$</simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ r$e$v$i$e$w$i$n$g$ P$C$P$ d$a$t$a$, s$e$e$ <link xlink:href="https://access.redhat.com/solutions/4545111">W$h$y$ d$i$d$ a$ R$H$E$L$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ n$o$d$e$ r$e$b$o$o$t$ -</link></simpara>
</section>
<section xml:id="proc_creating-high-availability-cluster-creating-high-availability-cluster">
<title>C$r$e$a$t$i$n$g$ a$ h$i$g$h$ a$v$a$i</title>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ c$l$u$s$t$e$r$ t$h$a$<literal></literal><literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$u$t$h$e$n$t$i$c$a$t$e$ t$h$e$ <literal role="command">p$c$s$</literal> u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> f$o$r$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$<literal role="command"></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ a$u$t$h$e$n$t$i$c$a$t$e$s$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> o$n$ <literal>z$1.e$x$a$m$p$l$e$.c$o$m$</literal> f$o$r$ b$o$t$h$ o$f$ t$h$e$ n$o$d$e$s$ i$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs host auth z1.example.com z2.example.com</literal>
Username: <literal>hacluster</literal>
Password:
z1.example.com: Authorized
z2.example.com: Authorized</literallayout>
</listitem>
<listitem>
<simpara>E$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ f$r$o$m$ <literal>z$1.e$x$a$m$p$l$e$.c$o$m$</literal> t$o$ c$r$e$a$t$e$ t$h$e$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ <literal>m$</literal><literal></literal><literal></literal>T$h$i$s$ w$i$l$l$ p$r$o$p$a$g$a$t$e$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$T$h$i$s$ c$o$m$m$a$n$d$ i$n$c$l$u$d$e$s$ t$h$e$ <literal>--s$t$a$r$t$</literal> o$p$t$i$o$n$, w$h$i$c$h$ w$i$l$l$ s$t$a$r$t$ t$h</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs cluster setup my_cluster --start</literal> <literal>z1.example.com z2.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>E$n$a$b$l$e$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ t$o$ r$u$n$ o$n$ e$a$c$h$ n$o$d$e$ </simpara>
<note>
<simpara>F$o$r$ y$o$u$r$ p$a$r$t$i$c$u$l$a$r$ e$n$v$i$r$o$n$m$e$n$t$, y$o$u$ m$a$y$ c$h$o$o$s$e$ t$o$ l$e$a$v$e$ t$h$eT$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ e$n$s$u$r$e$ t$h$a$t$ i$f$ a$ n$o$d$e$ g$o$e$s$ d$o$w$n$, a$n$y$ i$s$s$u$e$s$ w$i$t$h$ y$o$u$r$ c$l$u$s$t$e$r$ o$rI$f$ y$o$u$ l$e$a$v$e$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ d$i$s$a$b$l$e$d$, y$o$u$ w$i$l$l$ n$e$e$d$ t$o$ m$a$n$u$a$l$l$y$ s$t$a$r$t$ t$h$e$ s$e$r$v$i$c$e$s$ w$h$e$<literal role="command"></literal></simpara>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs cluster enable --all</literal></literallayout>
</listitem>
</orderedlist>
<simpara>Y$o$u$ c$a$n$ d$i$s$p$l$a$y$ t$h$e$ c$u$r$r$e$n$t$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$<literal role="command"></literal>B$e$c$a$u$s$e$ t$h$e$r$e$ m$a$y$ b$e$ a$ s$l$i$g$h$t$ d$e$l$a$y$ b$e$f$o$r$e$ t$h$e$ c$l$u$s$t$e$r$ i$s$ u$p$ a$n$d$ r$u$n$n$i$n$g$ w$h$e$n$ y$o$u$ s$t$a$r$t$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ w$i$t$h$ t$h$e$ <literal role="option">--s$t$a$r$t$</literal> o$p$t$i$o$n$ o$f$ t$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ s$e$t$u$p$</literal> c$o$m$m$a$n$d</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs cluster status</literal>
Cluster Status:
 Stack: corosync
 Current DC: z2.example.com (version 2.0.0-10.el8-b67d8d0de9) - partition with quorum
 Last updated: Thu Oct 11 16:11:18 2018
 Last change: Thu Oct 11 16:11:00 2018 by hacluster via crmd on z2.example.com
 2 Nodes configured
 0 Resources configured

...</literallayout>
</section>
<section xml:id="proc_configure-multiple-ip-cluster-creating-high-availability-cluster">
<title>C$r$e$a$t$i$n$g$ a$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$</title>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ s$e$t$u$p$</literal> c$o$m$m$a$n$d$ t$o$ c$r$e$a$t$e$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$</simpara>
<simpara>T$h$e$ f$o$r$m$a$t$ f$o$r$ t$h$e$ c$o$m$m$a$n$d$ t$o$ c$r$e$a$t$e$ a$ t$w$o$-n$o$d$e$</simpara>
<literallayout class="monospaced">pcs cluster setup <emphasis>cluster_name</emphasis> <emphasis>node1_name</emphasis> addr=<emphasis>node1_link0_address</emphasis> addr=<emphasis>node1_link1_address</emphasis> <emphasis>node2_name</emphasis> addr=<emphasis>node2_link0_address</emphasis> addr=<emphasis>node2_link1_address</emphasis></literallayout>
<simpara>W$h$e$n$ c$r$e$a$t$i$n$g$ a$ c$l$u$s$t$e$r$ w$i$t$h$ m$u$l$t$i$p$l$e$ l$i$n$k$s$, y$o$u$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ o$r$d$e$r$ o$f$ t$h$e$ <literal>a$d$d$r$=<emphasis>a$d$d$r$e$s$s$</emphasis></literal> T$h$e$ f$i$r$s$t$ a$d$d$r$e$s$s$ s$p$e$c$i$f$i$e$d$ a$f$t$e$r$ a$ n$o$d$e$ n$a$m$e$ i$s$ f$o$r$ <literal>l$i</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>I$t$ i$s$ p$o$s$s$i$b$l$e$ t$o$ s$p$e$c$i$f$y$ u$p$ t$o$ e$i$g$h$t$ l$i$n$k$s$ u$s$i$n$g$ t$h$e$ k$n$e$t$ t$r$a$n$s$p$o</simpara>
</listitem>
<listitem>
<simpara>A$l$l$ n$o$d$e$s$ m$u$s$t$ h$a$v$e$ t$h$e$ s$a$m$e$ n$u$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>A$s$ o$f$ R$H$E$L$ 8.1, i$t$ i$s$ p$o$s$s$i$b$l$e$ t$o$ a$d$d$, r$e$m$o$v$e$, a$n$d$ c$h$a$n$g$e$ l$i$n$k$s$ i$n$ a$n$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ u$s$i$n$g$ t$h$e$ <literal>p$c$s$ c$l$u$s$t$e$r$ l$i$n$k$ a$d$d$</literal>, t$h$e$ <literal>p$c</literal><literal></literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>A$s$ w$i$t$h$ s$i$n$g$l$e$-l$i$n$k$ c$l$u$s$t$e$r$s$, d$o$ n$o$t$ m$i$x$ I$P$v$4 a$n$d$ I$P$v$6 a$d$d$r$e$s$s$e$s$ i$n$ o$n$e$ l$i$n$k$, a$l$t$h$o$u$</simpara>
</listitem>
<listitem>
<simpara>A$s$ w$i$t$h$ s$i$n$g$l$e$-l$i$n$k$ c$l$u$s$t$e$r$s$, y$o$u$ c$a$n$ s$p$e$c$i$f$y$ a$d$d$r$e$s$s$e$s$ a$s$ I$P$ a$d$d$r$e$s$s$e$s$ o$r$ a$s$ n$a$m$e$s$ a$s$ l$o$n$g$ a$s$ t$h$e$ n$a$m$e$s$ r$e$s$o$l$</simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ a$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ n$a$m$e$d$ <literal>m$y$_t$w$o$l$i$</literal><literal></literal><literal></literal><literal>r$h$80-n$o$d$e$1</literal> h$a$s$ t$w$o$ i$n$t$e$r$f$a$c$e$s$, I$P$ a$d$d$r$e$s$s$ 192.168.122.201 a$s$ <literal>l$</literal><literal></literal><literal>r$h$80-n$o$d$e$2</literal> h$a$s$ t$w$o$ i$n$t$e$r$f$a$c$e$s$, I$P$ a$d$d$r$e$s$s$ 192.168.122.202 a$s$ <literal>l$</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs cluster setup my_twolink_cluster rh80-node1 addr=192.168.122.201 addr=192.168.123.201 rh80-node2 addr=192.168.122.202 addr=192.168.123.202</literal></literallayout>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$d$d$i$n$g$ n$o$d$e$s$ t$o$ a$n$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ w$i$t$h$ m$u$l$t$i$p$l$e$ <link linkend="proc_add-nodes-to-multiple-ip-cluster-clusternode-management"></link></simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$h$a$n$g$i$n$g$ t$h$e$ l$i$n$k$s$ i$n$ a$n$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ w$i$t$h$ m$u$l$t$i$p$l$e<link linkend="proc_changing-links-in-multiple-ip-cluster-clusternode-management"></link></simpara>
</section>
<section xml:id="proc_configuring-fencing-creating-high-availability-cluster">
<title>C$o$n$f$i$g$u$r$i$n</title>
<simpara>Y$o$u$ m$u$s$t$ c$o$n$f$i$g$u$r$e$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ t$h$e$ f$e$n$c$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ c$o$m$m$a$n$d$s$ a$n$d$ o$p$t$i$o$n$s$, s$e$e<link linkend="assembly_configuring-fencing-configuring-and-managing-high-availability-clusters"></link></simpara>
<simpara>F$o$r$ g$e$n$e$r$a$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ f$e$n$c$i$n$g$ a$n$d$ i$t$s$ i$m$p$o$r$t$a$n$c$e$ i$n$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$<link xlink:href="https://access.redhat.com/solutions/15575"></link></simpara>
<note>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$, a$t$t$e$n$t$i$o$n$ s$h$o$u$l$d$ b$e$ g$i$v$e$n$ t$o$ w$h$e$t$h$e$r$ t$h$a$I$f$ a$ n$o$d$e$ a$n$d$ i$t$s$ f$e$n$c$e$ d$e$v$i$c$e$ d$o$ s$h$a$r$e$ p$o$w$e$r$, t$h$e$n$ t$h$e$ c$l$u$s$t$e$r$ m$a$y$ b$e$ a$t$ r$i$s$k$ o$f$ b$e$i$n$g$ u$n$a$b$l$e$ S$u$c$h$ a$ c$l$u$s$t$e$r$ s$h$o$u$l$d$ e$i$t$h$e$r$ h$a$v$e$ r$e$d$u$n$d$a$n$t$ p$o$w$e$r$ s$u$p$p$l$i$e$s$ f$o$r$ f$e$n$c$e$ d$e$v$i$c$e$A$l$t$e$r$n$a$t$i$v$e$ m$e$t$h$o$d$s$ o$f$ f$e$n$c$i$n$g$ s$u$c$h$ a$s$ S$B$D$ o$r$ s$t$o$r$a$g$e$ f$e$n$c$i$n$g$ m$a$y$ a$l$s</simpara>
</note>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ u$s$e$s$ t$h$e$ A$P$C$ p$o$w$e$r$ s$w$i$t$c$h$ w$i$t$h$ a$ h$o$s$t$ n$a$m$e$ o$f$ <literal>z$a$p$c$.e$x$a$m$p$l$e$.c$o$m$</literal> t$o$<literal></literal>B$e$c$a$u$s$e$ b$o$t$h$ n$o$d$e$s$ w$i$l$l$ b$e$ f$e$n$c$e$d$ b$y$ t$h$e$ s$a$m$e$ f$e$n$c$i$n$g$ a$g$e$n$t$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ b$o$t$h$ f<literal></literal></simpara>
<simpara>Y$o$u$ c$r$e$a$t$e$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ b$y$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ d$e$v$i$c$e$ a$s$ a$ <literal>s$t$o</literal><literal role="command"></literal>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$ <literal>s$t$o$n$i$t$h$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>m$y$a$p$c$</literal> t$h$a$t$ u$s$e$s$ t$h$e$ <literal>f$e$n$c</literal><literal></literal><literal></literal>T$h$e$ <literal>p$c$m$k$_h$o$s$t$_m$a$p$</literal> o$p$t$i$o$n$ m$a$p$s$ <literal>z$1.e$x$a$m$p$l$e$.c$o$m$</literal> t$o$ <literal></literal>T$h$e$ l$o$g$i$n$ v$a$l$u$e$ a$n$d$ p$a$s$s$w$o$r$d$ f$o$r$ t<literal></literal>B$y$ d$e$f$a$u$l$t$, t$h$i$s$ d$e$v$i$c$e$ w$i$l$l$ u$s$e$ a$ m$o$n$i$t$o$r$ i$n$t$</simpara>
<simpara>N$o$t$e$ t$h$a$t$ y$o$u$ c$a$n$ u$s$e$ a$n$ I$P$ a$d$d$r$e$s$s$ w$h$e$n$ s$p$e$c</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs stonith create myapc fence_apc_snmp</literal> \
<literal>ipaddr="zapc.example.com"</literal> \
<literal>pcmk_host_map="z1.example.com:1;z2.example.com:2"</literal> \
<literal>login="apc" passwd="apc"</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ p$a$r$a$m$e</simpara>
<literallayout class="monospaced">[root@rh7-1 ~]# <literal>pcs stonith config myapc</literal>
 Resource: myapc (class=stonith type=fence_apc_snmp)
  Attributes: ipaddr=zapc.example.com pcmk_host_map=z1.example.com:1;z2.example.com:2 login=apc passwd=apc
  Operations: monitor interval=60s (myapc-monitor-interval-60s)</literallayout>
<simpara>A$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ y$o$u$r$ f$e$n$c$e$ d$e$v$i$c$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$e$s$t$i$n$g$ a$ f$e$n$c$e$ d$e$v$<link linkend="proc_testing-fence-devices-configuring-fencing"></link></simpara>
<note>
<simpara>D$o$ n$o$t$ t$e$s$t$ y$o$u$r$ f$e$n$c$e$ d$e$v$i$c$e$ b$y$ d$i$s$a$b$l$i$n$g$ t$h$e$ n$e$t$w$o$r$k$ i$n$t</simpara>
</note>
<note>
<simpara>O$n$c$e$ f$e$n$c$i$n$g$ i$s$ c$o$n$f$i$g$u$r$e$d$ a$n$d$ a$ c$l$u$s$t$e$r$ h$a$s$ b$e$e$n$ s$t$a$r$t$e$d$, a$ n$e$t$w$o$r$k$ r$e$s$t$a$r$t$ w$i$l$l$ t$r$i$g$g$e$r$ f$e$n$c$i$n$F$o$r$ t$h$i$s$ r$e$a$s$o$n$, d$o$ n$o$t$ r$e$s$t$a$r$t$ t$h$e$ n$e$t$w$o$r$k$ s$e$r$v$i$c$e$ w$h$i$l$e$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$ i$s$ </simpara>
</note>
</section>
<section xml:id="proc_cluster-backup-creating-high-availability-cluster">
<title>B$a$c$k$i$n$g$ u$p$ a$n$d$ r$e$s$t$o$r$i$n$g$ a$</title>
<simpara>Y$o$u$ c$a$n$ b$a$c$k$ u$p$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$n$ I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ f$i$l$e$ n$a$m$e$, t$h$e$ </simpara>
<literallayout class="monospaced">pcs config backup <emphasis>filename</emphasis></literallayout>
<note>
<simpara>T$h$e$ <literal role="command">p$c$s$ c$o$n$f$i$g$ b$a$c$k$u$p$</literal> c$o$m$m$a$n$d$ b$a$c$k$s$ u$p$ o$n$l$y$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$t$s$e$l$f$ a$s$ c$o$n$f$i$g$u$r$e$d$ i$n$ t$h$F$o$r$ e$x$a$m$p$l$e$ i$f$ y$o$u$ h$a$v$e$ c$o$n$f$i$g$u$r$e$d$ a$n$ A$p$a$c$h$e$ r$e$s$o$u$r$c$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, t$h$e$ r$e$s$o$u$r$c$e$ s$e$t$t$i$n$g$s$ (w$h$i$c$h$ a$r$e$ i$n$ t$h$e$ C$I$B$) w$i$l$l$ b$e$ b$a$c$k$e$d$ u$pS$i$m$i$l$a$r$l$y$, i$f$ t$h$e$r$e$ i$s$ a$ d$a$t$a$b$a$s$e$ r$e$s$o$u$r$c$e$ c$o$n$f$i$g$u$r$e$d$ i$n$ t$h$e$ c$l$u$s$t$e$r$, t$h$e$ d$a$t$a$b$a$s$e$ i$t$s$e$l$f$ w$i$l</simpara>
</note>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$s$t$o$r$e$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ f$i$l$e$ n$a$m$e$, t$h$e$S$p$e$c$i$f$y$i$n$g$ t$h$e$ <literal role="option">--l$o$c$a$l$</literal> o$p$t$i$o$n$ r$e$s$t$o$r$e$s$ o$n</simpara>
<literallayout class="monospaced">pcs config restore [--local] [<emphasis>filename</emphasis>]</literallayout>
</section>
<section xml:id="proc_enabling-ports-for-high-availability-creating-high-availability-cluster">
<title>E$n$a$b$l$i$n$g$ p$o$r$t$s$ f$o$r$ t$h$e$ H$i$g</title>
<simpara>T$h$e$ i$d$e$a$l$ f$i$r$e$w$a$l$l$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$r$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e$n$t$s$ d$e$p$e$n$d$s$ o$n$ t$h$e$ l$o$c$a$l$ e$n$v$i$r$o$n$m$e$n$t$, w$h$e$r$e$ y$o$u$ m$a$y$ n$e$e$d$ t$o$ t$a$k$e$ i$n$t$o$ a$c$c$o$u$n$t$ s$u$c$h$</simpara>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ e$n$a$b$l$e$ </simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd  --add-service=high-availability</literal></literallayout>
<simpara>Y$o$u$ m$a$y$ n$e$e$d$ t$o$ m$o$d$i$f$y$ w$h$i$c$h$ p$o$r$t$s$ a$r$e$</simpara>
<note>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$ i$s$ i$n$s$t$a$l$l$e$d<literal role="command"></literal>I$f$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$ i$s$ i$n$s$t$a$l$l$e$d$, y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$<literal role="command"></literal></simpara>
</note>
<simpara><xref linkend="tb-portenable-HAAR"/> s$h$o$w$s$ t$h$e$ p$o$r$t$s$ t$o$ e$n$a$b$l$e$ f$o$r$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ a$n$</simpara>
<table xml:id="tb-portenable-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$o$r$t$s$ t$o$ E$n$a$b$l$e$ f$o$r$ H$i$g$h$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">P$o$</entry>
<entry align="left" valign="top">W$h$e$n$ R$e$</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>T$C$P$ 2</simpara></entry>
<entry align="left" valign="top"><simpara>D$e$f$a$u$l$t$ <literal>p$c$s$d$</literal> p$o$r$t$ r$e$q$u$i$r$e$d$ o$n$ a$l$l$ n$o$d$e$s$ (n$e$e$d$e$d$ b$y$ t$h$e$ p$c$s$d$ W$e$Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>p$c$s$d$</literal> p$o$r$t$ b$y$ m$e$a$n$s$ o$f$ t$h$e$ <literal>P$C$S$D$_P$O$R</literal><literal></literal></simpara><simpara>I$t$ i$s$ c$r$u$c$i$a$l$ t$o$ o$p$e$n$ p$o$r$t$ 2224 i$n$ s$u$c$h$ a$ w$a$y$ t$h$a$t$ <literal role="command">p$c$s$</literal> f$r$o$m$ a$n$y$ n$o$d$e$ c$a$n$W$h$e$n$ u$s$i$n$g$ t$h$e$ B$o$o$t$h$ c$l$u$s$t$e$r$ t$i$c$k$e$t$ m$a$n$a$g$e$r$ o$r$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ y$o$u$ m$u$s$t$ o$p$e$n$ p$o$r$t$ 2224 o$n$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>T$C$P$ 3</simpara></entry>
<entry align="left" valign="top"><simpara>R$e$q$u$i$r$e$d$ o$n$ a$l$l$ n$o$d$e$s$ i$f$ t$h$e$ c$l$u$s$t$e$r$ </simpara><simpara>P$a$c$e$m$a$k$e$r$’s$ <literal>p$a$c$e$m$a$k$e$r$-b$a$s$e$d$</literal> d$a$e$m$o$n$ o$n$ t$h$e$ f$u$l$l$ c$l$u$s$t$e$r$ n$o$d$e$s$ w$i$l$l$ c$o$n$t$a$c$t$ t$h$e$<literal></literal>I$f$ a$ s$e$p$a$r$a$t$e$ i$n$t$e$r$f$a$c$e$ i$s$ u$s$e$d$ f$o$r$ c$l$u$s$t$e$r$ c$o$m$m$u$n$i$c$a$t$i$o$n$, A$t$ a$ m$i$n$i$m$u$m$, t$h$e$ p$o$r$t$ s$h$o$u$l$d$ o$p$e$n$ o$n$ P$a$c$e$m$a$k$e$B$e$c$a$u$s$e$ u$s$e$r$s$ m$a$y$ c$o$n$v$e$r$t$ a$ h$o$s$t$ b$e$t$w$e$e$n$ a$ f$u$l$l$ n$o$d$e$ a$n$d$ a$ r$e$m$o$t$e$ n$o$d$e$, o$r$ r$u$n$ a$ r$e$m$o$t$e$ n$o$d$e$ i$n$s$i$d$e$ a$ c$oI$t$ i$s$ n$o$t$ n$e$c$e$s$s$a$r$y$ t$o$ o$p$e$n$ t$h$e$ p$o$r$t$ t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>T$C$P$ 5</simpara></entry>
<entry align="left" valign="top"><simpara>R$e$q$u$i$r$e$d$ o$n$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ h$o$s$t$ w$h$e$n$ u$s$i$n$g<literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ c$a$n$ b$e$ c$h$a$n$g$e$d$ w$i$t$h$ t$h$e$ <literal role="option">-p$</literal> o$<literal role="command"></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>U$D$P$ 5404-5</simpara></entry>
<entry align="left" valign="top"><simpara>R$e$q$u$i$r$e$d$ o$n$ c$o$r$o$s$y$n$c$ n$o$d$e$s$ t$o$ f$a$c$i$l$i$t$I$t$ i$s$ c$r$u$c$i$a$l$ t$o$ o$p$e$n$ p$o$r$t$s$ 5404-5412 i$n$ s$u$c$h$ a$ w$a$y$ t$h$a$t$ <literal>c$o$r$o$s$y$n$c$</literal> f$r$o$m$ a$n$y$ n$o$d$e$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>T$C$P$ 21</simpara></entry>
<entry align="left" valign="top"><simpara>R$e$q$u$i$r$e$d$ o$n$ a$l$l$ n$o$d$e$s$ i$f$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$t$a$i$n$s$ a$n$y<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>T$C$P$ 9929, U$D$P</simpara></entry>
<entry align="left" valign="top"><simpara>R$e$q$u$i$r$e$d$ t$o$ b$e$ o$p$e$n$ o$n$ a$l$l$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$n$d$ b$o$o$t$h$ a$r$b$i$t$r$a$t$o$r$ n$o$d$e$s$ t$o$ c$o$n$n$e$c$t$i$o$n$s$ f$r$o$m$ a$n$y$ o$f$ t$h$o$s$e$ </simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</chapter>
<chapter xml:id="assembly_configuring-active-passive-http-server-in-a-cluster-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ A$p$a$c$h$e$ H$T$T$P$ s$e$r$v$e</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ A$p$a$c$h$e$ H$T$T$P$ s$e$r$v$e$r$ i$n$ a$ t$w$o$-n$o$d$e$ R$e$d$ H$a$t$ E$n$t$e$r$p$r<literal role="command"></literal>I$n$ t$h$i$s$ u$s$e$ c$a$s$e$, c$l$i$e$n$t$s$ a$c$c$e$s$s$ t$h$e$ A$p$a$c$h$e$ H$T$T$PT$h$e$ w$e$b$ s$e$r$v$e$r$ r$u$n$s$ o$n$ o$n$e$ o$f$ t$I$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ t$h$e$ w$e$b$ s$e$r$v$e$r$ i$s$ r$u$n$n$i$n$g$ b$e$c$o$m$e$s$ i$n$o$p$e$r$a$t$i$v$e$, t$h$e$ w$e$b$ s$e$r$v$e$r$ s$t$a$r$t$s$ u$p$</simpara>
<simpara><xref linkend="configuring-ha-http-291627-haserver_cluster4"/> s$h$o$w$s$ a$ h$i$g$h$-l$e$v$e$l$ o$v$e$r$v$i$e$w$ o$f$ t$h$e$ c$l$u$s$t$e$r$ i$n$ w$h$i$c$h$ T$h$e$ c$l$u$s$t$e$r$ i$s$ a$ t$w$o$-n$o$d$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$tT$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$r$e$ c$o$n$n$e$c$t$e$d$ t$o$ a$ p$u$b$l$i$c$ n$e$t$w$o$r$k$, f$o$r$ c$l$i$e$n$t$ a$T$h$e$ A$p$a$c$h$e$ s$e$r$v$e$r$ r$u$n$s$ o$n$ e$i$t$h$e$r$ N$o$d$e$ 1 o$r$ N$o$d$e$ 2, e$a$c$h$ o$f$ w$h$i$c$h$ h$a$s$ a$c$I$n$ t$h$i$s$ i$l$l$u$s$t$r$a$t$i$o$n$, t$h$e$ w$e$b$ s$e$r$v$e$r$ i$s$ r$u$n$n$i$n$g$ o$n$ N$o$d$e$ 1 w$h$i$l$e$ N$o$d$e$ 2 i$s$ a$</simpara>
<figure xml:id="configuring-ha-http-291627-haserver_cluster4">
<title>A$p$a$c$h$e$ i$n$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/291627-haserver_cluster4.png"/>
</imageobject>
<textobject><phrase>A$p$a$c$h$e$ i$n$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$</phrase></textobject>
</mediaobject>
</figure>
<simpara>T$h$i$s$ u$s$e$ c$a$s$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$r$ s$y$s$t$e$m$ </simpara>
<itemizedlist>
<listitem>
<simpara>A$ t$w$o$-n$o$d$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ w$i$t$hW$e$ r$e$c$o$m$m$e$n$d$ b$u$t$ d$o$ n$o$t$ r$e$q$uT$h$i$s$ p$r$o$c$e$d$u$r$e$ u$s$e$s$ t$h$e$ c$l$u$s$t$e$r$ e$x$a$m$p$l$e$ p$r$o$v$i$d$e$d$ i$n$ <link linkend="assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters">C$r$e$a$t$i$n$g$</link></simpara>
</listitem>
<listitem>
<simpara>A$ p$u$b$l$i$c$ v$i$r$t$u$a$l$ I$P$ a$d$d$r$e$s$s</simpara>
</listitem>
<listitem>
<simpara>S$h$a$r$e$d$ s$t$o$r$a$g$e$ f$o$r$ t$h$e$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, u$s$i$n$g$ i$S$C$S$I$, F$i$b$</simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ c$l$u$s$t$e$r$ i$s$ c$o$n$f$i$g$u$r$e$d$ w$i$t$h$ a$n$ A$p$a$c$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$, w$h$i$c$h$ c$o$n$t$a$i$n$s$ t$h$e$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e$n$t$s$ t$h$a$t$ t$h$e$ w$e$b$ s$e$r$v$e$r$ r$e$qT$h$i$s$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ c$a$n$ f$a$i$l$ o$v$e$r$ f$r$o$m$ o$n$e$ n$o$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$ t$o$ tB$e$f$o$r$e$ c$r$e$a$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ f$o$r$ t$h$i$s$ c$l$u$s$t$e$r$, y$o$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$n$ <literal>e$x$t$4</literal> f$i$l$e$ s$y$s$t$e$m$ o$n$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$ w</simpara>
</listitem>
</orderedlist>
<simpara>A$f$t$e$r$ p$e$r$f$o$r$m$i$n$g$ t$h$e$s$e$ s$t$e$p$s$, y$o$u$ c$r$e$a$t$e$ t$h$e$ r$e$s$o$</simpara>
<section xml:id="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-http">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M$ v$o$l$u$m$e$ w$i$t$h$ a$n$ e$x$t$4 f$i</title>
<simpara>T$h$i$s$ u$s$e$ c$a$s$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$ a$n$ L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ o$n$ s$t$</simpara>
<note>
<simpara>L$V$M$ v$o$l$u$m$e$s$ a$n$d$ t$h$e$ c$o$r$r$e$s$p$o$n$d$i$n$g$ p$a$r$t$i$t$i$o$n$s$ a$n$d$ d$e$v$i$c$e$s$ u$s$e$d$ b$y$ c$l</simpara>
</note>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$n$ L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ a$n$d$ t$h$e$n$ c$r$e$a$t$e$s$ a$n$ eI$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ s$h$a$r$e$d$ p$a$r$t$i$t$i$o$n$ <literal>/d$e$v$/s$d$b$1</literal> i$s$ u$s$e$d$ t$o$ s$t$o$r$e$ t$h$e$ L$V$M$ p$h$y$s$i$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$, p$e$r$f$o$r$m$ t$h$e$ f$o$l$l$o$w$i$n$g$ s$t$e$p$s$ t$o$ s$e$t$ t$h$e$ v$a$l$u$e$ f$o$r$ t$h$e$ <literal></literal>T$h$e$ L$V$M$ s$y$s$t$e$m$ I$D$ w$i$l$l$ b$e$ u$s$e$d$ t$o$ e$n$s$u$r$e$ t$h$a$t$ o$n$l$y$ t$h$e$ c$l$u$s</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>S$e$t$ t$h$e$ <literal>s$y$s$t$e$m$_i$d$_s$o$u$r$c$e$</literal> c$o$n$f$i$g$u$r$a$t$i$o$n$ o$p$t$i$o$n$ i$n$ t$h$e$ <literal>/e</literal><literal></literal></simpara>
<literallayout class="monospaced"># Configuration option global/system_id_source.
system_id_source = "uname"</literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ L$V$M$ s$y$s$t$e$m$ I$D$ o$n$ t$h$e$ n$o$d$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>lvm systemid</literal>
  system ID: z1.example.com
# <literal>uname -n</literal>
  z1.example.com</literallayout>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ L$V$M$ v$o$l$u$m$e$ a$n$d$ c$r$e$a$t$e$ a$n$ e$xS$i$n$c$e$ t$h$e$ <literal>/d$e$v$/s$d$b$1</literal> p$a$r$t$i$t$i$o$n$ i$s$ s$t$o$r$a$g$e$ t$h$a$t$ i$s$ s$h$a$r$e$d$, y$o$u$ p$e$r</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ L$V$M$ p$h$y$s$i$c$a$l$ v$o$l$u$m$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pvcreate /dev/sdb1</literal>
  Physical volume "/dev/sdb1" successfully created</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ <literal>m$y$_v$g$</literal> t$h$a$t$ c$o$n$s$i$s$t$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>vgcreate my_vg /dev/sdb1</literal>
  Volume group "my_vg" successfully created</literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ n$e$w$ v$o$l$u$m$e$ g$r$o$u$p$ h$a$s$ t$h$e$ s$y$s$t$e$m$ I$D$ o$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ y$o</simpara>
<literallayout class="monospaced"># <literal>vgs -o+systemid</literal>
  VG    #PV #LV #SN Attr   VSize  VFree  System ID
  my_vg   1   0   0 wz--n- &lt;1.82t &lt;1.82t z1.example.com</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ u$s$i$n$g<literal></literal></simpara>
<literallayout class="monospaced"># <literal>lvcreate -L450 -n my_lv my_vg</literal>
  Rounding up size to full physical extent 452.00 MiB
  Logical volume "my_lv" created</literallayout>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">l$v$s$</literal> c$o$m$m$a$n$d$ t$o$ d$i</simpara>
<literallayout class="monospaced"># <literal>lvs</literal>
  LV      VG      Attr      LSize   Pool Origin Data%  Move Log Copy%  Convert
  my_lv   my_vg   -wi-a---- 452.00m
  ...</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ e$x$t$4 f$i$l$e$ s$y$s$t$e$m$ o$n$ t$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>mkfs.ext4 /dev/my_vg/my_lv</literal>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 462848 1k blocks and 115824 inodes
...</literallayout>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_ensuring-cluster-volume-not-multiply-activated-configuring-ha-http">
<title>E$n$s$u$r$i$n$g$ a$ v$o$l$u$m$e$ g$r$o$u$p$ i$s$ n$o$t$ a$c$t$i$v$</title>
<simpara role="_abstract">T$h$i$s$ p$r$o$c$e$d$u$r$e$ e$n$s$u$r$e$s$ t$h$a$t$ v$o$l$u$m$e$ g$r$o$u$p$s$ t$h$a$t$ a$r$e$ m$a$n$a$g$e$d$ b$y$ P$a$c$e$m$a$k$e$r$I$f$ a$ v$o$l$u$m$e$ g$r$o$u$p$ i$s$ a$u$t$o$m$a$t$i$c$a$l$l$y$ a$c$t$i$v$a$t$e$d$ o$n$ s$t$a$r$t$u$p$ r$a$t$h$e$r$ t$h$a$n$ b$y$ P$a$c$e$m$a$k$e$r$, t$h$e$r$e$ i$s$ a$ r$i$s$k$ t$h$a$t$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ w</simpara>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ m$o$d$i$f$i$e$s$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> e$<literal></literal>T$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> e$n$t$r$y$ i$s$ u$s$e$d$ t$o$ l$i$m$i$tS$e$t$t$i$n$g$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> t$o$ a$n$ e$m$p$t$y</simpara>
<simpara>A$n$y$ l$o$c$a$l$ v$o$l$u$m$e$s$ t$h$a$t$ a$r$e$ n$o$t$ s$h$a$r$e$d$ a$n$d$ a$r$e$ n$o$t$ m$a$n$a$g$e$d$ b$y$ P$a$c$e$m$a$k$e$r$ s$h$o$u$l$d$ b$e$ i$n$c$l$u$d$e$d$ i$n$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$</literal>A$l$l$ v$o$l$u$m$e$ g$r$o$u$p$s$ m$a$n$a$g$e$d$ b$y$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$r$ m$u$s$t$ b$e$ e$x$c<literal></literal></simpara>
<formalpara>
<title>P$r$o$c$e</title>
<para>P$e$r$f$o$r$m$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ </para>
</formalpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>D$e$t$e$r$m$i$n$e$ w$h$i$c$h$ v$o$l$u$m$e$ g$r$o$u$p$s$ a$r$e$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ oT$h$i$s$ w$i$l$l$ o$u$t$p$u$t$ a$ l$i$s$t$ o$f$ t$h$e$ c$u$r$r$e$nI$f$ y$o$u$ h$a$v$e$ s$p$a$c$e$ a$l$l$o$c$a$t$e$d$ i$n$ s$e$p$a$r$a$t$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ f$o$r$ r$o$o$t$ a$n$d$ f$o$r$ y$o$u$r$ h$o$m$e$ d$i$r$e$c$t$o$r$y$ </simpara>
<literallayout class="monospaced"># <literal>vgs --noheadings -o vg_name</literal>
  my_vg
  rhel_home
  rhel_root</literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ o$t$h$e$r$ t$h$a$n$ <literal>m$y$_v$g$</literal> (t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ y$o$u$ h$a$v$e$ j$u$s$t$ d$e$f$i$n$e$d$ f$o$r$ t$h$e$ c$l$u$s$t$e$r$) a$s$ e$n$t<literal></literal><literal></literal></simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ s$p$a$c$e$ a$l$l$o$c$a$t$e$d$ i$n$ s$e$p$a$r$a$t$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ f$o$r$ r$o$o$t$ a$n$d$ f$o$r$ y$o$u$r$ h$o$m$e$ d$i$r$e$c$t$o$r$y$, y$o$u$ w$o$u$l$d$ u$n$c$o$m$m$e$n$t$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_</literal><literal></literal><literal></literal>N$o$t$e$ t$h$a$t$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ y$o$u$ h$a$v$e$ j$u$s$t$ d$e$f$i$n$e$d$ f$o$r$ t$h$e$ c$l$u$<literal></literal></simpara>
<literallayout class="monospaced">auto_activation_volume_list = [ "rhel_root", "rhel_home" ]</literallayout>
<note>
<simpara>I$f$ n$o$ l$o$c$a$l$ v$o$l$u$m$e$ g$r$o$u$p$s$ a$r$e$ p$r$e$s$e$n$t$ o$n$ a$ n$o$d$e$ t$o$ b$e$ a$c$t$i$v$a$t$e$d$ o$u$t$s$i$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$r$, y$o$u$ m$u$s$t$ s$t$i$l<literal></literal><literal></literal></simpara>
</note>
</listitem>
<listitem>
<simpara>R$e$b$u$i$l$d$ t$h$e$ <literal>i$n$i$t$r$a$m$f$s$</literal> b$o$o$t$ i$m$a$g$e$ t$o$ g$u$a$r$a$n$t$e$e$ t$h$a$t$ t$h$e$ b$o$o$t$ i$m$a$g$e$ w$i$l$l$ n$U$p$d$a$t$e$ t$h$e$ <literal>i$n$i$t$r$a$m$f$s$</literal> d$e$v$i$c$e$ w$iT$h$i$s$ c$o$m$m$a$n$d$ m$a$y$ t$a$k$e$ u$p$ t$o$</simpara>
<literallayout class="monospaced"># <literal>dracut -H -f /boot/initramfs-$(uname -r).img $(uname -r)</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$b$o$o$t$ t$h</simpara>
<note>
<simpara>I$f$ y$o$u$ h$a$v$e$ i$n$s$t$a$l$l$e$d$ a$ n$e$w$ L$i$n$u$x$ k$e$r$n$e$l$ s$i$n$c$e$ b$o$o$t$i$n$g$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ y$o$u$ c$r$e$a$t$e$d$ t$h$e$ b$o$o$t$ i$m$a$g$e$, t$h$e$ n$e$w$ <literal>i$n$i$t$r$d$</literal> i$m$a$g$e$ w$i$l$l$ b$e$ f$o$r$ t$h$e$ k$Y$o$u$ c$a$n$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ c$o$r$r$e$c$t$ <literal>i$n$i$t$r$d$</literal> d$e$v$i$c$e$ i$s$ i$n$ u$s$e$ b$y$ r$u$n$n$i$n$g$ t$h$e$ <literal>u$n$a$m$e$ -r$</literal> c$o$m$m$a$n$d$ b$e$f$I$f$ t$h$e$ r$e$l$e$a$s$e$s$ a$r$e$ n$o$t$ t$h$e$ s$a$m$e$, u$p$d$a$t$e$ t$h$e$ <literal>i$n$i$t$r$d$</literal> f$i$l$e$ a$f$t$e$r$ r$e$b</simpara>
</note>
</listitem>
<listitem>
<simpara>W$h$e$n$ t$h$e$ n$o$d$e$ h$a$s$ r$e$b$o$o$t$e$d$, c$h$e$c$k$ w$h$e$t$h$e$r$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ h$a$v$e$ s$t$a$r$t$e$d$ u$p$ a$g$a$i$n$ <literal></literal>I$f$ t$h$i$s$ y$i$e$l$d$s$ t$h$e$ m$e$s$s$a$g$e$ <literal>E$r$r$o$r$: c$l$u$s$t$e$r$ i$s$ n$o$t$ c$u$r$r$e$n$t$l$y$ r$u$n$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs cluster start</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ w$a$i$t$ u$n$t$i$l$ y$o$u$ h$a$v$e$ r$e$b$o$o$t$e$d$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ s$t$a$r$t$ c$l$u$s$t$</simpara>
<literallayout class="monospaced"># <literal>pcs cluster start --all</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring-apache-http-web-server-configuring-ha-http">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ A$p$a</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ t$h$e$ A$p$a$c$h$e$ H$T$T$P$ S$e$r$v$e$r$ i$s$ i$n$s$tY$o$u$ a$l$s$o$ n$e$e$d$ t$h$e$ <literal>w$g$e$t$</literal> t$o$o$l$ i$n$s$t$a$l$l$e$d$ o$n$ t$h$e$ c$l$u$s$t$e$r$ t$o$ b$e$ a$b$</simpara>
<simpara>O$n$ e$a$c$h$ n$o$d$e$, e$x$e$c$u$t$e$ t$h$e</simpara>
<literallayout class="monospaced"># <literal>yum install -y httpd wget</literal></literallayout>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, o$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ e$n$a$b$l$e$ t$h$e$ </simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd --reload</literal></literallayout>
</listitem>
<listitem>
<simpara>I$n$ o$r$d$e$r$ f$o$r$ t$h$e$ A$p$a$c$h$e$ r$e$s$o$u$r$c$e$ a$g$e$n$t$ t$o$ g$e$t$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ A$p$a$c$h$e$ H$T$T$P$ S$e$r$v$e$r$, e$n$s$u$r$e$ t$h$a$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ t$e$x$t$ i$s$ p$r$e$s$e$n$t$ i$n$ t$h$e$ <literal></literal>I$f$ t$h$i$s$ t$e$x$t$ i$s$ n$o$t$ a$l$r$e$a$d$y$ p$r$e$s$e$n$t$, a$d$d$ </simpara>
<literallayout class="monospaced">&lt;Location /server-status&gt;
    SetHandler server-status
    Require local
&lt;/Location&gt;</literallayout>
</listitem>
<listitem>
<simpara>W$h$e$n$ y$o$u$ u$s$e$ t$h$e$ <literal>a$p$a$c$h$e$</literal> r$e$s$o$u$r$c$e$ a$g$e$n$t$ t$o$ m$a$n<literal></literal>B$e$c$a$u$s$e$ o$f$ t$h$i$s$, y$o$u$ m$u$s$t$ e$d$i$t$ t$h$e$ <literal>l$o$g$r$o$t$a$t$e$</literal> s$c$r$i$p$t$ s$u$p$p$l$i$e$d$ w$i$t$h$ A$p$<literal></literal></simpara>
<simpara>R$e$m$o$v$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ l$i$n$e$ i$n$ t$h$e$ <literal>/e$t$c$/l$o$g$r$o$t$a$t$e$.d$</literal></simpara>
<literallayout class="monospaced">/bin/systemctl reload httpd.service &gt; /dev/null 2&gt;/dev/null || true</literallayout>
<simpara>R$e$p$l$a$c$e$ t$h$e$ l$i$n$e$ y$o$u$ r$e$m$o$v$e$d$ w$i$t$h</simpara>
<literallayout class="monospaced">/usr/bin/test -f /run/httpd.pid &gt;/dev/null 2&gt;/dev/null &amp;&amp;
/usr/bin/ps -q $(/usr/bin/cat /run/httpd.pid) &gt;/dev/null 2&gt;/dev/null &amp;&amp;
/usr/sbin/httpd -f /etc/httpd/conf/httpd.conf \
-c "PidFile /run/httpd.pid" -k graceful &gt; /dev/null 2&gt;/dev/null || true</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ w$e$b$ p$a$g$e$ f$o$r$ A$O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, m$o$u$n$t$ t$h$e$ f$i$l$e$ s$y$s$t$e$m$ y$o$u$ c$r$e$a$t$e$d$ i$n$ <link linkend="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-http">C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M$ v$o$l$u$m$e$ w$i$t$h$ a$n$ e$x$t$4 f$i$l$e$ s$y</link><literal></literal></simpara>
<literallayout class="monospaced"># <literal>mount /dev/my_vg/my_lv /var/www/</literal>
# <literal>mkdir /var/www/html</literal>
# <literal>mkdir /var/www/cgi-bin</literal>
# <literal>mkdir /var/www/error</literal>
# <literal>restorecon -R /var/www</literal>
# <literal>cat &lt;&lt;-END &gt;/var/www/html/index.html</literal>
<literal>&lt;html&gt;</literal>
<literal>&lt;body&gt;Hello&lt;/body&gt;</literal>
<literal>&lt;/html&gt;</literal>
<literal>END</literal>
# <literal>umount /var/www</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring-resources-for-http-server-in-a-cluster-configuring-ha-http">
<title>C$r$e$a$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$</title>
<simpara>T$h$i$s$ u$s$e$ c$a$s$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$r$T$o$ e$n$s$u$r$e$ t$h$e$s$e$ r$e$s$o$u$r$c$e$s$ a$l$l$ r$u$n$ o$n$ t$h$e$ s$a$m$e$ n$o$d$e$, t$h$e$y$ a$r$e$ c$o$n<literal></literal>T$h$e$ r$e$s$o$u$r$c$e$s$ t$o$ c$r$e$a$t$e$ a$r$e$ a$s$ f$o$l$l$o$w$s$, l$i$s$t$e$d$ </simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$n$ <literal>L$V$M$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>m$y$_l$v$m$</literal> t$h$a$t$ u$s$e$s$ t$h$e$ L$V$M$ v$o$l$u$m$e$ g$r$o$u$p$ y$o$u$ c$r$e$a$t$e<link linkend="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-http"></link></simpara>
</listitem>
<listitem>
<simpara>A$ <literal>F$i$l$e$s$y$s$t$e$m$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>m$y$_f$s$</literal>, t$h$a$t$ u$s$e$s$ t$h$e$ f$i$l$e$ s$y$s$t$e$m$ d$e$v$i$c$e$ <literal>/d$e$v$/m$y$_v$g$/m$y$_l$v$</literal> <link linkend="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-http"></link></simpara>
</listitem>
<listitem>
<simpara>A$n$ <literal>I$P$a$d$d$r$2</literal> r$e$s$o$u$r$c$e$, w$h$i$c$h$ i$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e<literal></literal>T$h$e$ I$P$ a$d$d$r$e$s$s$ m$u$s$t$ n$o$t$ b$e$ o$n$e$ a$l$r$e$a$d$y$ aI$f$ t$h$e$ <literal>I$P$a$d$d$r$2</literal> r$e$s$o$u$r$c$e$’s$ N$I$C$ d$e$v$i$c$e$ i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$, t$h$e$ f$l$o$a$t$i$n$g$ I$P$ m$u$s$t$ r$e$s$i$d$e$ o$n$ t$h$e$ s$a$m$e$ n$e$t$w$o$r$k$ a$s$ o$n$e$ o$f$ t$h$e$ n$o$d$e$’s$ s$t$a$t$i$c$a$l$l$y$ a$s</simpara>
</listitem>
<listitem>
<simpara>A$n$ <literal>a$p$a$c$h$e$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>W$e$b$s$i$t$e$</literal> t$h$a$t$ u$s$e$s$ t$h$e$ <literal>i$n$d$e$x$.h$t$m$l$</literal> f$i$l$e$ a$n$d$ t$h$e$ A$p$a$c$h$e$<link linkend="proc_configuring-apache-http-web-server-configuring-ha-http"></link></simpara>
</listitem>
</orderedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal>a$p$a$c$h$</literal>T$h$e$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ s$t$a$r$t$ i$n$ t$h$e$ o$r$d$e$r$ i$n$ w$h$i$c$h$ y$o$u$ a$d$d$ t$h$e$m$ t$o$ t$h$e$ g$r$o$u$p$, a$n$d$ t$h$e$y$ w$iR$u$n$ t$h$i$s$ p$r$o$c$e$d$u$r$e$ f$r$o$m$ o$n$e$ n$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ t$h$e$ <literal></literal><literal></literal>B$e$c$a$u$s$e$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal>a$p$a$c$h$e$g$r$o$u$p$</literal> d$o$e$s$ n$o$t$ y$e$t$ e$x</simpara>
<note>
<simpara>D$o$ n$o$t$ c$o$n$f$i$g$u$r$e$ m$o$r$e$ t$h$a$n$ o$n$e$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ t$h$a$t$ u$s$e$s$ t$h$e$ s$a$m$e$ L$V$M$ v$o$l$u$m$e$ g$r$o$u$p$ i$A$d$d$i$t$i$o$n$a$l$l$y$, d$o$ n$o$t$ c$o$n$f$i$g$u$r$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ a$s$ a$ c$l</simpara>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create my_lvm ocf:heartbeat:LVM-activate</literal> <literal>vgname=my_vg</literal> <literal>vg_access_mode=system_id --group apachegroup</literal></literallayout>
<simpara>W$h$e$n$ y$o$u$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$, t$h$e$ r$e$s$o$uY$o$u$ c$a$n$ u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ c$o$n$f$i$r$m$ t$h$a$t$ </simpara>
<literallayout class="monospaced"># <literal>pcs resource status</literal>
 Resource Group: apachegroup
     my_lvm	(ocf::heartbeat:LVM-activate):	Started</literallayout>
<simpara>Y$o$u$ c$a$n$ m$a$n$u$a$l$l$y$ s$t$o$p$ a$n$d$ s$t$a$r$t$ a$n$ i$n$d$i$v$i$d$u$a$l$ r$e$s$o$u$r$c$e$ w$i$t$h$ t$h$e$ <literal role="command">p</literal><literal role="command"></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$r$e$a$t$e$ t$h$e$ r$e$m$a$i$n$i$n$g$ r$e$s$o$u$r$c$e$s$ f$o$r$ t$h$e$ c$o$n$f$i$g$u$r$a<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create my_fs Filesystem</literal> \
<literal>device="/dev/my_vg/my_lv" directory="/var/www" fstype="ext4"</literal> \
<literal>--group apachegroup</literal>

[root@z1 ~]# <literal>pcs resource create VirtualIP IPaddr2 ip=198.51.100.3</literal> \
<literal>cidr_netmask=24 --group apachegroup</literal>

[root@z1 ~]# <literal>pcs resource create Website apache</literal> \
<literal>configfile="/etc/httpd/conf/httpd.conf"</literal> \
<literal>statusurl="http://127.0.0.1/server-status" --group apachegroup</literal></literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ c$r$e$a$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$n$d$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ t$h$a$t$ c$o$n$tN$o$t$e$ t$h$a$t$ a$l$l$ f$o$u$r$ r$e$s$o$u$r$c$e$s$ a$r$e</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
Cluster name: my_cluster
Last updated: Wed Jul 31 16:38:51 2013
Last change: Wed Jul 31 16:42:14 2013 via crm_attribute on z1.example.com
Stack: corosync
Current DC: z2.example.com (2) - partition with quorum
Version: 1.1.10-5.el7-9abe687
2 Nodes configured
6 Resources configured

Online: [ z1.example.com z2.example.com ]

Full list of resources:
 myapc	(stonith:fence_apc_snmp):	Started z1.example.com
 Resource Group: apachegroup
     my_lvm	(ocf::heartbeat:LVM):	Started z1.example.com
     my_fs	(ocf::heartbeat:Filesystem):	Started z1.example.com
     VirtualIP	(ocf::heartbeat:IPaddr2):	Started z1.example.com
     Website	(ocf::heartbeat:apache):	Started z1.example.com</literallayout>
<simpara>N$o$t$e$ t$h$a$t$ i$f$ y$o$u$ h$a$v$e$ n$o$t$ c$o$n$f$i$g$u$r$e$d$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ f$o$r$ y$o$u</simpara>
</listitem>
<listitem>
<simpara>O$n$c$e$ t$h$e$ c$l$u$s$t$e$r$ i$s$ u$p$ a$n$d$ r$u$n$n$i$n$g$, y$o$u$ c$a$n$ p$o$i$n$t$ a$ b$r$o$w$s$e$r$ t$o$ t$h$e$ I$P$ a$d$d$r$e$s$s$ y$o$u$ d$e$f$i$n$e$d$ a$s$ t$h$e$ <literal>I$P$a$d</literal></simpara>
<literallayout class="monospaced">Hello</literallayout>
<simpara>I$f$ y$o$u$ f$i$n$d$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ y$o$u$ c$o$n$f$i$g$u$r$e$d$ a$r$e$ n$o$t$ r$u$n$n$i$n$g$, y$o$u$ c$a$n$ r$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o<emphasis></emphasis></literal></simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_testing-resource-configuration-in-a-cluster-configuring-ha-http">
<title>T$e$s$t$i$n$g$ t$h$e$ r$e$s$o$u$r$</title>
<simpara>I$n$ t$h$e$ c$l$u$s$t$e$r$ s$t$a$t$u$s$ d$i$s$p$l$a$y$ s$h$o$w$n$ i$n$ <link linkend="proc_configuring-resources-for-http-server-in-a-cluster-configuring-ha-http">C$r$e$a$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$n$d$ r$e$s$o$u$r$c$e$ g</link><literal></literal>Y$o$u$ c$a$n$ t$e$s$t$ w$h$e$t$h$e$r$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ f$a$i$l$s$ o$v$e$r$ t$o$ n$o$d$e$ <literal>z$2.e$x$a$m$p$l$e$.c$o$m$</literal> b$y$ u$s$i$n$g$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$o$ p$u$t$ t$<literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ p$u$t$s$ n$o$d$e$ <literal>z$1.</literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs node standby z1.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ p$u$t$t$i$n$g$ n$o$d$e$ <literal>z$1</literal> i$n$ <literal>s$t$a$n$d$b$y$</literal> m$o$dN$o$t$e$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ s$h$o$u$l$d$<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
Cluster name: my_cluster
Last updated: Wed Jul 31 17:16:17 2013
Last change: Wed Jul 31 17:18:34 2013 via crm_attribute on z1.example.com
Stack: corosync
Current DC: z2.example.com (2) - partition with quorum
Version: 1.1.10-5.el7-9abe687
2 Nodes configured
6 Resources configured

Node z1.example.com (1): standby
Online: [ z2.example.com ]

Full list of resources:

 myapc	(stonith:fence_apc_snmp):	Started z1.example.com
 Resource Group: apachegroup
     my_lvm	(ocf::heartbeat:LVM):	Started z2.example.com
     my_fs	(ocf::heartbeat:Filesystem):	Started z2.example.com
     VirtualIP	(ocf::heartbeat:IPaddr2):	Started z2.example.com
     Website	(ocf::heartbeat:apache):	Started z2.example.com</literallayout>
<simpara>T$h$e$ w$e$b$ s$i$t$e$ a$t$ t$h$e$ d$e$f$i$n$e$d$ I$P$ a$d$d$r$e$s$s$ s$h$o$u$l$d$</simpara>
</listitem>
<listitem>
<simpara>T$o$ r$e$m$o$v$e$ <literal>z$1</literal> f$r$o$m$ <literal>s$t$a$n$d$b$y$</literal> m$o$d$e$, e$n$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs node unstandby z1.example.com</literal></literallayout>
<note>
<simpara>R$e$m$o$v$i$n$g$ a$ n$o$d$e$ f$r$o$m$ <literal>s$t$a$n$d$b$y$</literal> m$o$d$e$ d$o$e$s$ n$o$t$ i$n$ i$t$s$e$l$f$ c$a$u$s$T$h$i$s$ w$i$l$l$ d$e$p$e$n$d$ o$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$</literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> m$e$t$a$ a$t$t$r$i$b$u$t$e$, s$e$<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#proc_setting-resource-stickiness-determining-which-node-a-resource-runs-on"></link></simpara>
</note>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_configuring-active-passive-nfs-server-in-a-cluster-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ N$F$S$ s$e$r$v$e$r$ i$n</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ a$ h$i$g$h$l$y$ a$v$a$i$l$a$b$l$e$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ N$F$S$ s$e$r$v$e$r$ o$n$ a$ t$w$o$-n$o$d$e$ T$h$e$ p$r$o$c$e$d$u$r$e$ u$s$e$s$ <literal role="command">p$c$s$</literal> t$o$ c$o$n$f$i$g$u$r$eI$n$ t$h$i$s$ u$s$e$ c$a$s$e$, c$l$i$e$n$t$s$ a$c$c$e$s$s$ t$h$e$ N$F$S$ f$i$l$e$ sT$h$e$ N$F$S$ s$e$r$v$e$r$ r$u$n$s$ o$n$ o$n$e$ o$f$ t$I$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ t$h$e$ N$F$S$ s$e$r$v$e$r$ i$s$ r$u$n$n$i$n$g$ b$e$c$o$m$e$s$ i$n$o$p$e$r$a$t$i$v$e$, t$h$e$ N$F$S$ s$e$r$v$e$r$ s$t$a$r$t$s$ u$p$</simpara>
<section xml:id="prerequisites" remap="_prerequisites">
<title>P$r$e$r$e$q$u</title>
<simpara>T$h$i$s$ u$s$e$ c$a$s$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$r$ s$y$s$t$e$m$ </simpara>
<itemizedlist>
<listitem>
<simpara>A$ t$w$o$-n$o$d$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ w$i$t$hW$e$ r$e$c$o$m$m$e$n$d$ b$u$t$ d$o$ n$o$t$ r$e$q$uT$h$i$s$ p$r$o$c$e$d$u$r$e$ u$s$e$s$ t$h$e$ c$l$u$s$t$e$r$ e$x$a$m$p$l$e$ p$r$o$v$i$d$e$d$ i$n$ <link linkend="assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters">C$r$e$a$t$i$n$g$</link></simpara>
</listitem>
<listitem>
<simpara>A$ p$u$b$l$i$c$ v$i$r$t$u$a$l$ I$P$ a$d$d$r$e$s$s$, r$e$q</simpara>
</listitem>
<listitem>
<simpara>S$h$a$r$e$d$ s$t$o$r$a$g$e$ f$o$r$ t$h$e$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, u$s$i$n$g$ i$S$C$S$I$, F$i$b$</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="procedural_overview" remap="_procedural_overview">
<title>P$r$o$c$e$d$u$r$a$l</title>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ a$ h$i$g$h$l$y$ a$v$a$i$l$a$b$l$e$ a$c$t$i$v$e$/p$a$s$s$i$v$e$ N$F$S$ s$e$r$v$e$r$ o$n$ a$n$ e$x$i$s$t$i$n$g$ t$w$o$-n$o$d$e$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$n$ <literal>e$x$t$4</literal> f$i$l$e$ s$y$s$t$e$m$ o$n$ t$h$e$ L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ <literal>m$y$_l$v$</literal> o$</simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$n$ N$F$S$ s$h$a$r$e$ o$n$ t$h$e$ s$h$a$r$e$d$ s$t$</simpara>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ c$l$u$s$t</simpara>
</listitem>
<listitem>
<simpara>T$e$s$t$ t$h$e$ N$F$S$ s$e$r$v$e$r$ y$o$</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-nfs">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M$ v$o$l$u$m$e$ w$i$t$h$ a$n$ e$x$t$4 f$i</title>
<simpara>T$h$i$s$ u$s$e$ c$a$s$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$ a$n$ L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ o$n$ s$t$</simpara>
<note>
<simpara>L$V$M$ v$o$l$u$m$e$s$ a$n$d$ t$h$e$ c$o$r$r$e$s$p$o$n$d$i$n$g$ p$a$r$t$i$t$i$o$n$s$ a$n$d$ d$e$v$i$c$e$s$ u$s$e$d$ b$y$ c$l</simpara>
</note>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$n$ L$V$M$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ a$n$d$ t$h$e$n$ c$r$e$a$t$e$s$ a$n$ eI$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ s$h$a$r$e$d$ p$a$r$t$i$t$i$o$n$ <literal>/d$e$v$/s$d$b$1</literal> i$s$ u$s$e$d$ t$o$ s$t$o$r$e$ t$h$e$ L$V$M$ p$h$y$s$i$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$, p$e$r$f$o$r$m$ t$h$e$ f$o$l$l$o$w$i$n$g$ s$t$e$p$s$ t$o$ s$e$t$ t$h$e$ v$a$l$u$e$ f$o$r$ t$h$e$ <literal></literal>T$h$e$ L$V$M$ s$y$s$t$e$m$ I$D$ w$i$l$l$ b$e$ u$s$e$d$ t$o$ e$n$s$u$r$e$ t$h$a$t$ o$n$l$y$ t$h$e$ c$l$u$s</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>S$e$t$ t$h$e$ <literal>s$y$s$t$e$m$_i$d$_s$o$u$r$c$e$</literal> c$o$n$f$i$g$u$r$a$t$i$o$n$ o$p$t$i$o$n$ i$n$ t$h$e$ <literal>/e</literal><literal></literal></simpara>
<literallayout class="monospaced"># Configuration option global/system_id_source.
system_id_source = "uname"</literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ L$V$M$ s$y$s$t$e$m$ I$D$ o$n$ t$h$e$ n$o$d$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>lvm systemid</literal>
  system ID: z1.example.com
# <literal>uname -n</literal>
  z1.example.com</literallayout>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ L$V$M$ v$o$l$u$m$e$ a$n$d$ c$r$e$a$t$e$ a$n$ e$xS$i$n$c$e$ t$h$e$ <literal>/d$e$v$/s$d$b$1</literal> p$a$r$t$i$t$i$o$n$ i$s$ s$t$o$r$a$g$e$ t$h$a$t$ i$s$ s$h$a$r$e$d$, y$o$u$ p$e$r</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ L$V$M$ p$h$y$s$i$c$a$l$ v$o$l$u$m$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pvcreate /dev/sdb1</literal>
  Physical volume "/dev/sdb1" successfully created</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ <literal>m$y$_v$g$</literal> t$h$a$t$ c$o$n$s$i$s$t$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>vgcreate my_vg /dev/sdb1</literal>
  Volume group "my_vg" successfully created</literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ n$e$w$ v$o$l$u$m$e$ g$r$o$u$p$ h$a$s$ t$h$e$ s$y$s$t$e$m$ I$D$ o$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ y$o</simpara>
<literallayout class="monospaced"># <literal>vgs -o+systemid</literal>
  VG    #PV #LV #SN Attr   VSize  VFree  System ID
  my_vg   1   0   0 wz--n- &lt;1.82t &lt;1.82t z1.example.com</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ u$s$i$n$g<literal></literal></simpara>
<literallayout class="monospaced"># <literal>lvcreate -L450 -n my_lv my_vg</literal>
  Rounding up size to full physical extent 452.00 MiB
  Logical volume "my_lv" created</literallayout>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">l$v$s$</literal> c$o$m$m$a$n$d$ t$o$ d$i</simpara>
<literallayout class="monospaced"># <literal>lvs</literal>
  LV      VG      Attr      LSize   Pool Origin Data%  Move Log Copy%  Convert
  my_lv   my_vg   -wi-a---- 452.00m
  ...</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ e$x$t$4 f$i$l$e$ s$y$s$t$e$m$ o$n$ t$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>mkfs.ext4 /dev/my_vg/my_lv</literal>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 462848 1k blocks and 115824 inodes
...</literallayout>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_ensuring-cluster-volume-not-multiply-activated-configuring-ha-nfs">
<title>E$n$s$u$r$i$n$g$ a$ v$o$l$u$m$e$ g$r$o$u$p$ i$s$ n$o$t$ a$c$t$i$v$</title>
<simpara role="_abstract">T$h$i$s$ p$r$o$c$e$d$u$r$e$ e$n$s$u$r$e$s$ t$h$a$t$ v$o$l$u$m$e$ g$r$o$u$p$s$ t$h$a$t$ a$r$e$ m$a$n$a$g$e$d$ b$y$ P$a$c$e$m$a$k$e$r$I$f$ a$ v$o$l$u$m$e$ g$r$o$u$p$ i$s$ a$u$t$o$m$a$t$i$c$a$l$l$y$ a$c$t$i$v$a$t$e$d$ o$n$ s$t$a$r$t$u$p$ r$a$t$h$e$r$ t$h$a$n$ b$y$ P$a$c$e$m$a$k$e$r$, t$h$e$r$e$ i$s$ a$ r$i$s$k$ t$h$a$t$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ w</simpara>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ m$o$d$i$f$i$e$s$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> e$<literal></literal>T$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> e$n$t$r$y$ i$s$ u$s$e$d$ t$o$ l$i$m$i$tS$e$t$t$i$n$g$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$l$u$m$e$_l$i$s$t$</literal> t$o$ a$n$ e$m$p$t$y</simpara>
<simpara>A$n$y$ l$o$c$a$l$ v$o$l$u$m$e$s$ t$h$a$t$ a$r$e$ n$o$t$ s$h$a$r$e$d$ a$n$d$ a$r$e$ n$o$t$ m$a$n$a$g$e$d$ b$y$ P$a$c$e$m$a$k$e$r$ s$h$o$u$l$d$ b$e$ i$n$c$l$u$d$e$d$ i$n$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_v$o$</literal>A$l$l$ v$o$l$u$m$e$ g$r$o$u$p$s$ m$a$n$a$g$e$d$ b$y$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$r$ m$u$s$t$ b$e$ e$x$c<literal></literal></simpara>
<formalpara>
<title>P$r$o$c$e</title>
<para>P$e$r$f$o$r$m$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ </para>
</formalpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>D$e$t$e$r$m$i$n$e$ w$h$i$c$h$ v$o$l$u$m$e$ g$r$o$u$p$s$ a$r$e$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ oT$h$i$s$ w$i$l$l$ o$u$t$p$u$t$ a$ l$i$s$t$ o$f$ t$h$e$ c$u$r$r$e$nI$f$ y$o$u$ h$a$v$e$ s$p$a$c$e$ a$l$l$o$c$a$t$e$d$ i$n$ s$e$p$a$r$a$t$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ f$o$r$ r$o$o$t$ a$n$d$ f$o$r$ y$o$u$r$ h$o$m$e$ d$i$r$e$c$t$o$r$y$ </simpara>
<literallayout class="monospaced"># <literal>vgs --noheadings -o vg_name</literal>
  my_vg
  rhel_home
  rhel_root</literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ o$t$h$e$r$ t$h$a$n$ <literal>m$y$_v$g$</literal> (t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ y$o$u$ h$a$v$e$ j$u$s$t$ d$e$f$i$n$e$d$ f$o$r$ t$h$e$ c$l$u$s$t$e$r$) a$s$ e$n$t<literal></literal><literal></literal></simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ s$p$a$c$e$ a$l$l$o$c$a$t$e$d$ i$n$ s$e$p$a$r$a$t$e$ v$o$l$u$m$e$ g$r$o$u$p$s$ f$o$r$ r$o$o$t$ a$n$d$ f$o$r$ y$o$u$r$ h$o$m$e$ d$i$r$e$c$t$o$r$y$, y$o$u$ w$o$u$l$d$ u$n$c$o$m$m$e$n$t$ t$h$e$ <literal>a$u$t$o$_a$c$t$i$v$a$t$i$o$n$_</literal><literal></literal><literal></literal>N$o$t$e$ t$h$a$t$ t$h$e$ v$o$l$u$m$e$ g$r$o$u$p$ y$o$u$ h$a$v$e$ j$u$s$t$ d$e$f$i$n$e$d$ f$o$r$ t$h$e$ c$l$u$<literal></literal></simpara>
<literallayout class="monospaced">auto_activation_volume_list = [ "rhel_root", "rhel_home" ]</literallayout>
<note>
<simpara>I$f$ n$o$ l$o$c$a$l$ v$o$l$u$m$e$ g$r$o$u$p$s$ a$r$e$ p$r$e$s$e$n$t$ o$n$ a$ n$o$d$e$ t$o$ b$e$ a$c$t$i$v$a$t$e$d$ o$u$t$s$i$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$r$, y$o$u$ m$u$s$t$ s$t$i$l<literal></literal><literal></literal></simpara>
</note>
</listitem>
<listitem>
<simpara>R$e$b$u$i$l$d$ t$h$e$ <literal>i$n$i$t$r$a$m$f$s$</literal> b$o$o$t$ i$m$a$g$e$ t$o$ g$u$a$r$a$n$t$e$e$ t$h$a$t$ t$h$e$ b$o$o$t$ i$m$a$g$e$ w$i$l$l$ n$U$p$d$a$t$e$ t$h$e$ <literal>i$n$i$t$r$a$m$f$s$</literal> d$e$v$i$c$e$ w$iT$h$i$s$ c$o$m$m$a$n$d$ m$a$y$ t$a$k$e$ u$p$ t$o$</simpara>
<literallayout class="monospaced"># <literal>dracut -H -f /boot/initramfs-$(uname -r).img $(uname -r)</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$b$o$o$t$ t$h</simpara>
<note>
<simpara>I$f$ y$o$u$ h$a$v$e$ i$n$s$t$a$l$l$e$d$ a$ n$e$w$ L$i$n$u$x$ k$e$r$n$e$l$ s$i$n$c$e$ b$o$o$t$i$n$g$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ y$o$u$ c$r$e$a$t$e$d$ t$h$e$ b$o$o$t$ i$m$a$g$e$, t$h$e$ n$e$w$ <literal>i$n$i$t$r$d$</literal> i$m$a$g$e$ w$i$l$l$ b$e$ f$o$r$ t$h$e$ k$Y$o$u$ c$a$n$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ c$o$r$r$e$c$t$ <literal>i$n$i$t$r$d$</literal> d$e$v$i$c$e$ i$s$ i$n$ u$s$e$ b$y$ r$u$n$n$i$n$g$ t$h$e$ <literal>u$n$a$m$e$ -r$</literal> c$o$m$m$a$n$d$ b$e$f$I$f$ t$h$e$ r$e$l$e$a$s$e$s$ a$r$e$ n$o$t$ t$h$e$ s$a$m$e$, u$p$d$a$t$e$ t$h$e$ <literal>i$n$i$t$r$d$</literal> f$i$l$e$ a$f$t$e$r$ r$e$b</simpara>
</note>
</listitem>
<listitem>
<simpara>W$h$e$n$ t$h$e$ n$o$d$e$ h$a$s$ r$e$b$o$o$t$e$d$, c$h$e$c$k$ w$h$e$t$h$e$r$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ h$a$v$e$ s$t$a$r$t$e$d$ u$p$ a$g$a$i$n$ <literal></literal>I$f$ t$h$i$s$ y$i$e$l$d$s$ t$h$e$ m$e$s$s$a$g$e$ <literal>E$r$r$o$r$: c$l$u$s$t$e$r$ i$s$ n$o$t$ c$u$r$r$e$n$t$l$y$ r$u$n$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs cluster start</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ w$a$i$t$ u$n$t$i$l$ y$o$u$ h$a$v$e$ r$e$b$o$o$t$e$d$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ s$t$a$r$t$ c$l$u$s$t$</simpara>
<literallayout class="monospaced"># <literal>pcs cluster start --all</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring-nfs-share-configuring-ha-nfs">
<title>C$o$n$f$i$g$u$r$i$n$g$ a</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ t$h$e$ N$F$S</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>mkdir /nfsshare</literal></literallayout>
</listitem>
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, p$e$r$f$o$r</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>M$o$u$n$t$ t$h$e$ e$x$t$4 f$i$l$e$ s$y$s$t$e$m$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$d$ i$n$ <link linkend="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-nfs">C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M$ v$o$l$</link><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>mount /dev/my_vg/my_lv /nfsshare</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>e$x$p$o$r$t$s$</literal> d$i$r$e$c$t$o$r$y$ t$r$e$e$<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>mkdir -p /nfsshare/exports</literal>
[root@z1 ~]# <literal>mkdir -p /nfsshare/exports/export1</literal>
[root@z1 ~]# <literal>mkdir -p /nfsshare/exports/export2</literal></literallayout>
</listitem>
<listitem>
<simpara>P$l$a$c$e$ f$i$l$e$s$ i$n$ t$h$e$ <literal>e$x$p$o$r$t$s$</literal> d$i$r$e$c$t$o$r$y$F$o$r$ t$h$i$s$ e$x$a$m$p$l$e$, w$e$ a$r$e$ c$r$e$a$t$i$n$g$ t$e$s$t$ f$i$l$e$s$ n$a$m$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>touch /nfsshare/exports/export1/clientdatafile1</literal>
[root@z1 ~]# <literal>touch /nfsshare/exports/export2/clientdatafile2</literal></literallayout>
</listitem>
<listitem>
<simpara>U$n$m$o$u$n$t$ t$h$e$ e$x$t$4 f$i$l$e$ s$y$s$t$e$m$ a$n$d$ d$e$a$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>umount /dev/my_vg/my_lv</literal>
[root@z1 ~]# <literal>vgchange -an my_vg</literal></literallayout>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring_resources_for_nfs_server_in_a_cluster-configuring-ha-nfs">
<title>C$o$n$f$i$g$u$r$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$n$d$ r$e$s$o$u$r$c$e$ g$</title>
<simpara>T$h$i$s$ s$e$c$t$i$o$n$ p$r$o$v$i$d$e$s$ t$h$e$ p$r$o$c$e$d$u$r$e$ f$o$r$ c$o$n$f$i$g$u$r$i$</simpara>
<note>
<simpara>I$f$ y$o$u$ h$a$v$e$ n$o$t$ c$o$n$f$i$g$u$r$e$d$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ f$o$r$ y$o$u$r$ c$l$</simpara>
<simpara>I$f$ y$o$u$ f$i$n$d$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ y$o$u$ c$o$n$f$i$g$u$r$e$d$ a$r$e$ n$o$t$ r$u$n$n$i$n$g$, y$o$u$ c$a$n$ r$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o<emphasis></emphasis></literal>T$h$i$s$ s$t$a$r$t$s$ t$h$e$ s$e$r$v$i$c$e$ o$u$t$s$i$d$e$ o$f$ t$h$e$ A$t$ t$h$e$ p$o$i$n$t$ t$h$e$ c$o$n$f$i$g$u$r$e$d$ r$e$s$o$u$r$c$e$s$ a$r$e$ r$u$n$n$i$n$g$ a$g$a$i$n$, r$u$n$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$<emphasis></emphasis></literal></simpara>
</note>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$gT$o$ e$n$s$u$r$e$ t$h$e$s$e$ r$e$s$o$u$r$c$e$s$ a$l$l$ r$u$n$ o$n$ t$h$e$ s$a$m$e$ n$o$d$e$, t$h$e$y$ a$r$e$ c$<literal></literal>T$h$e$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ s$t$a$r$t$ i$n$ t$h$e$ o$r$d$e$r$ i$n$ w$h$i$c$h$ y$o$u$ a$d$d$ t$h$e$m$ t$o$ t$h$e$ g$r$o$u$p$, a$n$d$ t$h$e$y$ w$iR$u$n$ t$h$i$s$ p$r$o$c$e$d$u$r$e$ f$r$o$m$ o$n$e$ n$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ L$V$M$-a$c$t$i$v$a$t$e$ r$<literal></literal>B$e$c$a$u$s$e$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal>n$f$s$g$r$o$u$p$</literal> d$o$e$s$ n$o$t$ y$e$t$ e$x$i$</simpara>
<warning>
<simpara>D$o$ n$o$t$ c$o$n$f$i$g$u$r$e$ m$o$r$e$ t$h$a$n$ o$n$e$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ t$h$a$t$ u$s$e$s$ t$h$e$ s$a$m$e$ L$V$M$ v$o$l$u$m$e$ g$r$o$uA$d$d$i$t$i$o$n$a$l$l$y$, d$o$ n$o$t$ c$o$n$f$i$g$u$r$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ a$s$ a$ c$l</simpara>
</warning>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create my_lvm ocf:heartbeat:LVM-activate</literal> <literal>vgname=my_vg</literal> <literal>vg_access_mode=system_id --group nfsgroup</literal></literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ t$o$ v$e$r$i$</simpara>
<literallayout class="monospaced">root@z1 ~]#  <literal>pcs status</literal>
Cluster name: my_cluster
Last updated: Thu Jan  8 11:13:17 2015
Last change: Thu Jan  8 11:13:08 2015
Stack: corosync
Current DC: z2.example.com (2) - partition with quorum
Version: 1.1.12-a14efad
2 Nodes configured
3 Resources configured

Online: [ z1.example.com z2.example.com ]

Full list of resources:
 myapc  (stonith:fence_apc_snmp):       Started z1.example.com
 Resource Group: nfsgroup
     my_lvm     (ocf::heartbeat:LVM):   Started z1.example.com

PCSD Status:
  z1.example.com: Online
  z2.example.com: Online

Daemon Status:
  corosync: active/enabled
  pacemaker: active/enabled
  pcsd: active/enabled</literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$ <literal>F$i$l$e$s$y$s$t$e$m$</literal> r$e$s</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$ e$x$t$4 <literal>F$i$l$e$s$y$s$t$e$m$</literal> r$e$s$o$u$r$c$e$ n$<literal></literal><literal></literal>T$h$i$s$ f$i$l$e$ s$y$s$t$e$m$ u$s$e$s$ t$h$e$ L$V$M$ v$o$l$u$m$e$ g$r$o$u$p$ a$n$d$ e$x$t$4 f$i$l$e$ s$y$s$t$e$m$ y$o$u$ c$r$e$a$t$e$d$ i$n$ <link linkend="proc_configuring-lvm-volume-with-ext4-file-system-configuring-ha-nfs">C$o$n$f$i$g$u$r$i$n$g$ a$n$ L$V$M$ v$o$l$u$m$e$ w$i$t$h$ a$n$ e$x$t$4 f$i$l</link><literal></literal><link linkend="proc_configuring-nfs-share-configuring-ha-nfs"></link></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create nfsshare Filesystem</literal> \
<literal>device=/dev/my_vg/my_lv directory=/nfsshare</literal> \
<literal>fstype=ext4 --group nfsgroup</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ s$p$e$c$i$f$y$ m$o$u$n$t$ o$p$t$i$o$n$s$ a$s$ p$a$r$t$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$<literal></literal><literal><emphasis></emphasis></literal>R$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$e$s$c$r$i$b$e$ F$i$l$e$s$y$s$t$e$m$</literal> c$o$</simpara>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ <literal>m$y$_l$v$m$</literal> a$n$d$ <literal>n$f$s$s$h$</literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
...
Full list of resources:
 myapc  (stonith:fence_apc_snmp):       Started z1.example.com
 Resource Group: nfsgroup
     my_lvm     (ocf::heartbeat:LVM):   Started z1.example.com
     nfsshare   (ocf::heartbeat:Filesystem):    Started z1.example.com
...</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ <literal>n$f$s$s$e$r$v$e$r$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>n$f$s$-d$a$e$m$o$n$</literal><literal></literal></simpara>
<note>
<simpara>T$h$e$ <literal>n$f$s$s$e$r$v$e$r$</literal> r$e$s$o$u$r$c$e$ a$l$l$o$w$s$ y$o$u$ t$o$ s$p$e$c$i$f$y$ a$n$ <literal>n$f$s$_s$h$a$r$e$d$_i$n$f$o$d$i$r$</literal> p$a$r$a$m$e$t$e$r$, w$h$i$c$h$ i$s$ a$ </simpara>
<simpara>I$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ t$h$i$s$ a$t$t$r$i$b$u$t$e$ b$e$ s$e$t$ t$o$ a$ s$u$b$d$i$r$e$c$t$o$r$y$ o$f$ o$n$e$ o$f$ t$h$e$ <literal>F</literal>T$h$i$s$ e$n$s$u$r$e$s$ t$h$a$t$ t$h$e$ N$F$S$ s$e$r$v$e$r$s$ a$r$e$ s$t$o$r$i$n$g$ t$h$e$i$r$ s$t$a$t$e$f$u$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$ d$e$v$i$c$e$ t$h$a$t$ w$i$I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara><literal>/n$f$s$s$h$a$r$e$</literal> i$s$ t$h$e$ s$h$a$r$e$d$-s$t$o$r$a$g$e$ d$i$r$e$c$t$o$r$y$<literal></literal></simpara>
</listitem>
<listitem>
<simpara><literal>/n$f$s$s$h$a$r$e$/e$x$p$o$r$t$s$/e$x$p$o$r$t$1</literal> a$n$d$ <literal>/n$f$s$s$h$a$r$e$/e$x$p$o$r$</literal></simpara>
</listitem>
<listitem>
<simpara><literal>/n$f$s$s$h$a$r$e$/n$f$s$i$n$f$o$</literal> i$s$ t$h$e$ s$h$a$r$e$d$-i$n$f$o$r$m$a$t$i$o$n$<literal></literal></simpara>
</listitem>
</itemizedlist>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create nfs-daemon nfsserver</literal> \
<literal>nfs_shared_infodir=/nfsshare/nfsinfo nfs_no_notify=true</literal> \
<literal>--group nfsgroup</literal>

[root@z1 ~]# <literal>pcs status</literal>
...</literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ <literal>e$x$p$o$r$t$f$s$</literal> r$e$s$o$u$r$c$e$s$ t$o$ e$x$p$o$r$t$ t<literal></literal>T$h$e$s$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ p$a$r$t$ o$f$ t$h$e<literal></literal>T$h$i$s$ b$u$i$l$d$s$ a$ v$i$r$t$u$a$l$ d$i$r$e$c$N$F$S$v$3 c$l$i$e$n$t$s$ c$a$n$ a$c$c$e$s$s$ t$</simpara>
<note>
<simpara>T$h$e$ <literal>f$s$i$d$=0</literal> o$p$t$i$o$n$ i$s$ r$e$q$u$i$r$e$d$ o$n$l$y$ i$f$ y$o$u$ w$a$n$t$ t$o$ c$r$e$aF$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$, s$e$e$ <link xlink:href="https://access.redhat.com/solutions/548083/">H$o$w$ d$o$ I$ c$o$n$f$i$g$u$r$e$ t$h$e$ f$s$i$d$ o$</link></simpara>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create  nfs-root exportfs</literal> \
<literal>clientspec=192.168.122.0/255.255.255.0</literal> \
<literal>options=rw,sync,no_root_squash</literal> \
<literal>directory=/nfsshare/exports</literal> \
<literal>fsid=0 --group nfsgroup</literal>

[root@z1 ~]# # <literal>pcs resource create  nfs-export1 exportfs</literal> \
<literal>clientspec=192.168.122.0/255.255.255.0</literal> \
<literal>options=rw,sync,no_root_squash directory=/nfsshare/exports/export1</literal> \
<literal>fsid=1 --group nfsgroup</literal>

[root@z1 ~]# # <literal>pcs resource create  nfs-export2 exportfs</literal> \
<literal>clientspec=192.168.122.0/255.255.255.0</literal> \
<literal>options=rw,sync,no_root_squash directory=/nfsshare/exports/export2</literal> \
<literal>fsid=2 --group nfsgroup</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ r$e$s$o$u$r$c$e$ t$h$a$t$ N$F$S$ c$lT$h$i$s$ r$e$s$o$u$r$c$e$ i$s$ p$a$r$t$ o$f$ t$h$e$ r<literal></literal>F$o$r$ t$h$i$s$ e$x$a$m$p$l$e$ d$e$p$l$o$y$m$e$n$t$, w$e$ a$r$e$ u$s$i$n$g$ 192.168.1</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create nfs_ip IPaddr2</literal> \
<literal>ip=192.168.122.200 cidr_netmask=24 --group nfsgroup</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ a$n$ <literal>n$f$s$n$o$t$i$f$y$</literal> r$e$s$o$u$r$c$e$ f$o$r$ s$e$n$d$i$n$g$ N$F$S$v$3 r$e$b$o$o$t$ n$o$t$i$f$i$c$a$t$iT$h$i$s$ r$e$s$o$u$r$c$e$ i$s$ p$a$r$t$ o$f$ t$h$e$ r<literal></literal></simpara>
<note>
<simpara>F$o$r$ t$h$e$ N$F$S$ n$o$t$i$f$i$c$a$t$i$o$n$ t$o$ b$e$ p$r$o$c$e$s$s$e$d$ c$o$r$r$e$c$t$l$y$, t$h$e$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ m$u$s$t$ h$a$v$e$ a$ h$o$s$t$ n$a$m$e$ a</simpara>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create nfs-notify nfsnotify</literal> \
<literal>source_host=192.168.122.200 --group nfsgroup</literal></literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ c$r$e$a$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$n$d$ t$h$e$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$N$o$t$e$ t$h$a$t$ a$l$l$ r$e$s$o$u$r$c$e$s$ a$r$e$ r$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
...
Full list of resources:
 myapc  (stonith:fence_apc_snmp):       Started z1.example.com
 Resource Group: nfsgroup
     my_lvm     (ocf::heartbeat:LVM):   Started z1.example.com
     nfsshare   (ocf::heartbeat:Filesystem):    Started z1.example.com
     nfs-daemon (ocf::heartbeat:nfsserver):     Started z1.example.com
     nfs-root   (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs-export1        (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs-export2        (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs_ip     (ocf::heartbeat:IPaddr2):       Started  z1.example.com
     nfs-notify (ocf::heartbeat:nfsnotify):     Started z1.example.com
...</literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_testing-nfs-resource-configuration-configuring-ha-nfs">
<title>T$e$s$t$i$n$g$ t$h$e$ N$F$S$ r$e$s$o$u</title>
<simpara>Y$o$u$ c$a$n$ v$a$l$i$d$a$t$e$ y$o$u$r$ s$y$s$t$e$m$ c$o$n$f$i$g$u$r$a$t$Y$o$u$ s$h$o$u$l$d$ b$e$ a$b$l$e$ t$o$ m$o$u$n$t$ t$h$e$ e$x$p$o$r$t$e$d$ f$i$l$</simpara>
<section xml:id="testing_the_nfs_export" remap="_testing_the_nfs_export">
<title>T$e$s$t$i$n$g$ t$h$e$ </title>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ a$ n$o$d$e$ o$u$t$s$i$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$, r$e$s$i$d$i$n$g$ i$n$ t$h$e$ s$a$m$e$ n$e$t$w$o$r$k$ a$s$ t$h$e$ d$e$p$l$o$y$m$e$n$t$,F$o$r$ t$h$i$s$ e$x$a$m$p$l$e$, w$e$ a$r$e$ u$s$i$n$g$ t$h$e</simpara>
<literallayout class="monospaced"># <literal>showmount -e 192.168.122.200</literal>
Export list for 192.168.122.200:
/nfsshare/exports/export1 192.168.122.0/255.255.255.0
/nfsshare/exports         192.168.122.0/255.255.255.0
/nfsshare/exports/export2 192.168.122.0/255.255.255.0</literallayout>
</listitem>
<listitem>
<simpara>T$o$ v$e$r$i$f$y$ t$h$a$t$ y$o$u$ c$a$n$ m$o$u$n$t$ t$h$e$ N$F$S$ s$h$a$r$e$ w$i$t$h$ N$F$S$v$4, m$o$u$n$t$ tA$f$t$e$r$ m$o$u$n$t$i$n$g$, v$e$r$i$f$y$ t$h$a$t$ t$h$e$ c$o$n$t$e$n$t$s$ o$f$U$n$m$o$u$n$t$ t$h$e$ s$h$a$r$e$</simpara>
<literallayout class="monospaced"># <literal>mkdir nfsshare</literal>
# <literal>mount -o "vers=4" 192.168.122.200:export1 nfsshare</literal>
# <literal>ls nfsshare</literal>
clientdatafile1
# <literal>umount nfsshare</literal></literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ y$o$u$ c$a$n$ m$o$u$n$t$ t$h$A$f$t$e$r$ m$o$u$n$t$i$n$g$, v$e$r$i$f$y$ t$h$a$t$ t$h$e$ t$e$s$t$ f$<literal></literal>U$n$l$i$k$e$ N$F$S$v$4, s$i$n$c$e$ N$F$S$v$3 d$o$e$s$ n$o$t$ u$s$e$ t$h$e$ v$i$r$t$u$a$l$ f$i$l$eU$n$m$o$u$n$t$ t$h$e$ s$h$a$r$e$</simpara>
<literallayout class="monospaced"># <literal>mkdir nfsshare</literal>
# <literal>mount -o "vers=3" 192.168.122.200:/nfsshare/exports/export2 nfsshare</literal>
# <literal>ls nfsshare</literal>
clientdatafile2
# <literal>umount nfsshare</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="testing_for_failover" remap="_testing_for_failover">
<title>T$e$s$t$i$n$g$ f$o$r</title>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ a$ n$o$d$e$ o$u$t$s$i$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$, m$o$u$n$t$ t$h$e$ N$F$S$ s$h$a$r$e$ a$n$d$ v$e$r$i$f$y$ a$c$c$e$s$s$ t$o$<literal></literal><link linkend="proc_configuring-nfs-share-configuring-ha-nfs"></link></simpara>
<literallayout class="monospaced"># <literal>mkdir nfsshare</literal>
# <literal>mount -o "vers=4" 192.168.122.200:export1 nfsshare</literal>
# <literal>ls nfsshare</literal>
clientdatafile1</literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ a$ n$o$d$e$ w$i$t$h$i$n$ t$h$e$ c$l$u$s$t$e$r$, d$e$t$e$r$m$i$n$e$ w$h$i$c$h$ n<literal></literal>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, <literal>n$f$s$g$r$o$u$p$</literal> i$s$ r$u<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
...
Full list of resources:
 myapc  (stonith:fence_apc_snmp):       Started z1.example.com
 Resource Group: nfsgroup
     my_lvm     (ocf::heartbeat:LVM):   Started z1.example.com
     nfsshare   (ocf::heartbeat:Filesystem):    Started z1.example.com
     nfs-daemon (ocf::heartbeat:nfsserver):     Started z1.example.com
     nfs-root   (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs-export1        (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs-export2        (ocf::heartbeat:exportfs):      Started z1.example.com
     nfs_ip     (ocf::heartbeat:IPaddr2):       Started  z1.example.com
     nfs-notify (ocf::heartbeat:nfsnotify):     Started z1.example.com
...</literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ a$ n$o$d$e$ w$i$t$h$i$n$ t$h$e$ c$l$u$s$t$e$r$, p$u$t$ t$h$e$ n$o$d$e$ t$h$a$<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs node standby z1.example.com</literal></literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ <literal>n$f$s$g$r$o$u$p$</literal> s$u$c$c$e$s$s$f$u$l$l$y$ s$t</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status</literal>
...
Full list of resources:
 Resource Group: nfsgroup
     my_lvm     (ocf::heartbeat:LVM):   Started z2.example.com
     nfsshare   (ocf::heartbeat:Filesystem):    Started z2.example.com
     nfs-daemon (ocf::heartbeat:nfsserver):     Started z2.example.com
     nfs-root   (ocf::heartbeat:exportfs):      Started z2.example.com
     nfs-export1        (ocf::heartbeat:exportfs):      Started z2.example.com
     nfs-export2        (ocf::heartbeat:exportfs):      Started z2.example.com
     nfs_ip     (ocf::heartbeat:IPaddr2):       Started  z2.example.com
     nfs-notify (ocf::heartbeat:nfsnotify):     Started z2.example.com
...</literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ t$h$e$ n$o$d$e$ o$u$t$s$i$d$e$ t$h$e$ c$l$u$s$t$e$r$ o$n$ w$h$i$c$h$ y$o$u$ h$a$v$e$ m$o$u$n$t$e$d$ t$h$e$ N$F$S$ s$h$a$r$e$, v$e$r$i$f$y$ t$h$a$t$ t$h$i$s$ o$u$t$s$</simpara>
<literallayout class="monospaced"># <literal>ls nfsshare</literal>
clientdatafile1</literallayout>
<simpara>S$e$r$v$i$c$e$ w$i$l$l$ b$e$ l$o$s$t$ b$r$i$e$f$l$y$ f$o$r$ t$h$e$ c$l$i$e$n$t$ d$u$r$i$n$g$ t$h$e$ f$a$i$l$o$v$e$r$ b$u$t$B$y$ d$e$f$a$u$l$t$, c$l$i$e$n$t$s$ u$s$i$n$g$ N$F$S$v$4 m$a$y$ t$a$k$e$ u$p$ t$o$ 90 s$e$c$o$n$d$s$ t$o$ r$e$c$o$v$e$r$ t$h$e$ m$o$u$n$t$; t$h$i$s$ 90 s$e$c$o$n$d$s$ r$e$p$r$N$F$S$v$3 c$l$i$e$n$t$s$ s$h$o$u$l$d$ r$e$c$o$v$e$r$ a$c$c$e$s$s$ t$o$ t$h$e$ </simpara>
</listitem>
<listitem>
<simpara>F$r$o$m$ a$ n$o$d$e$ w$i$t$h$i$n$ t$h$e$ c$l$u$s$t$e$r$, r$e$m$o$v$e$ t$h$e$ n$o$d$e$ t$h$a$t$ w$a$s$ i$n$i$t$<literal></literal></simpara>
<note>
<simpara>R$e$m$o$v$i$n$g$ a$ n$o$d$e$ f$r$o$m$ <literal>s$t$a$n$d$b$y$</literal> m$o$d$e$ d$o$e$s$ n$o$t$ i$n$ i$t$s$e$l$f$ c$a$u$s$T$h$i$s$ w$i$l$l$ d$e$p$e$n$d$ o$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$</literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> m$e$t$a$ a$t$t$r$i$b$u$t$e$, s$e$<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#proc_setting-resource-stickiness-determining-which-node-a-resource-runs-on"></link></simpara>
</note>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs node unstandby z1.example.com</literal></literallayout>
</listitem>
</orderedlist>
</section>
</section>
</chapter>
<chapter xml:id="assembly_configuring-gfs2-in-a-cluster-configuring-and-managing-high-availability-clusters">
<title>G$F$S$2 f$i$l$e$ s$y$s$t$e$m$s</title>
<simpara>T$h$i$s$ s$e$c$t$i$o$n</simpara>
<itemizedlist>
<listitem>
<simpara>A$ p$r$o$c$e$d$u$r$e$ t$o$ s$e$t$ u$p$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ t$h$a$t$ i</simpara>
</listitem>
<listitem>
<simpara>A$ p$r$o$c$e$d$u$r$e$ t$o$ s$e$t$ u$p$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ </simpara>
</listitem>
<listitem>
<simpara>A$ p$r$o$c$e$d$u$r$e$ t$o$ m$i$g$r$a$t$e$ R$H$E$L$ 7 l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ t$h$a$t$ c$o$</simpara>
</listitem>
</itemizedlist>
<section xml:id="proc_configuring-gfs2-in-a-cluster.adoc-configuring-gfs2-cluster">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ G$F$S$2 f$i$l$e$ </title>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ i$s$ a$n$ o$u$t$l$i$n$e$ o$f$ t$h$e$ s$t$e$p$s$ r$e$q$u$i$r$e$d$ t$o$ s$e$t$ u$p$ a$ T$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ t$h$r$e$e$ G$F$S$2 f$i$l$e$ s$y</simpara>
<itemizedlist>
<title>P$r$e$r$e$q$u$</title>
<listitem>
<simpara>I$n$s$t$a$l$l$ a$n$d$ s$t$a$r$t$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ o$n$ a$l$l$ n$o$</simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ f$e$n$c$i$n$g$ </simpara>
</listitem>
</itemizedlist>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$r$e$a$t$i$n$g$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ a$n$d$ c$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ f$o$r$ t$h$e$ c$l$u<link linkend="assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters"></link></simpara>
<orderedlist numeration="arabic">
<title>P$r$o$c$e</title>
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$, i$n$s$t$a$l$l$ t$h$e$ <literal>l$v$m$2-</literal><literal></literal><literal></literal>T$o$ s$u$p$p$o$r$t$ t$h$e$s$e$ p$a$c$k$a$g$e$s$, y$o$u$ m$u$s$t$ b$e$ s$u$b$s$c$r$i$b$e$d$ t$o$ t$h$e$ A$p$p$</simpara>
<literallayout class="monospaced"># <literal>yum install lvm2-lockd gfs2-utils dlm</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ t$h$e$ g$l$o$b$a$l$ P$a$c$e$m$a$k$e$r$ p$a$r$a$m$e$t$e$<literal></literal><literal></literal></simpara>
<note>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ v$a$l$u$e$ o$f$ <literal>n$o$-q$u$o$r$u$m$-p$o$l$i$c$y$</literal> i$s$ s$e$t$ t$o$ <literal>s$t$o$p$</literal>, i$n$d$i$c$a$t$i$n$g$ t$h$a$t$ o$n$c$e$ q$u$o$r$u$m$ i$s$ l$o$s$t$,T$y$p$i$c$a$l$l$y$ t$h$i$s$ d$e$f$a$u$l$t$ i$s$ t$h$e$ s$a$f$e$s$t$ a$n$d$ m$o$s$t$ o$p$t$i$m$a$l$ o$p$t$i$o$n$, b$u$t$ u$W$h$e$n$ q$u$o$r$u$m$ i$s$ l$o$s$t$ b$o$t$h$ t$h$e$ a$p$p$l$i$c$a$t$i$o$n$s$ u$s$i$n$g$ t$h$e$ G$F$S$2 m$o$u$n$t$s$ a$A$n$y$ a$t$t$e$m$p$t$s$ t$o$ s$t$o$p$ t$h$e$s$e$ r$e$s$o$u$r$c$e$s$ w$i$t$h$o$u$t$ q$u$o$r$u$m$ w$i$l$l$ f$a$i$l$ w$h$i$c$h$ w$i$l$l$ u$l$t$i$m$a$t$e$l$</simpara>
<simpara>T$o$ a$d$d$r$e$s$s$ t$h$i$s$ s$i$t$u$a$t$i$o$n$, s$e$t$ <literal>n$o$-q$u$o$r$u$m$-p$o$</literal><literal></literal>T$h$i$s$ m$e$a$n$s$ t$h$a$t$ w$h$e$n$ q$u$o$r$u$m$ i$s$ l$o$s$t$, t$h$e$ r$e$m$a$i$n$i$n$g$ p$a$r$t$i$</simpara>
</note>
<literallayout class="monospaced"># <literal>pcs property set no-quorum-policy=freeze</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ u$p$ a$ <literal>d$l$m$</literal> T$h$i$s$ i$s$ a$ r$e$q$u$i$r$e$d$ d$e$p$e$n$d$e$n$c$y$ f$o$r$ c$o$n$f$i$g$u$r$T$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ t$h$e$ <literal>d$l$m$</literal> r$e$s$o$u$r$c$e$ a$s$ p$a$r<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create dlm --group locking ocf:pacemaker:controld op monitor interval=30s on-fail=fence</literal></literallayout>
</listitem>
<listitem>
<simpara>C$l$o$n$e$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$u$r$c$e$ g$r$o$u$p$ s$o$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource clone locking interleave=true</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ u$p$ a$n$ <literal>l$v$m$l$o$c$k$d$</literal> r$e$s$o$u$r$c$e$ a$s$ p<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create lvmlockd --group locking ocf:heartbeat:lvmlockd op monitor interval=30s on-fail=fence</literal></literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status --full</literal>
Cluster name: my_cluster
[...]

Online: [ z1.example.com (1) z2.example.com (2) ]

Full list of resources:

 smoke-apc      (stonith:fence_apc):    Started z1.example.com
 Clone Set: locking-clone [locking]
     Resource Group: locking:0
         dlm    (ocf::pacemaker:controld):      Started z1.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z1.example.com
     Resource Group: locking:1
         dlm    (ocf::pacemaker:controld):      Started z2.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z2.example.com
     Started: [ z1.example.com z2.example.com ]</literallayout>
</listitem>
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$t$eO$n$e$ v$o$l$u$m$e$ g$r$o$u$p$ w$i$l$l$ c$o$n$t$a$i$n$ t$w$o$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$s$, a$n$d$ t$h$e$ o$t$h</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ t$h$e$ s$h$a$r$e$d$ v<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>vgcreate --shared shared_vg1 /dev/vdb</literal>
  Physical volume "/dev/vdb" successfully created.
  Volume group "shared_vg1" successfully created
  VG shared_vg1 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ t$h$e$ s$h$a$r$e$d$ v<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>vgcreate --shared shared_vg2 /dev/vdc</literal>
  Physical volume "/dev/vdc" successfully created.
  Volume group "shared_vg2" successfully created
  VG shared_vg2 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
</listitem>
<listitem>
<simpara>O$n$ t$h$e$ s$e$c$o$n$d$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, s$t$a$r$t$ t$h$e$ l$o$c$k$ m$a$n$</simpara>
<literallayout class="monospaced">[root@z2 ~]# <literal>vgchange --lock-start shared_vg1</literal>
  VG shared_vg1 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...
[root@z2 ~]# <literal>vgchange --lock-start shared_vg2</literal>
  VG shared_vg2 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
</listitem>
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$t$e$ t$h$e$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$O$n$e$ j$o$u$r$n$a$l$ i$s$ r$e$q$u$i$r$e$d$ f$o$r$ e$a$c$h$ n$o$d$E$n$s$u$r$e$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$ e$n$o$u$g$h$ j$o$u$r$n$a$l$s$ f$o$r</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>lvcreate --activate sy -L5G -n shared_lv1 shared_vg1</literal>
  Logical volume "shared_lv1" created.
[root@z1 ~]# <literal>lvcreate --activate sy -L5G -n shared_lv2 shared_vg1</literal>
  Logical volume "shared_lv2" created.
[root@z1 ~]# <literal>lvcreate --activate sy -L5G -n shared_lv1 shared_vg2</literal>
  Logical volume "shared_lv1" created.

[root@z1 ~]# <literal>mkfs.gfs2 -j2 -p lock_dlm -t my_cluster:gfs2-demo1 /dev/shared_vg1/shared_lv1</literal>
[root@z1 ~]# <literal>mkfs.gfs2 -j2 -p lock_dlm -t my_cluster:gfs2-demo2 /dev/shared_vg1/shared_lv2</literal>
[root@z1 ~]# <literal>mkfs.gfs2 -j2 -p lock_dlm -t my_cluster:gfs2-demo3 /dev/shared_vg2/shared_lv1</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ f$o$r$ e$a$c$h$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ t$o$ a$u$t$o</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>s$h$a$r$e$d$l$v$1</literal> f$o$r$ t$h$e$ l$o$g$i<literal></literal><literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ a$l$s$o$ c$r$e$a$t$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal></literal>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ h$a$s$ t$h$e$ s$a$m$e$ n$a$m$e$ a$s$ t$h$e$ s$h$a</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create sharedlv1 --group shared_vg1 ocf:heartbeat:LVM-activate lvname=shared_lv1 vgname=shared_vg1 activation_mode=shared vg_access_mode=lvmlockd</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>s$h$a$r$e$d$l$v$2</literal> f$o$r$ t$h$e$ l$o$g$i<literal></literal><literal></literal>T$h$i$s$ r$e$s$o$u$r$c$e$ w$i$l$l$ a$l$s$o$ b$e$ p$a$r$t$ o$f$ t$<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create sharedlv2 --group shared_vg1 ocf:heartbeat:LVM-activate lvname=shared_lv2 vgname=shared_vg1 activation_mode=shared vg_access_mode=lvmlockd</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>s$h$a$r$e$d$l$v$3</literal> f$o$r$ t$h$e$ l$o$g$i<literal></literal><literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ a$l$s$o$ c$r$e$a$t$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create sharedlv3 --group shared_vg2 ocf:heartbeat:LVM-activate lvname=shared_lv1 vgname=shared_vg2 activation_mode=shared vg_access_mode=lvmlockd</literal></literallayout>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>C$l$o$n$e$ t$h$e$ t$w$o$ n$e$w$ r$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource clone shared_vg1 interleave=true</literal>
[root@z1 ~]# <literal>pcs resource clone shared_vg2 interleave=true</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$u$r$c$e$ g$r$o$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs constraint order start locking-clone then shared_vg1-clone</literal>
Adding locking-clone shared_vg1-clone (kind: Mandatory) (Options: first-action=start then-action=start)
[root@z1 ~]# <literal>pcs constraint order start locking-clone then shared_vg2-clone</literal>
Adding locking-clone shared_vg2-clone (kind: Mandatory) (Options: first-action=start then-action=start)</literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>v$g$1</literal> a$n$d$ <literal>v$g$2</literal> r$e$s$o$u$r$c$e$ <literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs constraint colocation add shared_vg1-clone with locking-clone</literal>
[root@z1 ~]# <literal>pcs constraint colocation add shared_vg2-clone with locking-clone</literal></literallayout>
</listitem>
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, v$e$r$i$f$y$ t$h$a$tT$h$e$r$e$ m$a$y$ b$e$ a$ d$e$l$a$y$ o</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>lvs</literal>
  LV         VG          Attr       LSize
  shared_lv1 shared_vg1  -wi-a----- 5.00g
  shared_lv2 shared_vg1  -wi-a----- 5.00g
  shared_lv1 shared_vg2  -wi-a----- 5.00g

[root@z2 ~]# <literal>lvs</literal>
  LV         VG          Attr       LSize
  shared_lv1 shared_vg1  -wi-a----- 5.00g
  shared_lv2 shared_vg1  -wi-a----- 5.00g
  shared_lv1 shared_vg2  -wi-a----- 5.00g</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ f$i$l$e$ s$y$s$t$e$m$ r$e$s$o$u$r$c$e$ t$o$ a$u$t$o$m$a$t$i$c$a$l$l$y$ m</simpara>
<simpara>Y$o$u$ s$h$o$u$l$d$ n$o$t$ a$d$d$ t$h$e$ f$i$l$e$ s$y$s$t$e$m$ t$o$ t$h$e$ <literal>/e$t$c$/f$s$t$a$b$</literal> f$i$l$e$ b$e$c$a$u$s$e$M$o$u$n$t$ o$p$t$i$o$n$s$ c$a$n$ b$e$ s$p$e$c$i$f$i$e$d$ a$s$ p$a$r$t$ o$f$ t$h$e$ r$e$s$o<literal><emphasis></emphasis></literal>R$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$e$s$c$r$i$b$e$ F$i$l$e$s$y$s$t$e$m$</literal> c$o$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$r$e$a$t$e$ T$h$e$s$e$ c$o$m$m$a$n$d$s$ a$d$d$ e$a$c$h$ r$e$s$o$u$r$c$e$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ t$h$a$t$ i$n$c$l$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create sharedfs1 --group shared_vg1 ocf:heartbeat:Filesystem device="/dev/shared_vg1/shared_lv1" directory="/mnt/gfs1" fstype="gfs2" options=noatime op monitor interval=10s on-fail=fence</literal>
[root@z1 ~]# <literal>pcs resource create sharedfs2 --group shared_vg1 ocf:heartbeat:Filesystem device="/dev/shared_vg1/shared_lv2" directory="/mnt/gfs2" fstype="gfs2" options=noatime op monitor interval=10s on-fail=fence</literal>
[root@z1 ~]# <literal>pcs resource create sharedfs3 --group shared_vg2 ocf:heartbeat:Filesystem device="/dev/shared_vg2/shared_lv1" directory="/mnt/gfs3" fstype="gfs2" options=noatime op monitor interval=10s on-fail=fence</literal></literallayout>
</listitem>
</orderedlist>
<orderedlist numeration="arabic">
<title>V$e$r$i$f$i$c$a$t$</title>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$s$ a$r$e$ m$o$u$n</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>mount | grep gfs2</literal>
/dev/mapper/shared_vg1-shared_lv1 on /mnt/gfs1 type gfs2 (rw,noatime,seclabel)
/dev/mapper/shared_vg1-shared_lv2 on /mnt/gfs2 type gfs2 (rw,noatime,seclabel)
/dev/mapper/shared_vg2-shared_lv1 on /mnt/gfs3 type gfs2 (rw,noatime,seclabel)

[root@z2 ~]# <literal>mount | grep gfs2</literal>
/dev/mapper/shared_vg1-shared_lv1 on /mnt/gfs1 type gfs2 (rw,noatime,seclabel)
/dev/mapper/shared_vg1-shared_lv2 on /mnt/gfs2 type gfs2 (rw,noatime,seclabel)
/dev/mapper/shared_vg2-shared_lv1 on /mnt/gfs3 type gfs2 (rw,noatime,seclabel)</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status --full</literal>
Cluster name: my_cluster
[...]

Full list of resources:

 smoke-apc      (stonith:fence_apc):    Started z1.example.com
 Clone Set: locking-clone [locking]
     Resource Group: locking:0
         dlm    (ocf::pacemaker:controld):      Started z2.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z2.example.com
     Resource Group: locking:1
         dlm    (ocf::pacemaker:controld):      Started z1.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z1.example.com
     Started: [ z1.example.com z2.example.com ]
 Clone Set: shared_vg1-clone [shared_vg1]
     Resource Group: shared_vg1:0
         sharedlv1      (ocf::heartbeat:LVM-activate):  Started z2.example.com
         sharedlv2      (ocf::heartbeat:LVM-activate):  Started z2.example.com
         sharedfs1      (ocf::heartbeat:Filesystem):    Started z2.example.com
         sharedfs2      (ocf::heartbeat:Filesystem):    Started z2.example.com
     Resource Group: shared_vg1:1
         sharedlv1      (ocf::heartbeat:LVM-activate):  Started z1.example.com
         sharedlv2      (ocf::heartbeat:LVM-activate):  Started z1.example.com
         sharedfs1      (ocf::heartbeat:Filesystem):    Started z1.example.com
         sharedfs2      (ocf::heartbeat:Filesystem):    Started z1.example.com
     Started: [ z1.example.com z2.example.com ]
 Clone Set: shared_vg2-clone [shared_vg2]
     Resource Group: shared_vg2:0
         sharedlv3      (ocf::heartbeat:LVM-activate):  Started z2.example.com
         sharedfs3      (ocf::heartbeat:Filesystem):    Started z2.example.com
     Resource Group: shared_vg2:1
         sharedlv3      (ocf::heartbeat:LVM-activate):  Started z1.example.com
         sharedfs3      (ocf::heartbeat:Filesystem):    Started z1.example.com
     Started: [ z1.example.com z2.example.com ]

...</literallayout>
</listitem>
</orderedlist>
<itemizedlist>
<title>A$d$d$i$t$i$o$n$a$l$</title>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$n$f$i$g$u$r$i$n$g$ s$h$a$r$e$d$ b$l$o$c$k$ s$t$o$r$a$g$e$ f$o$r$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_red_hat_enterprise_linux_8_on_public_cloud_platforms/configuring-rhel-high-availability-on-azure_cloud-content#azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure"></link></simpara>
</listitem>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$n$f$i$g$u$r$i$n$g$ s$h$a$r$e$d$ b$l$o$c$k$ s$t$o$r$a$g$e$ f$o$r$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_red_hat_enterprise_linux_8_on_public_cloud_platforms/configuring-a-red-hat-high-availability-cluster-on-aws_deploying-a-virtual-machine-on-aws#aws-configuring-shared-block-storage_configuring-a-red-hat-high-availability-cluster-on-aws"></link></simpara>
</listitem>
<listitem>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$n$f$i$g$u$r$i$n$g$ s$h$a$r$e$d$ b$l$o$c$k$ s$t$o$r$a$g$e$ f$o$r$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$ o$m$ A$l$i$b$a$b$a$ C$l$o$u$d$, s$<link xlink:href="https://access.redhat.com/articles/5371181"></link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_configuring-encrypted-gfs2.adoc-configuring-gfs2-cluster">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ e$n$c$r$y$p$t$e$d$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m</title>
<simpara role="_abstract">T$h$i$s$ p$r$o$c$e$d$u$r$e$ c$r$e$a$t$e$s$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ t$h$a$t$ i$T$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ o$n$e$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$s$ o$n$ a$ l$o$g$E$n$c$r$y$p$t$e$d$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$s$ a$r$e$ s$u$p$p$o$r$t$e$d$ u$s$i$n$g$ t$h$e$ <literal>c$r$y$p$t$</literal> r$e$s$o$u$</simpara>
<itemizedlist>
<title>P$r$e$r$e$q$u$</title>
<listitem>
<simpara>I$n$s$t$a$l$l$ a$n$d$ s$t$a$r$t$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ o$n$ a$l$l$ n$o$</simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ f$e$n$c$i$n$g$ </simpara>
</listitem>
</itemizedlist>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$r$e$a$t$i$n$g$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ a$n$d$ c$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ f$o$r$ t$h$e$ c$l$u<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_creating-high-availability-cluster-configuring-and-managing-high-availability-clusters"></link></simpara>
<formalpara>
<title>P$r$o$c$e</title>
<para>C$o$n$f$i$g$u$r$e$ a$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u</para>
</formalpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$, i$n$s$t$a$l$l$ t$h$e$ <literal>l$v$m$2-</literal><literal></literal><literal></literal>T$o$ s$u$p$p$o$r$t$ t$h$e$s$e$ p$a$c$k$a$g$e$s$, y$o$u$ m$u$s$t$ b$e$ s$u$b$s$c$r$i$b$e$d$ t$o$ t</simpara>
<literallayout class="monospaced"># <literal>yum install lvm2-lockd gfs2-utils dlm</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ t$h$e$ g$l$o$b$a$l$ P$a$c$e$m$a$k$e$r$ p$a$r$a$m$e$t$e$<literal></literal><literal></literal></simpara>
<note>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ v$a$l$u$e$ o$f$ <literal>n$o$-q$u$o$r$u$m$-p$o$l$i$c$y$</literal> i$s$ s$e$t$ t$o$ <literal>s$t$o$p$</literal>, i$n$d$i$c$a$t$i$n$g$ t$h$a$t$ o$n$c$e$ q$u$o$r$u$m$ i$s$ l$o$s$t$,T$y$p$i$c$a$l$l$y$ t$h$i$s$ d$e$f$a$u$l$t$ i$s$ t$h$e$ s$a$f$e$s$t$ a$n$d$ m$o$s$t$ o$p$t$i$m$a$l$ o$p$t$i$o$n$, b$u$t$ u$W$h$e$n$ q$u$o$r$u$m$ i$s$ l$o$s$t$ b$o$t$h$ t$h$e$ a$p$p$l$i$c$a$t$i$o$n$s$ u$s$i$n$g$ t$h$e$ G$F$S$2 m$o$u$n$t$s$ a$A$n$y$ a$t$t$e$m$p$t$s$ t$o$ s$t$o$p$ t$h$e$s$e$ r$e$s$o$u$r$c$e$s$ w$i$t$h$o$u$t$ q$u$o$r$u$m$ w$i$l$l$ f$a$i$l$ w$h$i$c$h$ w$i$l$l$ u$l$t$i$m$a$t$e$l$</simpara>
<simpara>T$o$ a$d$d$r$e$s$s$ t$h$i$s$ s$i$t$u$a$t$i$o$n$, s$e$t$ <literal>n$o$-q$u$o$r$u$m$-p$o$</literal><literal></literal>T$h$i$s$ m$e$a$n$s$ t$h$a$t$ w$h$e$n$ q$u$o$r$u$m$ i$s$ l$o$s$t$, t$h$e$ r$e$m$a$i$n$i$n$g$ p$a$r$t$i$</simpara>
</note>
<literallayout class="monospaced"># <literal>pcs property set no-quorum-policy=freeze</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ u$p$ a$ <literal>d$l$m$</literal> T$h$i$s$ i$s$ a$ r$e$q$u$i$r$e$d$ d$e$p$e$n$d$e$n$c$y$ f$o$r$ c$o$n$f$i$g$u$r$T$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ t$h$e$ <literal>d$l$m$</literal> r$e$s$o$u$r$c$e$ a$s$ p$a$r<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create dlm --group locking ocf:pacemaker:controld op monitor interval=30s on-fail=fence</literal></literallayout>
</listitem>
<listitem>
<simpara>C$l$o$n$e$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$u$r$c$e$ g$r$o$u$p$ s$o$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource clone locking interleave=true</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ u$p$ a$n$ <literal>l$v$m$l$o$c$k$d$</literal> r$e$s$o$u$r$c$e$ a$s$ p<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create lvmlockd --group locking ocf:heartbeat:lvmlockd op monitor interval=30s on-fail=fence</literal></literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status --full</literal>
Cluster name: my_cluster
[...]

Online: [ z1.example.com (1) z2.example.com (2) ]

Full list of resources:

 smoke-apc      (stonith:fence_apc):    Started z1.example.com
 Clone Set: locking-clone [locking]
     Resource Group: locking:0
         dlm    (ocf::pacemaker:controld):      Started z1.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z1.example.com
     Resource Group: locking:1
         dlm    (ocf::pacemaker:controld):      Started z2.example.com
         lvmlockd       (ocf::heartbeat:lvmlockd):      Started z2.example.com
     Started: [ z1.example.com z2.example.com ]</literallayout>
</listitem>
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ t$h$e$ s$h$a$r$e$d$ v$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>vgcreate --shared shared_vg1 /dev/sda1</literal>
  Physical volume "/dev/sda1" successfully created.
  Volume group "shared_vg1" successfully created
  VG shared_vg1 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
</listitem>
<listitem>
<simpara>O$n$ t$h$e$ s$e$c$o$n$d$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, s$t$a$r$t$ t$h$e$ l$o$c$</simpara>
<literallayout class="monospaced">[root@z2 ~]# <literal>vgchange --lock-start shared_vg1</literal>
  VG shared_vg1 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...
[root@z2 ~]# <literal>vgchange --lock-start shared_vg2</literal>
  VG shared_vg2 starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
</listitem>
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$t$e$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>lvcreate --activate sy -L5G -n shared_lv1 shared_vg1</literal>
  Logical volume "shared_lv1" created.</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ f$o$r$ t$h$e$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ t$o$ a$u$t$o</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$n$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>s$h$a$r$e$d$l$v$1</literal> f<literal></literal><literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ a$l$s$o$ c$r$e$a$t$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ <literal></literal>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ h$a$s$ t$h$e$ s$a$m$e$ n$a$m$e$ a$s$ t$h$e$ s$h$a</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create sharedlv1 --group shared_vg1 ocf:heartbeat:LVM-activate lvname=shared_lv1 vgname=shared_vg1 activation_mode=shared vg_access_mode=lvmlockd</literal></literallayout>
</listitem>
<listitem>
<simpara>C$l$o$n$e$ t$h$e$ n$e$w$ r$e$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource clone shared_vg1 interleave=true</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>l$o$c$k$i$n$g$</literal> r$e$s$o$u$r$c$e$ g$r$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs constraint order start locking-clone then shared_vg1-clone</literal>
Adding locking-clone shared_vg1-clone (kind: Mandatory) (Options: first-action=start then-action=start)</literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>v$g$1</literal> a$n$d$ <literal>v$g$2</literal> r$e$s$o$u$r$c$e$<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs constraint colocation add shared_vg1-clone with locking-clone</literal></literallayout>
</listitem>
<listitem>
<simpara>O$n$ b$o$t$h$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, v$e$r$i$f$y$ t$h$aT$h$e$r$e$ m$a$y$ b$e$ a$ d$e$l$a$y$ o</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>lvs</literal>
  LV         VG          Attr       LSize
  shared_lv1 shared_vg1  -wi-a----- 5.00g

[root@z2 ~]# <literal>lvs</literal>
  LV         VG          Attr       LSize
  shared_lv1 shared_vg1  -wi-a----- 5.00g</literallayout>
</listitem>
</orderedlist>
<simpara>A$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ a$ s$h$a$r$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ i$n$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$, <literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, c$r$e$a$t$e$ t$h$e$ f$i$l$e$ t$h$a$t$ w$i$l$l$ c$o$n$t$a$i$n$ t$h$e$ c$r$y$p$t$ k$e$y$ a$n$d$ s$e$t</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>touch /etc/crypt_keyfile</literal>
[root@z1 ~]# <literal>chmod 600 /etc/crypt_keyfile</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ c</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>dd if=/dev/urandom bs=4K count=1 of=/etc/crypt_keyfile</literal>
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000306202 s, 13.4 MB/s
[root@z1 ~]# <literal>scp /etc/crypt_keyfile root@z2.example.com:/etc/</literal></literallayout>
</listitem>
<listitem>
<simpara>D$i$s$t$r$i$b$u$t$e$ t$h$e$ c$r$y$p$t$ k$e$y$f$i$l$e$ t$o$ t$h$e$ o$t$h$e$r$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$, u$s$i$n<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>scp -p /etc/crypt_keyfile root@z2.example.com:/etc/</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ e$n$c$r$y$p$t$e$d$ d$e$v$i$c$e$ o$n$ t$h$e$ L$V$M$ v$o$l$u$m$e$ w$h$e$r$e$ y$o$u$ </simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>cryptsetup luksFormat /dev/shared_vg1/shared_lv1 --type luks2 --key-file=/etc/crypt_keyfile</literal>
WARNING!
========
This will overwrite data on /dev/shared_vg1/shared_lv1 irrevocably.

Are you sure? (Type 'yes' in capital letters): YES</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ c$r$y$p$t$ r$e$s$o$u$r$c$e$ a$s$ p$a$r$t$ o$f<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs resource create crypt --group shared_vg1 ocf:heartbeat:crypt crypt_dev="luks_lv1" crypt_type=luks2 key_file=/etc/crypt_keyfile encrypted_dev="/dev/shared_vg1/shared_lv1"</literal></literallayout>
</listitem>
<listitem>
<simpara>B$e$f$o$r$e$ p$r$o$c$e$e$d$i$n$g$, c$h$e$c$k$ t$o$ b$e$ s$u$r$e$ t$h$a$t$ t$h$e$ c$r$y$p$t$ r$e$s$o$u$r$c$e$ h$a$s$ c$r$e$a$t$e$d$ t$h$e<literal></literal></simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>ls -l /dev/mapper/</literal>
...
lrwxrwxrwx 1 root root 7 Mar 4 09:52 luks_lv1 -&gt; ../dm-3
...</literallayout>
</listitem>
</orderedlist>
<simpara>F$o$r$m$a$t$ t$h$e$ e$n$c$r$y$p$t$e$d$ l$o$g$i$c$a$l$ v$o$l$u$m$e$ w$i$t$h$ a$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$ a</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, f$o$r$m$a$t$ t$h$e$ vO$n$e$ j$o$u$r$n$a$l$ i$s$ r$e$q$u$i$r$e$d$ f$o$r$ e$a$c$h$ n$o$d$E$n$s$u$r$e$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$ e$n$o$u$g$h$ j$o$u$r$n$a$l$s$ f$o$r</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>mkfs.gfs2 -j3 -p lock_dlm -t my_cluster:gfs2-demo1 /dev/mapper/luks_lv1</literal>
/dev/mapper/luks_lv1 is a symbolic link to /dev/dm-3
This will destroy any data on /dev/dm-3
Are you sure you want to proceed? [y/n] y
Discarding device contents (may take a while on large devices): Done
Adding journals: Done
Building resource groups: Done
Creating quota file: Done
Writing superblock and syncing: Done
Device:                    /dev/mapper/luks_lv1
Block size:                4096
Device size:               4.98 GB (1306624 blocks)
Filesystem size:           4.98 GB (1306622 blocks)
Journals:                  3
Journal size:              16MB
Resource groups:           23
Locking protocol:          "lock_dlm"
Lock table:                "my_cluster:gfs2-demo1"
UUID:                      de263f7b-0f12-4d02-bbb2-56642fade293</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ f$i$l$e$ s$y$s$t$e$m$ r$e$s$o$u$r$c$e$ t$o$ a$u$t$o$m$a$t$i$c$a$l$l$y$ </simpara>
<simpara>Y$o$u$ s$h$o$u$l$d$ n$o$t$ a$d$d$ t$h$e$ f$i$l$e$ s$y$s$t$e$m$ t$o$ t$h$e$ <literal>/e$t$c$/f$s$t$a$b$</literal> f$i$l$e$ b$e$c$a$u$s$e$M$o$u$n$t$ o$p$t$i$o$n$s$ c$a$n$ b$e$ s$p$e$c$i$f$i$e$d$ a$s$ p$a$r$t$ o$f$ t$h$e$ r$e$s$o<literal><emphasis></emphasis></literal>R$u$n$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$s$c$r$i$b$e$ F$i$l$e$s$y$s$t$e$m$</literal> c$o$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$T$h$i$s$ c$o$m$m$a$n$d$ a$d$d$s$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ t$h$a$t$ i$n$c$l$u$</simpara>
<literallayout class="monospaced">root@z1 ~]# <literal>pcs resource create sharedfs1 --group shared_vg1 ocf:heartbeat:Filesystem device="/dev/mapper/luks_lv1" directory="/mnt/gfs1" fstype="gfs2" options=noatime op monitor interval=10s on-fail=fence</literal></literallayout>
</listitem>
</orderedlist>
<orderedlist numeration="arabic">
<title>V$e$r$i$f$i$c$a$t$</title>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$ i$s$ m$o$u$n$t</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>mount | grep gfs2</literal>
/dev/mapper/luks_lv1 on /mnt/gfs1 type gfs2 (rw,noatime,seclabel)

[root@z2 ~]# <literal>mount | grep gfs2</literal>
/dev/mapper/luks_lv1 on /mnt/gfs1 type gfs2 (rw,noatime,seclabel)</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs status --full</literal>
Cluster name: my_cluster
[...]

Full list of resources:

  smoke-apc      (stonith:fence_apc):    Started z1.example.com
  Clone Set: locking-clone [locking]
      Resource Group: locking:0
          dlm    (ocf::pacemaker:controld):      Started z2.example.com
          lvmlockd       (ocf::heartbeat:lvmlockd):      Started z2.example.com
      Resource Group: locking:1
          dlm    (ocf::pacemaker:controld):      Started z1.example.com
          lvmlockd       (ocf::heartbeat:lvmlockd):      Started z1.example.com
     Started: [ z1.example.com z2.example.com ]
  Clone Set: shared_vg1-clone [shared_vg1]
     Resource Group: shared_vg1:0
             sharedlv1      (ocf::heartbeat:LVM-activate):  Started z2.example.com
             crypt       (ocf::heartbeat:crypt) Started z2.example.com
             sharedfs1      (ocf::heartbeat:Filesystem):    Started z2.example.com
    Resource Group: shared_vg1:1
             sharedlv1      (ocf::heartbeat:LVM-activate):  Started z1.example.com
             crypt      (ocf::heartbeat:crypt)  Started z1.example.com
             sharedfs1      (ocf::heartbeat:Filesystem):    Started z1.example.com
          Started:  [z1.example.com z2.example.com ]
...</literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_migrate-gfs2-rhel7-rhel8-configuring-gfs2-cluster">
<title>M$i$g$r$a$t$i$n$g$ a$ G$F$S$2 f$i$l$e$ s$y$s$t$e</title>
<simpara>I$n$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8, L$V$M$ u$s$e$s$ t$h$e$ L$V$M$ l$o$c$k$ d$a$e$m$o$n$ <literal>l$v$m$l$o$c$k$d$</literal> i$n$s$t$e$a$d$ o$f$ <literal>c$l$v$m</literal>T$h$i$s$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$o$n$f$i$g$u$r$e$ t$h$e$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ t$h$a$t$ y$o$u$r$ a$c$t$i$A$d$d$i$t$i$o$n$a$l$l$y$, t$h$i$s$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ u$s$e$ t$h$e$ <literal>L$V$M$-a$c$t$i$v$a$t$e$</literal> r$e$s$o$u$r$c$e$ t$o$ m$a$n$a$g$e$ a$n$ L$V$M$ v$o$l$u$m$e$ <literal></literal><literal></literal>S$e$e$ <link linkend="proc_configuring-gfs2-in-a-cluster.adoc-configuring-gfs2-cluster">C$o$n$f$i$g$u$r$i$n$g$ a$ G$F$S$2 f$i$l$e$ s$y$s$t$e$m$ i$n$ a$ c$l$u$s$t$e$r$</link> f$o$r$ a$ f$u$l$l$ p$r$o$c$e$d$u$r$e$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ a$ P$a$c$e$m</simpara>
<simpara>T$o$ u$s$e$ y$o$u$r$ e$x$i$s$t$i$n$g$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 7 l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ w$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ R$H$E$L$8 c$l$u$s$t$e$r$ t$h$a$t$ I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ c$l$u$s$t$e$r$e$d$ R$H$E$L$ 7 l$o$g$i$c$a$l$ v$o$l$u$m$e$ i<literal></literal></simpara>
<note>
<simpara>T$h$e$ R$H$E$L$8 c$l$u$s$t$e$r$ m$u$s$t$ h$a$v$e$ t$h$e$ s$a$m$e$ n$a$m$e$ a$s$ t$h$e$ R$H$E$L$7 c$l$u$s$t$e$r$ t$h$a$t$ i$n$c$l$u$d$e$s$ t$h$e$ G$F</simpara>
</note>
<orderedlist numeration="arabic">
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ t$h$e$ l$o$g$i$c$a$l$ v$o$l$u$m$e$s$ c$o$n$t$a$i$n$i$n$g$ t$h$e$ GT$h$i$s$ p$r$o$c$e$d$u$r$e$ i$s$ s$a$f$e$ o$n$l$y$ i$f$ a$l$l$ n$o$d$e$s$ h$a</simpara>
</listitem>
<listitem>
<simpara>F$r$o$m$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, f$o$r$c$i$b$l$y$ c$h$a</simpara>
<literallayout class="monospaced">[root@rhel8-01 ~]# <literal>vgchange --lock-type none --lock-opt force upgrade_gfs_vg</literal>
Forcibly change VG lock type to none? [y/n]: y
  Volume group "upgrade_gfs_vg" successfully changed</literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ o$n$e$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, c$h$a$n$g$e$ t$h$e$ l$o$c$a$l$ </simpara>
<literallayout class="monospaced">[root@rhel8-01 ~]# <literal>vgchange --lock-type dlm upgrade_gfs_vg</literal>
   Volume group "upgrade_gfs_vg" successfully changed</literallayout>
</listitem>
<listitem>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, s$t$a$r$t$ l$</simpara>
<literallayout class="monospaced">[root@rhel8-01 ~]# <literal>vgchange --lock-start upgrade_gfs_vg</literal>
  VG upgrade_gfs_vg starting dlm lockspace
  Starting locking.  Waiting until locks are ready...
[root@rhel8-02 ~]# <literal>vgchange --lock-start upgrade_gfs_vg</literal>
  VG upgrade_gfs_vg starting dlm lockspace
  Starting locking.  Waiting until locks are ready...</literallayout>
</listitem>
</orderedlist>
<simpara>A$f$t$e$r$ p$e$r$f$o$r$m$i$n$g$ t$h$i$s$ p$r$o$c$e$d$u$r$e$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$n$ <literal>L$V$</literal></simpara>
</section>
</chapter>
<chapter xml:id="assembly_getting-started-with-the-pcsd-web-ui-configuring-and-managing-high-availability-clusters">
<title>G$e$t$t$i$n$g$ s$t$a$r$t$e$d$ w$i$t$</title>
<simpara>T$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$ i$s$ a$ g$r$a$p$h$i$c$a$l$ u$s$e$r$ i$n$t$e$r$f$a$c$e$ t$o$ c$r$e$a$t$</simpara>
<section xml:id="proc_installing-cluster-software-getting-started-with-the-pcsd-web-ui">
<title>I$n$s$t$a$l$l$i$n$g$ c$l$u$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ i$n$s$t$a$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ a</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s</simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-all</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$i$v$e$l$y$, y$o$u$ c$a$n$ i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ s$o$f$t$w$a$r$e$ p$a$c$k$a$g$e$s$ a$l$</simpara>
<literallayout class="monospaced"># <literal>yum install pcs pacemaker fence-agents-<emphasis>model</emphasis></literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ a$ l$i$s$t</simpara>
<literallayout class="monospaced"># <literal>rpm -q -a | grep fence</literal>
fence-agents-rhevm-4.0.2-3.el7.x86_64
fence-agents-ilo-mp-4.0.2-3.el7.x86_64
fence-agents-ipmilan-4.0.2-3.el7.x86_64
...</literallayout>
<warning>
<simpara>A$f$t$e$r$ y$o$u$ i$n$s$t$a$l$l$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ p$a$c$k$a$g$e$s$, y$o$u$ s$h$o$u$l$d$ e$n$s$u$r$e$ t$h$a$t$ y$o$u$r$ s$oI$n$s$t$a$l$l$a$t$i$o$n$ o$n$ a$ r$u$n$n$i$n$g$ c$l$u$s$t$e$r$ c$F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$, s$e$e$ <link xlink:href="https://access.redhat.com/articles/2059253/">R$e$c$o$m$m$e$n$d$e$d$ P$r$a$c$t$i$c$e$s$ f$o$r$ A$p$p$l$y$i$n$g$ S$o$f$t$w$a$r$e$ U$p$d</link></simpara>
</warning>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ e$n$a$b$l$e$ </simpara>
<note>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$ i$s$ i$n$s$t$a$l$l$e$d<literal role="command"></literal>I$f$ i$t$ i$s$ i$n$s$t$a$l$l$e$d$, y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ i$t$ i$s$ r$u$n<literal role="command"></literal></simpara>
</note>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd  --add-service=high-availability</literal></literallayout>
<note>
<simpara>T$h$e$ i$d$e$a$l$ f$i$r$e$w$a$l$l$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$r$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e$n$t$s$ d$e$p$e$n$d$s$ o$n$ t$h$e$ l$o$c$a$l$ e$n$v$i$r$o$n$m$e$n$t$, w$h$e$r$e$ y$o$u$ m$a$y$ n$e$e$d$ t$o$ t$a$k$e$ i$n$t$o$ a$c$c$o$u$n$t$ s$u$c$h$T$h$e$ e$x$a$m$p$l$e$ h$e$r$e$, w$h$i$c$h$ o$p$e$n$s$ t$h$e$ p$o$r$t$s$ t$h$a$t$ a$r$e$ g$e$n$e$r$a$l$l$y$ r$e$q$u$i$r$e$d$ b$y$ a$ P$a$<link linkend="proc_enabling-ports-for-high-availability-creating-high-availability-cluster">E$n$a$b$l$i$n$g$ p$o$r$t$s$ f$o$r$ t$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$</link> s$h$o$w$s$ t$h$e$ p$o$r$t$s$ t$o$ e$n$a$b$l$e$ f$o$r$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$ A$</simpara>
</note>
</listitem>
<listitem>
<simpara>I$n$ o$r$d$e$r$ t$o$ u$s$e$ <literal>p$c$s$</literal> t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ c$o$m$m$u$n$i$c$a$t$e$ a$m$o$n$g$ t$h$e$ n$o$d$e$s$, y$o$u$ m$u$s$t$ s$e$t$ a$ p$a$s$s$w$o$r$d<literal></literal><literal></literal>I$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ t$h$e$ p$a$s$s$w$o$r$d$ f$o$r$ u$s$e$r<literal></literal></simpara>
<literallayout class="monospaced"># <literal>passwd hacluster</literal>
Changing password for user hacluster.
New password:
Retype new password:
passwd: all authentication tokens updated successfully.</literallayout>
</listitem>
<listitem>
<simpara>B$e$f$o$r$e$ t$h$e$ c$l$u$s$t$e$r$ c$a$n$ b$e$ c$o$n$f$i$g$u$r$e$d$, t$h$e$ <literal role="command">p$c$s$d$</literal> d$a$e$m$o$n$ m$u$s$t$ b$e$ s$tT$h$i$s$ d$a$e$m$o$n$ w$o$r$k$s$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ t$o$ m$a$n$a$g$e$ c$o$n$</simpara>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ i$n$ t$h$e$ c$l$u$s$t$e$r$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ s$t$a$r<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_setting-up-the-pcsd-web-ui-getting-started-with-the-pcsd-web-ui">
<title>S$e$t$t$i$n$g$ u$p$ t$h$e$</title>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ i$n$s$t$a$l$l$e$d$ t$h$e$ P$a$c$e$m$a$k$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$o$o$l$s$ a$n$d$ c$o$n$f$i$g$u$r$e$d$ y$o$u$r$ s$y$s$t$e$m$ f$o$r$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$,<literal role="command"></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ a$n$y$ s$y$s$t$e$m$, o$p$e$n$ a$ b$r$o$w$s$e$r$ t$o$ t$h$e$ f$o$l$l$o$w$i$n$g$ U$R$L$, s$p$e$c$i$f$y$i$n$g$ o$n$e$ o$f$ t$h$e$ n$o$<literal></literal>T$h$i$s$ b$r$i$n$g$s$ u$p$ t$h$e$ <literal role="command">p$c$s$d$</literal> W</simpara>
<literallayout class="monospaced"><link xlink:href="https://">https://</link><emphasis>nodename</emphasis>:2224</literallayout>
</listitem>
<listitem>
<simpara>L$o$g$ i$n$ a$s$ u$s$e$r$<literal></literal>T$h$i$s$ b$r$i$n$g$s$ u$p$ t$h$e$ <literal>M$a$n$a$g$e$ C$l$u$</literal><xref linkend="getting-started-with-the-pcsd-web-ui-fig-manage-cluster"/></simpara>
<figure xml:id="getting-started-with-the-pcsd-web-ui-fig-manage-cluster">
<title>M$a$n$a$g$e$ C$l$u$s</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/manageclusters.png"/>
</imageobject>
<textobject><phrase>T$h$e$ M$a$n$a$g$e$ C$l$</phrase></textobject>
</mediaobject>
</figure>
</listitem>
</orderedlist>
</section>
<section xml:id="assembly_creating-a-cluster-with-the-pcsd-web-ui-getting-started-with-the-pcsd-web-ui">
<title>C$r$e$a$t$i$n$g$ a$ c$l$u$s$t$e$r$ w$i$</title>
<simpara>F$r$o$m$ t$h$e$ M$a$n$a$g$e$ C$l$u$s$t$e$r$s$ p$a$g$e$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ n$e$w$ c$l$u$s$t$e$r$, a$d$d$ a$n$ e$x$i$s$t$i$n$g</simpara>
<itemizedlist>
<listitem>
<simpara>T$o$ c$r$e$a$t$e$ a$ c$l$u$s$t$e$r$, c$l$<literal></literal>E$n$t$e$r$ t$h$e$ n$a$m$e$ o$f$ t$h$e$ c$l$u$s$t$e$r$ t$o$ c$r$e$a$t$e$ a$n$d$ t$hI$f$ y$o$u$ h$a$v$e$ n$o$t$ p$r$e$v$i$o$u$s$l$y$ a$u$t$h$e$n$t$i$c$a$t$e$d$ t$h$e$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> f$o$r$ e$a$c$h$ n$o$d$e$ i$n$ t</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ c$r$e$a$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$d$v$a$n$c$e$d$ c$l$u$s$t$e$r$ o$p$t$i<literal></literal>T$h$e$ a$d$v$a$n$c$e$d$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$s$ y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$r$e$ d$e$s$c$r$i$b$e$d$ i$n$ <link linkend="proc_configuring-advanced-cluster-options-with-the-pcsd-web-ui-creating-a-cluster-with-the-pcsd-web-ui">C$o$n$f$i$g</link></simpara>
</listitem>
<listitem>
<simpara>T$o$ a$d$d$ a$n$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ t$o$ t$h$e$ W$e$b$ U$I$, c$l$i$c$k$ o$n$ <literal>A$d$d$ E$x$i$s$t$i$n$g$</literal> a$n$d$ e$n$t$e$r$ t$h$e$ h$o$s$t$ n$a$m$e$ o$r$ I$P$ a$d$d$</simpara>
</listitem>
</itemizedlist>
<simpara>O$n$c$e$ y$o$u$ h$a$v$e$ c$r$e$a$t$e$d$ o$r$ a$d$d$e$d$ a$ c$l$u$s$t$e$r$, t$h$e$ c$l$u$s$t$e$r$ n$S$e$l$e$c$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ d$i$s$p$l$a$y$s$ i$n</simpara>
<note>
<simpara>W$h$e$n$ u$s$i$n$g$ t$h$e$ <literal role="command">p$c$s$d$</literal> W$e$b$ U$I$ t$o$ c$o$n$f$i$g$u$r$e$ a$ c$l$u$s$t$e$r$, y$o$u$ c$a$n$ m$o$v$e$ y$o$u$r$ m$o$u$s$e$ o$v$e$r$ t$h$e$ t$e$x$t$ d$e$s$c$r$i$b$i$n$g$ m$a$n<literal></literal></simpara>
</note>
<section xml:id="proc_configuring-advanced-cluster-options-with-the-pcsd-web-ui-creating-a-cluster-with-the-pcsd-web-ui">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$d$v$a$n$c$e$d$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$</title>
<simpara>W$h$e$n$ c$r$e$a$t$i$n$g$ a$ c$l$u$s$t$e$r$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$d$d$i$t$i$o$n$a$l$ c$l$u$s$t$e$r$ o$p$t$i$o$n$s$ b$y$ c<guibutton></guibutton>T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ m$o$d$i$f$y$ t$h$e$ c$o$n$f$i$g$u$r$a$b$l$e$ s$e$t$t$i</simpara>
<itemizedlist>
<listitem>
<simpara>T$r$a$n$s$p$o$r$t$ s$e$t$t$i$n$g$s$: V$a$l$u$e$s$ f$o$r$ t$h$e$ t$r$a$n$s$p$o$r$t$ m$</simpara>
</listitem>
<listitem>
<simpara>Q$u$o$r$u$m$ s$e$t$t$i$n$g$s$: V$a$l$u$e$s$ f$o$r$ t$h$e$ q$u$o$r$u$m$ o<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$o$t$e$m$ s$e$t$t$i$n$g$s$: V$a$l$u$e$s$ f$o$r$ t$h$e$ T$o$t$</simpara>
</listitem>
</itemizedlist>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$o$s$e$ o$p$t$i$o$n$s$ d$i$s$p$l$a$y$s$ t$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ e$a$c$h$ o$f$ t$h$e$ s$e$t$t$i$n$g$s$, p$l$a$c$e$ t$h$e$ </simpara>
</section>
<section xml:id="proc_setting-permissions-with-the-pcsd-web-ui-creating-a-cluster-with-the-pcsd-web-ui">
<title>S$e$t$t$i$n$g$ c$l$u$s$t$e$r$ m$a$n$a$</title>
<simpara>T$h$e$r$e$ a$r$e$ t$w$o$ s$e$t$s$ o$f$ c$l$u$s$t$e$r$ p$e$r$m$i$s$s$i$</simpara>
<itemizedlist>
<listitem>
<simpara>P$e$r$m$i$s$s$i$o$n$s$ f$o$r$ m$a$n$a$g$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ w$i$t$h$ t$h$e$ W$e$b$ U$I$, w$h$i$c$h$ a$l$s$o$ g$r$a$n$t$s$ p$e$r$m$i$<literal role="command"></literal>T$h$i$s$ s$e$c$t$i$o$n$ d$e$s$c$r$i$b$e$s$ h$o$w$ t$o$ c$o$n$f$i$g$u$r$e$ </simpara>
</listitem>
<listitem>
<simpara>P$e$r$m$i$s$s$i$o$n$s$ f$o$r$ l$o$c$a$l$ u$s$e$r$s$ t$o$ a$l$l$o$w$ r$e$a$d$-o$n$l$y$ o$r$ r$e$a$d$-w$r$i$t$eC$o$n$f$i$g$u$r$i$n$g$ A$C$L$s$ w$i$t$h$ t$h$e$ W$e$b$ U$I$ i$s$ d$e$s$c$r$i$b$e$d$ i$n$ <link linkend="proc_configuring-cluster-components-with-the-pcsd-web-ui-getting-started-with-the-pcsd-web-ui">C$o$n$f$i$g$</link></simpara>
</listitem>
</itemizedlist>
<simpara>Y$o$u$ c$a$n$ g$r$a$n$t$ p$e$r$m$i$s$s$i$o$n$ f$o$r$ s$p$e$c$i$f$i$c$ u$s$e$r$s$ o$t$h$e$r$ t$h$a$n$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> t$o$ m$a$n$a$g$e$ t$h$e$ c$l$u$s$t$e$r$ t$h$r$o$u$g$h$ t$h$e$ W$e$b$ U$I$ a$n$d$<literal role="command"></literal><literal></literal>Y$o$u$ c$a$n$ t$h$e$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ p$e$r$m$i$s$s$i$o$n$s$ s$e$t$ f$o$r$ a$n$ i$n$d$i$v$i$d$u$a$l$ m$e$m$b$e$r$ o$f$ t$h$e$ g$r$o$u$p$ <literal>h$a$c$l$i$e$n$t$</literal> b$y$ c$l$i$c$k$i$n$g$ t$h$e$ P$e$r$m$F$r$o$m$ t$h$i$s$ s$c$r$e$e$n$, y$o$u$ c$a$n$ a$l$s$o$ s$e</simpara>
<simpara>Y$o$u$ c$a$n$ g$r$a$n$t$ t$h$e$ f$o$l$l$</simpara>
<itemizedlist>
<listitem>
<simpara>R$e$a$d$ p$e$r$m$i$s$s$i$o$n$s$, t$o$ v$i$e$w$</simpara>
</listitem>
<listitem>
<simpara>W$r$i$t$e$ p$e$r$m$i$s$s$i$o$n$s$, t$o$ m$o$d$i$f$y$ t$h$e$ c$l$u$s$t$e$r$ s$e$t$t$</simpara>
</listitem>
<listitem>
<simpara>G$r$a$n$t$ p$e$r$m$i$s$s$i$o$n$s$, t$o$ m$o$d$i$f$y$ t$h$e$ c</simpara>
</listitem>
<listitem>
<simpara>F$u$l$l$ p$e$r$m$i$s$s$i$o$n$s$, f$o$r$ u$n$r$e$s$t$r$i$c$t$e$d$ a$c$c$e$s$s$ t$o$ a$ c$l$u$s$t$e$r$, i$n$c$l$u$d$i$n$g$ a$d$d$i$</simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="proc_configuring-cluster-components-with-the-pcsd-web-ui-getting-started-with-the-pcsd-web-ui">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$u$s$t$e$r$ c$o$m$p$o$n$e</title>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$o$m$p$o$n$e$n$t$s$ a$n$d$ a$t$t$r$i$b$u$t$e$s$ o$f$ a$ c$l$u$s$t$e$r$, c$l$i$c$k$ o$n$ t$h$e$ n$a<literal></literal>T$h$i$s$ b$r$i$n$g$s$ u$p$ t$h$e$ <literal>N$o$d$e$s$</literal> p$a<xref linkend="s2-guiclustnodes-HAAR"/>T$h$i$s$ p$a$g$e$ d$i$s$p$l$a$y$s$ a$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$</simpara>
<itemizedlist>
<listitem>
<simpara>N$o$d$e$s$, a$s$ d$e$s$<xref linkend="s2-guiclustnodes-HAAR"/></simpara>
</listitem>
<listitem>
<simpara>R$e$s$o$u$r$c$e$s$, a$s$ d$<xref linkend="s2-guiclustresources-HAAR"/></simpara>
</listitem>
<listitem>
<simpara>F$e$n$c$e$ D$e$v$i$c$e$s$, a$s$<xref linkend="s2-guifencedevices-HAAR"/></simpara>
</listitem>
<listitem>
<simpara>A$C$L$s$, a$s$ d$e$s$c<xref linkend="s2-guiaclset-HAAR"/></simpara>
</listitem>
<listitem>
<simpara>C$l$u$s$t$e$r$ P$r$o$p$e$r$t$i$e$s$,<xref linkend="s2-guiclustprops-HAAR"/></simpara>
</listitem>
</itemizedlist>
<section xml:id="s2-guiclustnodes-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$u$s$t$e$r$ n$o$d$e$</title>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$e$ <literal>N$o$d$e$s$</literal> o$p$t$i$o$n$ f$r$o$m$ t$h$e$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ p$a$g$e$ d$i$s$p$l$a$y$s$ t$h$e$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ n$o$d$e$s$ a$n$d$ t$h$e$ s$t$a$t$u$s$ o$T$h$i$s$ i$s$ t$h$e$ d$e$f$a$u$l$t$ p$a$g$e$ t$h$a$t$ i$s$ d$i$s$p$l$a$y$e$d$ w$h$e$n$ y$o$u$ s$e$l$e<literal></literal></simpara>
<simpara>F$o$r$m$ t$h$i$s$ p$a$g$e$, Y$o$u$ c$a$n$ a$Y$o$u$ c$a$n$ a$l$s$o$ s$t$a$r$t$, s$t$o$p$, r$e$s$t$a$r$t$, o$r$ p$u$t$ a$ n$o$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$t$a$n$d$b$y$ m$o$d$e$, s$e$e$ <link linkend="proc_stopping-individual-node-cluster-maintenance">P$u</link>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$, s$e$e$ <link linkend="proc_setting-maintenance-mode-cluster-maintenance">P$u$</link></simpara>
<simpara>Y$o$u$ c$a$n$ a$l$s$o$ c$o$n$f$i$g$u$r$e$ f$e$n$c$e$ d$e$v$i$c$e$s$ d$i$r$e$c$t$l$y$ f$r$o$m$ t$h$i$s$ p$a$g$<literal></literal>C$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$e$ d$e$v$i$c<xref linkend="s2-guifencedevices-HAAR"/></simpara>
</section>
<section xml:id="s2-guiclustresources-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$u$s$t$e$r$ r$e$s$o$u$r$</title>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$e$ <literal>R$e$s$o$u$r$c$e$s$</literal> o$p$t$i$o$n$ f$r$o$m$ t$h$e$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ p$a$g$e$ d$i$s$p$l$a$y$s$ t$h$e$ cS$e$l$e$c$t$i$n$g$ a$ g$r$o$u$p$ o$r$ a$ r$e$s$o$u$r$c$e$ d$i$s$p$l$a$y$s$ t$h$e$ </simpara>
<simpara>F$r$o$m$ t$h$i$s$ s$c$r$e$e$n$, y$o$u$ c$a$n$ a$d$d$ o$r$ r$e$m$o$v$e$ r$e$s$o$u$r$c$e$s$, y$o$u$ c$a$n$ e$d$i$t$ t$h$e$ c$o$n$f$i$g$u$r$a$t$</simpara>
<simpara>T$o$ a$d$d$ a$ n$e$w$ r$e$s$o$u$r$c$e</simpara>
<itemizedlist>
<listitem>
<simpara>C$l$i$c$k$<literal></literal>T$h$i$s$ b$r$i$n$g$s$ u$p$ t$h$e$ <literal>A$d$d</literal></simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ y$o$u$ s$e$l$e$c$t$ a$ r$e$s$o$u$r$c$e$ t$y$p$e$ f$r$o$m$ t$h$e$ d$r$o$p$d$o$w$n$ <literal>T$y$p$e$</literal> m$e$n$u$, t$h$e$ a$r$g$u$m$e$</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$ c$l$i$c$k$ <literal>O$p$t$i$o$n$a$l$ A$r$g$u$m$e$n$t$s$</literal> t$o$ d$i$s$p$l$a$y$ a$d$d$i$t$i$o$n$a$l$ a$r$g$u$m$e$n</simpara>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ e$n$t$e$r$i$n$g$ t$h$e$ p$a$r$a$m$e$t$e$r$s$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ <literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ a$r$g$u$m$e$n$t$s$ f$o$r$ a$ r$e$s$o$u$r$c$e$, a$ b$r$i$e$f$ d$eI$f$ y$o$u$ m$o$v$e$ t$h$e$ c$u$r$s$o$r$ t$o$ t$h$e$ f$i$e$l$d$, a$ l$o$n$g$e$r$ h$e$l$p$ d$e</simpara>
<simpara>Y$o$u$ c$a$n$ d$e$f$i$n$e$ a$ r$e$s$o$u$r$c$e$ a$s$ a$ c$l$o$n$e$d$ r$e$s$o$u$r$c$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$s$e$ r$e$s$o$u$r$c$e$ t$y$p$e$s$, s$e$e$ <link linkend="assembly_creating-multinode-resources-configuring-and-managing-high-availability-clusters">C$r$e$a$t$i$n$g$ c$l$u$s$t$e$r$ r$e$s$o$u$r</link></simpara>
<simpara>O$n$c$e$ y$o$u$ h$a$v$e$ c$r$e$a$t$e$d$ a$t$ l$e$a$s$t$ o$n$e$ r$e$s$o$u$r$c$F$o$r$ g$e$n$e$r$a$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ r$e$s$o$u$r$c$e$ g$r$o$u$p<link linkend="assembly_resource-groups-configuring-cluster-resources"></link></simpara>
<simpara>T$o$ c$r$e$a$t$e$ a$ r$e$s$</simpara>
<itemizedlist>
<listitem>
<simpara>S$e$l$e$c$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ w$i$l$l$ b$e$ p$a$r$t$ o$f$ t$h$e$ g$r$o$u$p$ f$r$o$m$ <literal></literal><literal></literal>T$h$i$s$ d$i$s$p$l$a$y$s$ t$h$e$ <literal>C$r$e</literal></simpara>
</listitem>
<listitem>
<simpara>F$r$o$m$ t$h$e$ <literal>C$r$e$a$t$e$ G$r$o$u$p$</literal> s$c$r$e$e$n$, y$o$u$ c$a$n$ r$e$a$r$r$a$n$g$e$ t$h$e$ o$r$d$e$r$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$s$ i$n$ a$ r$e$s$o$u$r$c$e</simpara>
</listitem>
<listitem>
<simpara>E$n$t$e$r$ a$ g$r$o$u$p$ n$a$m$e$ a$n$d$ c<literal></literal>T$h$i$s$ r$e$t$u$r$n$s$ y$o$u$ t$o$ t$h$e$ <literal>R$e$s$o$u$r$c$e$s$</literal> s$c$r$e$e$n$, w$h$i$c$h$ n$o$w$ d$i$s$p$l$a$y$s$ t</simpara>
</listitem>
</itemizedlist>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ c$r$e$a$t$e$d$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$, y$o$u$ c$a$n$ i$n$d$i$c$a$t$e$ t$h$a$t$ g$r$o$u$p$’s$ n$a$m$e$ a$s$ a$ r$</simpara>
</section>
<section xml:id="s2-guifencedevices-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$e$ d$e$v$i$c$e$</title>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$e$ <literal>F$e$n$c$e$ D$e$v$i$c$e$s$</literal> o$p$t$i$o$n$ f$r$o$m$ t$h$e$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ p$a$g$e$ <literal></literal></simpara>
<simpara>T$o$ a$d$d$ a$ n$e$w$ f$e$n$c$e$ d$e$v$i$</simpara>
<itemizedlist>
<listitem>
<simpara>C$l$i$c$k$<literal></literal>T$h$i$s$ b$r$i$n$g$s$ u$p$ t$h$e$ <literal>A$d$d$ F$</literal></simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ y$o$u$ s$e$l$e$c$t$ a$ f$e$n$c$e$ d$e$v$i$c$e$ t$y$p$e$ f$r$o$m$ t$h$e$ d$r$o$p$-d$o$w$n$ <literal>T$y$p$e$</literal> m$e$n$u$, t$h$e$ a$r$g$u$m$e$n</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$ c$l$i$c$k$ o$n$ <literal>O$p$t$i$o$n$a$l$ A$r$g$u$m$e$n$t$s$</literal> t$o$ d$i$s$p$l$a$y$ a$d$d$i$t$i$o$n$a$l$ a$r$g$u$m$e$n$t</simpara>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ e$n$t$e$r$i$n$g$ t$h$e$ p$a$r$a$m$e$t$e$r$s$ f$o$r$ t$h$e$ n$e$w$ f$e$n$c<literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$n$ S$B$D$ f$e$n$c$i$n$g$ d$e$v$i$c$e$, c$l$i$c$k$ o<literal></literal><literal></literal>T$h$i$s$ c$a$l$l$s$ u$p$ a$ s$c$r$e$e$n$ t$h$a$t$ a$l$l$o$w$s$ y$o$u$ t$o$ e$n$</simpara>
<simpara>F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ f$e$n$c$e$ d$e$v$i$c$e$s$, s$e$e$ <link linkend="assembly_configuring-fencing-configuring-and-managing-high-availability-clusters">C$o$n$f$i$g$u$r$i$n$g$ f</link></simpara>
</section>
<section xml:id="s2-guiaclset-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ A$C$L$s$ w$i$t</title>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$e$ <literal>A$C$L$S$</literal> o$p$t$i$o$n$ f$r$o$m$ t$h$e$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ p$a$g$e$ d$i$s$p$l$a$y$s$ a$ s$c$r$e$e$n$ f$r$o$m$ w$h$i$c$h$ y$o$u$ c$a$n$ s$e$t$ p$e$r$m$i$s$s$i$o$n$s$ f$o$r$ l$</simpara>
<simpara>T$o$ a$s$s$i$g$n$ A$C$L$ p$e$r$m$i$s$s$i$o$n$s$, y$o$u$ c$r$e$a$t$e$ a$ r$o$l$e$ a$n$d$ d$e$fE$a$c$h$ r$o$l$e$ c$a$n$ h$a$v$e$ a$n$ u$n$l$i$m$i$t$e$d$ n$u$m$b$e$r$ o$f$ p$e$r$m$i$s$s$i$o$n$s$ (r$e$a$d$/w$r$i$t$e$/d$e$n$y$) a$p$p$lA$f$t$e$r$ d$e$f$i$n$i$n$g$ t$h$e$ r$o$l$e$, y$o$u$ c$a$n$ a$s$s$i$g$n$ </simpara>
<simpara>F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$s$s$i$g$n$i$n$g$ p$e$r$m$i$s$s$i$o$n$ u$s$i$n$g$ A$C<link linkend="proc_setting-local-cluster-permissions-cluster-permissions"></link></simpara>
</section>
<section xml:id="s2-guiclustprops-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t</title>
<simpara>S$e$l$e$c$t$i$n$g$ t$h$e$ <literal>C$l$u$s$t$e$r$ P$r$o$p$e$r$t$i$e$s$</literal> o$p$t$i$o$n$ f$r$o$m$ t$h$e$ m$e$n$u$ a$l$o$n$g$ t$h$e$ t$o$p$ o$f$ t$h$e$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ p$a$g$e$ d$i$s$p$l$a$y$s$ F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ p$r$o$p$e$<link linkend="ref_cluster-properties-options-controlling-cluster-behavior"></link></simpara>
</section>
</section>
<section xml:id="proc_configuring-ha-pcsd-web-ui-getting-started-with-the-pcsd-web-ui">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ h$i$g$h$ a$v$a$i$</title>
<simpara>W$h$e$n$ y$o$u$ u$s$e$ t$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$, y$o$u$ c$o$n$n$e$c$t$ t$o$ o$n$e$ o$f$ t$h$e$ n$o$d$e$s$ o$f$ t$hI$f$ t$h$e$ n$o$d$e$ t$o$ w$h$i$c$h$ y$o$u$ a$r$e$ c$o$n$n$e$c$t$i$n$g$ g$o$e$s$ d$o$w$n$ o$r$ b$e$c$o$m$e$s$ u$n$a$v$a$i$l$a$b$l$e$, y$o$u$ c$a$n$ r$e$c$o$n$n$e$c$t$ t$o$ t$h$e$ c$l$u$s$</simpara>
<simpara>I$t$ i$s$ p$o$s$s$i$b$l$e$, h$o$w$e$v$e$r$, t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$ i$t$s$e$l$f$ f$o$r$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$, i$n$ w$h$i$c$</simpara>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$ f$o$r$ h$i$g$h$ a$v$a$i$l$a$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ t$h$e$ <literal>p$c$s$d$</literal> c$e$r$t$i$f$i$c$a$t$e$s$ a$r$e$ s$y$n$c$e$d$ a$c$r$o$s$s$ t$h$e$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$r$ b$y$ s$e$t$t$i$n$g$ <literal>P$C$S$D$</literal><literal></literal><literal></literal>E$n$a$b$l$i$n$g$ c$e$r$t$i$f$i$c$a$t$e$ s$y$n$c$i$n$g$ c$a$u$s$e$s$ <literal>p$c$s$d$</literal> t$o$ s$y$n$c$ t$h$e$ c$e$r$t$i$f$I$n$ R$H$E$L$ 8, <literal>P$C$S$D$_S$S$L$_C$E$R$T$_S$Y$N$C$_E$N$A$B$L$E$D$</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$n$ <literal>I$P$a$d$d$r$2</literal> c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$, w$h$i$c$h$ i$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e<literal></literal>T$h$e$ I$P$ a$d$d$r$e$s$s$ m$u$s$t$ n$o$t$ b$e$ o$n$e$ a$l$r$e$a$d$y$ aI$f$ t$h$e$ <literal>I$P$a$d$d$r$2</literal> r$e$s$o$u$r$c$e$’s$ N$I$C$ d$e$v$i$c$e$ i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$, t$h$e$ f$l$o$a$t$i$n$g$ I$P$ m$u$s$t$ r$e$s$i$d$e$ o$n$ t$h$e$ s$a$m$e$ n$e$t$w$o$r$k$ a$s$ o$n$e$ o$f$ t$h$e$ n$o$d$e$’s$ s$t$a$t$i$c$a$l$l$y$ a$s</simpara>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ c$u$s$t$o$m$ S$S$L$ c$e$r$t$i$f$i$c$a$t$e$s$ f$o$r$ u$s$e$ w$i$t$h$ <literal>p$c$s$d$</literal> a$n$d$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$y$ a$r$e$ v$a$l$i$d$ <literal></literal></simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>T$o$ c$r$e$a$t$e$ c$u$s$t$o$m$ S$S$L$ c$e$r$t$i$f$i$c$a$t$e$s$, y$o$u$ c$a$n$ u$s$e$ e$i$t$h$e$r$ w$i$l$d$c$a$r$d$ c$e$r$t$i$f$i$c$a$t$e$s$ o$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ R$e$d$ H$a$t$ C$e$r$t$i$f$i$c$a$t$e$ S$y$s$t$e$m$, s$e$e$ t$h$e$ <link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_certificate_system/9/html/administration_guide/index"></link></simpara>
</listitem>
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ c$u$s$t$o$m$ c$e$r$t$i$f$i$c$a$t$e$s$ f$o$r$ <literal>p$c$s$d$</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>S$y$n$c$ t$h$e$ <literal>p$c$s$d$</literal> c$e$r$t$i$f$i$c$a$t$e$s$ t$o$ a$l$l$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$<literal></literal></simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>C$o$n$n$e$c$t$ t$o$ t$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$ u$s$i$n$g$ t$h$e$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$</simpara>
</listitem>
</orderedlist>
<note>
<simpara>E$v$e$n$ w$h$e$n$ y$o$u$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>p$c$s$d$</literal> W$e$b$ U$I$ f$o$r$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$, y$o$u$ w$i$l$l$ b$e$ a$s$k$e$d$ t$o</simpara>
</note>
</section>
</chapter>
<chapter xml:id="assembly_configuring-fencing-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ i$n$ a$ R$e$d$ H$a$t</title>
<simpara>A$ n$o$d$e$ t$h$a$t$ i$s$ u$n$r$e$s$p$o$n$s$i$v$e$ m$a$yT$h$e$ o$n$l$y$ w$a$y$ t$o$ b$e$ c$e$r$t$a$i$n$ t$h$a$t$ y$o$u$r$ d$a$t$a$ i$s$ s$a$fS$T$O$N$I$T$H$ i$s$ a$n$ a$c$r$o$n$y$m$ f$o$r$ "S$h$o$o$t$ T$h$e$ O$t$h$e$r$ N$o$d$e$ I$n$ T$h$e$ H$e$a$d$" a$n$d$ i$t$ p$r$o$t$e$c$t$s$ y$o$u$rU$s$i$n$g$ S$T$O$N$I$T$H$, y$o$u$ c$a$n$ b$e$ c$e$r$t$a$i$n$ t$h$a$t$ a$ n$o$d$e$ i$s$ t$r$u$l$y$ o$f$f$l$i$n$e$ b$e$f$o$</simpara>
<simpara>S$T$O$N$I$T$H$ a$l$s$o$ h$a$s$ a$ r$o$l$e$ t$o$ p$l$a$y$ i$n$ t$h$e$ e$v$e$n$t$ t$h$a$t$I$n$ t$h$i$s$ c$a$s$e$, t$h$e$ c$l$u$s$t$e$r$ u$s$e$s$ S$T$O$N$I$T$H$ t$o$ f$o$r$c$e$ t$h$e$ w$h$o$l$e$ n$o$d$e$ o$f$f$l$i$n$e</simpara>
<simpara>F$o$r$ m$o$r$e$ c$o$m$p$l$e$t$e$ g$e$n$e$r$a$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ f$e$n$c$i$n$g$ a$n$d$ i$t$s$ i$m$p$o$r$t$a$n$c$e$ i$n$ a$ R$e$d$ H$a$t$ H$i$g$h$ A$<link xlink:href="https://access.redhat.com/solutions/15575"></link></simpara>
<simpara>Y$o$u$ i$m$p$l$e$m$e$n$t$ S$T$O$N$I$T$H$ i$n$ a$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ b$y$ c$o$n$f$i$g$u$r</simpara>
<section xml:id="proc_displaying-fence-agents-configuring-fencing">
<title>D$i$s$p$l$a$y$i$n$g$ a$v$a$i$l$a$b$l$e$ f$e$n$c$e$ </title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ v$i$e$w$ o$f$ l$i$s$tW$h$e$n$ y$o$u$ s$p$e$c$i$f$y$ a$ f$i$l$t$e$r$, t$h$i$s$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ o$n$l$</simpara>
<literallayout class="monospaced">pcs stonith list [<emphasis>filter</emphasis>]</literallayout>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ v$i$e$w$ t$h$e$ o$p$t$i$o</simpara>
<literallayout class="monospaced">pcs stonith describe <emphasis>stonith_agent</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ o$p$t$i$o$n$</simpara>
<literallayout class="monospaced"># <literal>pcs stonith describe fence_apc</literal>
Stonith options for: fence_apc
  ipaddr (required): IP Address or Hostname
  login (required): Login Name
  passwd: Login password or passphrase
  passwd_script: Script to retrieve password
  cmd_prompt: Force command prompt
  secure: SSH connection
  port (required): Physical plug number or name of virtual machine
  identity_file: Identity file for ssh
  switch: Physical switch number on device
  inet4_only: Forces agent to use IPv4 addresses only
  inet6_only: Forces agent to use IPv6 addresses only
  ipport: TCP port to use for connection with device
  action (required): Fencing Action
  verbose: Verbose mode
  debug: Write debug information to given file
  version: Display version information and exit
  help: Display help and exit
  separator: Separator for CSV created by operation list
  power_timeout: Test X seconds for status change after ON/OFF
  shell_timeout: Wait X seconds for cmd prompt after issuing command
  login_timeout: Wait X seconds for cmd prompt after login
  power_wait: Wait X seconds after issuing ON/OFF
  delay: Wait X seconds before fencing is started
  retry_on: Count of attempts to retry power on</literallayout>
<warning>
<simpara>F$o$r$ f$e$n$c$e$ a$g$e$n$t$s$ t$h$a$t$ p$r$o$v$i$d$e$ a$ <literal>m$e$t$h$o$d$</literal> o$p$t$i$o$n$, a$ v$a$l$u$e$ o$f$ <literal>c$y$c$l$e$</literal> i$s$ u$n$s$u$p$p$o$r$t$e$</simpara>
</warning>
</section>
<section xml:id="proc_creating-fence-devices-configuring-fencing">
<title>C$r$e$a$t$i$n$g$ a$ f$e</title>
<simpara>T$h$e$ f$o$r$m$a$t$ f$o$r$ t$h$e$ c$o$m$m$a$n$d$ t$o$ c$r$e$a$t$e$ aF$o$r$ a$ l$i$s$t$i$n$g$ o$f$ t$h$e$ a$v$a$i$l$a$b$l$e$ s$t$o$n$i$t$h$ c$r$e$a$t$i$o$n$ <literal role="command"></literal></simpara>
<literallayout class="monospaced">pcs stonith create <emphasis>stonith_id</emphasis> <emphasis>stonith_device_type</emphasis> [<emphasis>stonith_device_options</emphasis>] [op  <emphasis>operation_action</emphasis> <emphasis>operation_options</emphasis>]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ s$i$n$g$l$e$ </simpara>
<literallayout class="monospaced"># <literal>pcs stonith create MyStonith fence_virt pcmk_host_list=f1 op monitor interval=30s</literal></literallayout>
<simpara>S$o$m$e$ f$e$n$c$e$ d$e$v$i$c$e$s$ c$a$n$ f$e$n$c$e$ o$n$l$y$ a$ s$i$n$g$l$e$ n$o$d$e$, w$h$i$T$h$e$ p$a$r$a$m$e$t$e$r$s$ y$o$u$ s$p$e$c$i$f$y$ w$h$e$n$ y$o$u$ c$r$e$a$t$e$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ d$e$p$e</simpara>
<itemizedlist>
<listitem>
<simpara>S$o$m$e$ f$e$n$c$e$ d$e$v$i$c$e$s$ c$a$n$ a$u$t$o$m$a$t$i$c$a$l$l$y$ d$e$</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal>p$c$m$k$_h$o$s$t$_l$i$s$t$</literal> p$a$r$a$m$e$t$e$r$ w$h$e$n$ c$r$e$a$t$i$n$g$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ t$o$ s$p$e$c$i$</simpara>
</listitem>
<listitem>
<simpara>S$o$m$e$ f$e$n$c$e$ d$e$v$i$c$e$s$ r$e$q$u$i$r$e$ a$ m$a$p$p$i$n$g$ o$f$ h$o$s$t$ n$a$m$e$s$ t$o$ t$h$e$ s$Y$o$u$ c$a$n$ m$a$p$ h$o$s$t$ n$a$m$e$s$ w$i$t$h$ t$h$e$ <literal>p$c$m$k$_h$o$s$t$_m$a$p$</literal> p$a$r</simpara>
</listitem>
</itemizedlist>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>p$c$m$k$_h$o$s$t$_l$i$s$t$</literal> a$n$d$ <literal>p$c$m$k$_h$o$s$t$_m$a$p$</literal> p$a$r$a$m<link linkend="tb-fencedevice-props-HAAR"></link></simpara>
<simpara>A$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ a$ f$e$n$c$e$ d$e$v$i$c$e$, i$t$ i$s$ i$m$p$e$r$a$t$i$v$e$ t$h$a$t$ y$o$u$ t$e$s$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$e$s$t$i$n$g$ a$ f$e$n$c$e$ d$e$v$<link linkend="proc_testing-fence-devices-configuring-fencing"></link></simpara>
</section>
<section xml:id="ref_general-fence-device-properties-configuring-fencing">
<title>G$e$n$e$r$a$l$ p$r$o$p$e$r$t$i$e$s$ o</title>
<simpara>A$n$y$ c$l$u$s$t$e$r$ n$o$d$e$ c$a$n$ f$e$n$c$e$ a$n$y$ o$t$h$e$r$ c$l$u$s$t$e$r$ n$o$d$e$ w$i$t$h$ a$n$y$ f$e$n$c$e$ d$e$v$i$c$e$, r$e$W$h$e$t$h$e$r$ t$h$e$ r$e$s$o$u$r$c$e$ i$s$ s$t$a$r$t$e$d$ c$o$n$t$r$o$l$s$ o$n$l$y$ t$h$e$ r$e$c$u$r$r$i$n$g$ m$o$n$i$t$o$r$ f$o$r$ t$h$e$ d$</simpara>
<itemizedlist>
<listitem>
<simpara>Y$o$u$ c$a$n$ d$i$s$a$b$l$e$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$ b$y$ r$u$n$n$i$n$g$ t$h$e$ <literal role="command"><emphasis></emphasis></literal>T$h$i$s$ w$i$l$l$ p$r$e$v$e$n$t$ a$n$y$ n$o$d$e$ f</simpara>
</listitem>
<listitem>
<simpara>T$o$ p$r$e$v$e$n$t$ a$ s$p$e$c$i$f$i$c$ n$o$d$e$ f$r$o$m$ u$s$i$n$g$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t<literal role="command"></literal></simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ <literal>s$t$o$n$i$t$h$-e$n$a$b$l$e$d$=f$a$l$s$e$</literal> w$N$o$t$e$, h$o$w$e$v$e$r$, t$h$a$t$ R$e$d$ H$a$t$ d$o$e$s$ n$o$t$ s$u$p$p$o$r$t$ c$l$u$s$t$e$r$s$ w$h$e$n$ f$e$n$c$i$n$g$ i$s$ d$i$s</simpara>
</listitem>
</itemizedlist>
<simpara><xref linkend="tb-fencedevice-props-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ g$e$n$e$r$a$l$ p$r$o$p$e$r$t$i$e$s$ y$o</simpara>
<table xml:id="tb-fencedevice-props-HAAR" frame="all" rowsep="1" colsep="1">
<title>G$e$n$e$r$a$l$ P$r$o$p$e$r$t$i$e$s$ o</title>
<tgroup cols="4">
<colspec colname="col_1" colwidth="27*"/>
<colspec colname="col_2" colwidth="18*"/>
<colspec colname="col_3" colwidth="27*"/>
<colspec colname="col_4" colwidth="27*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">T$y$</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_h$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>A$ m$a$p$p$i$n$g$ o$f$ h$o$s$t$ n$a$m$e$s$ t$o$ p$o$r$t$ n$u$m$b$e$r$s$ f$o$r$ d$e$F$o$r$ e$x$a$m$p$l$e$: <literal>n$o$d$e$1:1;n$o$d$e$2:2,3</literal> t$e$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ u$s$e$ p$o$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_h$o$s</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>A$ l$i$s$t$ o$f$ m$a$c$h$i$n$e$s$ c$o$n$t$r$o$l$l$e$d$ b$y$ t$h$i$s$ d$e$v$i$c$e$ (O$p$t$i$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_h$o$s$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>* <literal>s$t$a$t$i$c$-l$i$s$t$</literal> i$f$ e$i$t$h$e$r$ <literal>p$c$m$k$_h$o$s$t$_l$</literal><literal></literal></simpara><simpara>* O$t$h$e$r$w$i$s$e$, <literal>d$y$n$a$m$i$c$-l$i$s$t$</literal> i$f$ t$h$e$ f$e$n$c$e$ d<literal></literal></simpara><simpara>* O$t$h$e$r$w$i$s$e$, <literal>s$t$a$t$u$s$</literal> i$f$ t$h$e$ f$e$n$c$e$ d$e$v$i$<literal></literal></simpara><simpara>*O$t$h$e$r$w$i$s$<literal></literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ t$o$ d$e$t$e$r$m$i$n$e$ w$h$i$c$h$ m$a$c$h$i$n$e$s$ a$A$l$l$o$w$e$d$ v$a$l$u$e$s$: <literal>d$y$n$a$m$i$c$-l$i$s$t$</literal> (q$u$e$r$y$ t$h$e$ d$e$v$i$c$e$), <literal>s$t$a$t$i$c$-l$i$s$t$</literal> (c$h$e$c$k$ t$h$e$ <literal>p$c$m$k$_h$o$s$t$_l$i</literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="ref_advanced-fence-device-properties-configuring-fencing">
<title>A$d$v$a$n$c$e$d$ f$e$n$c$i$n$g$ c$o$n$</title>
<simpara><xref linkend="tb-fencepropsadvanced-HAAR"/> s$u$m$m$a$r$i$z$e$s$ a$d$d$i$t$i$o$n$a$l$ p$r$o$p$e$r$t$i$e$s$ y$N$o$t$e$ t$h$a$t$ t$h$e$s$e$ p$r$o$p$e$r$t$i$e$s$ a$r</simpara>
<table xml:id="tb-fencepropsadvanced-HAAR" frame="all" rowsep="1" colsep="1">
<title>A$d$v$a$n$c$e$d$ P$r$o$p$e$r$t$i$e$s$ </title>
<tgroup cols="4">
<colspec colname="col_1" colwidth="29*"/>
<colspec colname="col_2" colwidth="14*"/>
<colspec colname="col_3" colwidth="14*"/>
<colspec colname="col_4" colwidth="43*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">T$y$</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_h$o$s$t$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>p$o$</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ p$a$r$a$m$e$t$e$r$ t$o$ sS$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ p$o$r$t$ p$aU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$ p$a$r$a$m$e$t$eA$ v$a$l$u$e$ o$f$ <literal>n$o$n$e$</literal> c$a$n$ b$e$ u$s$e$d$ t$o$ t$e$l$l$ t$h$e$ c$l$u$s$t$e$r$ n$o</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_r$e$b$o$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>r$e$b$</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ c$o$m$m$a$n$d$ t$o$ r$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$, c</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_r$e$b$o$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$ t$o$ u$s$e$ f$o$r$ r$e$b$o$o<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$/l$e$s$s$ t$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_r$e$b$o$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$t$r$y$ t$h$e$ <literal>r$e$b$o$</literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ f$a$i$l$ i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$a$k$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$f$f$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>o$f</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ c$o$m$m$a$n$d$ t$o$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$f$f$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$ t$o$ u$s$e$ f$o$r$ o$f$f$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$ o$r$ m$u$c$h$ l$e$sU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$f$f$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$t$r$y$ t$h$e$ o$f$fS$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ f$a$i$l$ i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$a</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_l$i$s$t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>l$i$</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ c$o$m$m$a$n$d$ t$o$ <literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$,</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_l$i$s$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$ o$r$ m$u$c$h$ l$e$sU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_l$i$s$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$t$r$y$ t$h$e$ <literal>l$i$s$</literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ f$a$i$l$ i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$a$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_m$o$n$i$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>m$o$n$i</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ c$o$m$m$a$n$d$ t$o$ r$u<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$, c$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_m$o$n$i$t$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$ t$o$ u$s$e$ f$o$r$ m$o$n$i$t$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$ o$r$ m$u$c$h$ l$e$sU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_m$o$n$i$t$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$t$r$y$ t$h$e$ <literal>m$o$n$i$t</literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ f$a$i$l$ i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$a$k$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_s$t$a$t$u</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>s$t$a$</simpara></entry>
<entry align="left" valign="top"><simpara>A$n$ a$l$t$e$r$n$a$t$e$ c$o$m$m$a$n$d$ t$o$ r$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c$, c</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_s$t$a$t$u$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$ t$o$ u$s$e$ f$o$r$ s$t$a$t$u<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$ o$r$ m$u$c$h$ l$e$sU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_s$t$a$t$u$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$t$r$y$ t$h$e$ s$t$a$t$S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ f$a$i$l$ i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$a$k$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_d$e$l$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>0s</simpara></entry>
<entry align="left" valign="top"><simpara>E$n$a$b$l$e$ a$ b$a$s$e$ d$e$l$a$y$ f$o$r$ s$t$o$n$i$t$h$ a$c$t$i$o$n$sI$n$ a$ c$l$u$s$t$e$r$ w$i$t$h$ a$n$ e$v$e$n$ n$u$m$b$e$r$ o$f$ n$o$d$e$s$, c$o$n$f$i$g$u$r$i$n$g$ a$ d$e$l$a$y$ c$a$n$ h$e$l$p$ a$v$o$i$A$ r$a$n$d$o$m$ d$e$l$a$y$ c$a$n$ b$e$ u$s$e$f$u$l$ w$h$e$n$ t$h$e$ s$a$m$e$ f$e$n$c$e$ d$e$v$i$c$e$ i$s$ u$s$e$d$ f$o$r$ a$l$l$ n$o$d$e$s$, a$n$d$ d$i$f$f$e$r$i$n$g$ s$t$a$t$i$c$ d$e$l$a$yT$h$e$ o$v$e$r$a$l$l$ d$e$l$a$y$ i$s$ d$e$r$i$v$e$d$ f$r$o$m$ a$ r$a$n$d$o$m$ d$e$l$a$y$ v$a$l$u$e$ a$d$d$i$n$g$ t$h$i$s$ s$t$a$I$f$ y$o$u$ s$e$t$ <literal>p$c$m$k$_d$e$l$a$y$_b$a$s$e$</literal> b$u$t$ d$o$ n$o$t$ s$e$t$ <literal>p$c$m$k$_d$e$l$a$y$_m$a$x$</literal>, t$h$e$r$e$ i$s$ n$o$ r$a$n$d$o$m$ c$o$m$p$<literal></literal></simpara><simpara>S$o$m$e$ i$n$d$i$v$i$d$u$a$l$ f$e$n$c$e$ a$g$e$n$t$s$ i$m$p$l$e$m$e$n$t$ a$ "d$e$l$a$y$" p$a$r$a$m$e$t$e$r$, w$h$i$c$h$ i$s$ i$n$d$<literal></literal>I$f$ b$o$t$h$ o$f$ t$h$e$s$e$ d$e$l$a$y$s$ a$r$e$ c$o$n$f$i$g$u$r$e$d$, t$h$e$y$ a$r$e$ a$d$d$e$d$ t$o$g$e$t$h$e$r$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_d$e$l</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>0s</simpara></entry>
<entry align="left" valign="top"><simpara>E$n$a$b$l$e$ a$ r$a$n$d$o$m$ d$e$l$a$y$ f$o$r$ s$t$o$n$i$t$h$ a$c$t$i$o$n$s$ a$n$dI$n$ a$ c$l$u$s$t$e$r$ w$i$t$h$ a$n$ e$v$e$n$ n$u$m$b$e$r$ o$f$ n$o$d$e$s$, c$o$n$f$i$g$u$r$i$n$g$ a$ d$e$l$a$y$ c$a$n$ h$e$l$p$ a$v$o$i$A$ r$a$n$d$o$m$ d$e$l$a$y$ c$a$n$ b$e$ u$s$e$f$u$l$ w$h$e$n$ t$h$e$ s$a$m$e$ f$e$n$c$e$ d$e$v$i$c$e$ i$s$ u$s$e$d$ f$o$r$ a$l$l$ n$o$d$e$s$, a$n$d$ d$i$f$f$e$r$i$n$g$ s$t$a$t$i$c$ d$e$l$a$yT$h$e$ o$v$e$r$a$l$l$ d$e$l$a$y$ i$s$ d$e$r$i$v$e$d$ f$r$o$m$ t$h$i$s$ r$a$n$d$o$m$ d$e$l$a$y$ v$a$l$u$e$ a$d$d$i$n$g$ a$ s$t$a$I$f$ y$o$u$ s$e$t$ <literal>p$c$m$k$_d$e$l$a$y$_m$a$x$</literal> b$u$t$ d$o$ n$o$t$ s$e$t$ <literal>p$c$m$k$_d$e$l$a$y$_b$a$s$e</literal></simpara><simpara>S$o$m$e$ i$n$d$i$v$i$d$u$a$l$ f$e$n$c$e$ a$g$e$n$t$s$ i$m$p$l$e$m$e$n$t$ a$ "d$e$l$a$y$" p$a$r$a$m$e$t$e$r$, w$h$i$c$h$ i$s$ i$n$d$<literal></literal>I$f$ b$o$t$h$ o$f$ t$h$e$s$e$ d$e$l$a$y$s$ a$r$e$ c$o$n$f$i$g$u$r$e$d$, t$h$e$y$ a$r$e$ a$d$d$e$d$ t$o$g$e$t$h$e$r$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_a$c$t$i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>1</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ a$c$t$i$o$n$s$ t$h$a$t$ c$a$n$ b$e$ p$eT$h$e$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ <literal>c$o$n$c$u$r$r$e$n$t$-f$e$n$c$i$n$g$=t$r$u$e$</literal> n$e$e$d$s$ t$o$ b$e$ c$o$n$f$i$g$u$r$e$d$A$ v$a$l$u$e$ o$f$ -1 i$s$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$n$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>o$</simpara></entry>
<entry align="left" valign="top"><simpara>F$o$r$ a$d$v$a$n$c$e$d$ u$s$e$ o$n$l$y$: A$n$ a$l$t$e$r$n$a$t$e$ <literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$t$ t$h$e$ s$t$a$n$d$a$r$d$ c$o$m$U$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-s$p$e$c$i$f$i$c<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$n$_t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$i$</simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>F$o$r$ a$d$v$a$n$c$e$d$ u$s$e$ o$n$l$y$: S$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$ t$i$m$e$o$u$t$ t$o$ u<literal></literal><literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ n$e$e$d$ m$u$c$h$ m$o$r$e$ o$r$ m$u$c$h$ l$e$sU$s$e$ t$h$i$s$ t$o$ s$p$e$c$i$f$y$ a$n$ a$l$t$e$r$n$a$t$e$, d$e$v$i$c$e$-<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$c$m$k$_o$n$_r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>i$n$t$e</simpara></entry>
<entry align="left" valign="top"><simpara>2</simpara></entry>
<entry align="left" valign="top"><simpara>F$o$r$ a$d$v$a$n$c$e$d$ u$s$e$ o$n$l$y$: T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ t$o$ r$e$<literal></literal>S$o$m$e$ d$e$v$i$c$e$s$ d$o$ n$o$t$ s$u$p$p$o$r$tO$p$e$r$a$t$i$o$n$s$ m$a$y$ <literal>f$a$i$l$</literal> i$f$ t$h$e$ d$e$v$i$c$e$ i$s$ b$u$s$y$ w$i$t$h$ a$n$o$t$h$e$r$ t$a$s$k$ s$o$ P$a$c$e$m$a$k$e$r$ w$i$l$lU$s$e$ t$h$i$s$ o$p$t$i$o$n$ t$o$ a$l$t$e$r$ t$h$e$ n$u$m$b$e$r$ o$f$ t$i$m$e$s$ P$a$c$e$m$<literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ y$o$u$ c$a$n$ s$e$t$ f$o$r$ i$n$d$i$v$i$d$u$a$l$ f$e$n$c$e$ d$e$v$i$c$e$s$, t$h$e$r$e$ a$r$e$ a$l$s$o$ c$l$u$s$t$<xref linkend="tb-clusterfenceprops-HAAR"/></simpara>
<table xml:id="tb-clusterfenceprops-HAAR" frame="all" rowsep="1" colsep="1">
<title>C$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$s$ t$h$a$t$ d$e$t</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="29*"/>
<colspec colname="col_2" colwidth="29*"/>
<colspec colname="col_3" colwidth="43*"/>
<thead>
<row>
<entry align="left" valign="top">O$p$t$</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$n$i$t$h$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ t$h$a$t$ f$a$i$l$e$d$ n$o$d$e$s$ a$n$d$ n$o$d$e$s$ w$i$t$h$ r$e$s$o$u$r$c$P$r$o$t$e$c$t$i$n$g$ y$o$u$r$ d$a$t$a$ r$e$q$u$i$r$e$<literal></literal></simpara><simpara>I$f$ <literal>t$r$u$e$</literal>, o$r$ u$n$s$e$t$, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ r$e$f$u$s$e$ t$o$ s$t$a$r$t$ r$e$s$o$u$r$c$e$s$ u$n$l$e$s$s$ o</simpara><simpara>R$e$d$ H$a$t$ o$n$l$y$ s$u$p$p$o$r$t$s$ c$l$u$s$t$e$r$s$ w$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$n$i$t$h$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>r$e$b$</simpara></entry>
<entry align="left" valign="top"><simpara>A$c$t$i$o$n$ t$o$ s$e$n$d$ t$o$ SA$l$l$o$w$e$d$ v$a$l$u$e$s$:<literal></literal><literal></literal>T$h$e$ v$a$l$u$e$ <literal>p$o$w$e$r$o$f$f$</literal> i$s$ a$l$s$o$ a$l$l$o$w$e$d$, b$u$t$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$n$i$t$h$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ l$o$n$g$ t$o$ w$a$i$t$ f$o$r$ a$ S$T$O$N$I$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$n$i$t$h$-m$a$x</literal></simpara></entry>
<entry align="left" valign="top"><simpara>10</simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ t$i$m$e$s$ f$e$n$c$i$n$g$ c$a$n$ f$a$i$l$ f$o$r$ a$ t$a$r$g$e$t$ b$e$f$o$r$e$ t$h$e$ c$l$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$n$i$t$h$-w$a$t$c$h</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$x$i$m$u$m$ t$i$m$e$ t$o$ w$a$i$t$ u$n$t$i$l$ a$ n$o$d$e$ c$a$n$ b$e$ a$s$s$u$m$e$d$ t$oI$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ t$h$i$s$ v$a$l$u$e$ b$e$ s$e$t$ t$o$ t$w$i$c$e$ t$hT$h$i$s$ o$p$t$i$o$n$ i$s$ n$e$e$d$e$d$ o$n$l$y$ i$f$ w$a$t$c$h$d$o$g</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$o$n$c$u$r$r$e$n$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$u$e$ (R$H$E$L$ 8.1 a$</simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$ f$e$n$c$i$n$g$ o$p$e$r$a$t$i$o$n$s$ t$o$ b</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>f$e$n$c$e$-r$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$</simpara></entry>
<entry align="left" valign="top"><simpara>(R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.2 a$n$d$ l$a$t$e$r$) D$e$t$e$r$m$i$n$e$s$ h$o$w$ a$ c$l$u$s$t$e$r$A$ c$l$u$s$t$e$r$ n$o$d$e$ m$a$y$ r$e$c$e$i$v$e$ n$o$t$i$f$i$c$a$t$i$o$n$ o$f$ i$t$s$ o$w$n$ f$e$n$c$i$n$g$ i$f$ f$e$n$c$i$n$g$ i$s$ m$i$s$c$o$n$f$i$g$u$r$e$d$A$l$l$o$w$e$d$ v$a$l$u$e$s$ a$r$e$ <literal>s$t$o$p$</literal> t$o$ a$t$t$e$m$p$t$ t$o$ i$m$m$e$d$i$a$t$e$l$y$ s$t$o$p$ P$a$c$e$m$a$k$e$r$ a$n$d$ s$t$a$y$ s$t$o$p$p$e$d$, o$r$ <literal>p$a$n$i$c$</literal> t$o$ </simpara><simpara>A$l$t$h$o$u$g$h$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ t$h$i$s$ p$r$o$p$e$r$t$y$ i$s$ <literal>s$t$o$p$</literal>, t$h$e$ s$a$f$e$s$t$ c$h$o$i$c$e$ f$o$r$ t$h$i$s$ v$<literal></literal>I$f$ y$o$u$ p$r$e$f$e$r$ t$h$e$ s$t$o$p$ b$e$h$a$v$i$o$r$, a$s$ i$s$ m$o$s$t$ l$i$k$e$l$y$ t$o$ b$e$ t$h$e$ c$a$s$e$ i$n$ c$o$n$j$u$n$c$t$i$o$n$ w$i$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$e$t$t$i$n$g$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$s$, s$e$<link linkend="setting-cluster-properties-controlling-cluster-behavior"></link></simpara>
</section>
<section xml:id="proc_testing-fence-devices-configuring-fencing">
<title>T$e$s$t$i$n$g$ a$ f$e$</title>
<simpara>F$e$n$c$i$n$g$ i$s$ a$ f$u$n$d$a$m$e$n$t$a$l$ p$a$r$t$ o$f$ t$h$e$ R$e$d$ H$a$t$ C$l$u$s$t$e$r$ i$n$f$r$a$s$t$r$u$c$t$u$r$e$ a$n$d$ i$t$ i$s$ t$h$e$r$e</simpara>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>U$s$e$ s$s$h$, t$e$l$n$e$t$, H$T$T$P$, o$r$ w$h$a$t$e$v$e$r$ r$e$m$o$t$e$ p$r$o$t$o$c$o$l$ i$s$ u$s$e$d$ t$o$ c$o$n$n$e$c$t$ t$o$ t$h$e$ d$e$v$i$c$e$ t$o$ m$F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ w$i$l$l$ b$e$ c$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ f$o$r$ a$n$ I$P$M$I$-e$n$a$b$l$<literal role="command"></literal>T$a$k$e$ n$o$t$e$ o$f$ t$h$e$ o$p$t$i$o$n$s$ u$s$e$d$ w$h$e$n$ l$o$g$g$i$n$g$ i$n$ m$a$n$u$a$l$l$y$ b$e$c$a$u$s$e$ t$h$o$s</simpara>
<simpara>I$f$ y$o$u$ a$r$e$ u$n$a$b$l$e$ t$o$ l$o$g$ i$n$ t$o$ t$h$e$ f$e$n$c$e$ d$e$v$i$c$e$, v$e$r$i$f$y$ t$h$a$t$ t$h$e$ d$e$v$i$c$e$ i$s$ p$i$n$g$a$b$l$e$, t$h$e$r$e$ i$s$ n$o$t$h$i$n$g$ s$u$c$h$ a$s$ a$ f$i$r$e$w$a$l$l$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$h$a$t$ i$s$ p$r$e</simpara>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ f$e$n$c$e$ a$g$e$n$t$ m$a$n$u$a$l$l$y$, u$s$iT$h$i$s$ d$o$e$s$ n$o$t$ r$e$q$u$i$r$e$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ a$r$e$ r$u$n$n$i$n$g$, s$o$ y$o$u$ c$a$n$ p$e$r$fT$h$i$s$ c$a$n$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ f$e$n$c$e$ d$e$v$i$c$e$ i$s$ r$e$s</simpara>
<note>
<simpara>T$h$e$ e$x$a$m$p$l$e$s$ i$n$ t$h$i$s$ s$e$c$t$i$o$n$ u$s$e$ t$h$e$ <literal role="command">f$e$n$c$e$_i$p$m$i$l$</literal>T$h$e$ a$c$t$u$a$l$ f$e$n$c$e$ a$g$e$n$t$ y$o$u$ w$i$l$l$ u$s$e$ a$n$d$ t$h$e$ c$o$m$m$a$n$d$ t$h$a$t$ c$a$l$lY$o$u$ s$h$o$u$l$d$ c$o$n$s$u$l$t$ t$h$e$ m$a$n$ p$a$g$e$ f$o$r$ t$h$e$ f$e$n$c$e$ a$g$e$n$t$ y$o$u$ a$rY$o$u$ w$i$l$l$ u$s$u$a$l$l$y$ n$e$e$d$ t$o$ k$n$o$w$ t$h$e$ l$o$g$i$n$ a$n$d$ p$a$s$s$w$o$r$d$ f$o$r$ t$h$e$ f$e$n$c$e$ d$e</simpara>
</note>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$h$o$w$s$ t$h$e$ f$o$r$m$a$t$ y$o$u$ w$o$u$l$d$ u$s$e$ t$o$ r$u$n$ t$h$e$ <literal role="command">f$e$n$c$e$_i$p$m$i$l$a$n$</literal> f$e$n$c$e$ a$g$e$n$t$ s$c$r$i$p$t$ w$i$t$h$ <literal>-o$ s$t$a$t$u$s$</literal> p$a$r$a$m$e$tT$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ t$e$s$t$ t$h$e$ d$e$v$i$c$e$ a$n$d$ g$e$t$ i$t$ w$o$r$k$iW$h$e$n$ r$u$n$n$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$, y$o$u$ s$p$e$c$i$f$y$ t$h$e$ n$a$m$e$ a$n$d$ p$a$s$s$w$o$r$d$ o$f$ a$n$ i$L$O$ u$s$e</simpara>
<literallayout class="monospaced"># <literal>fence_ipmilan -a ipaddress -l username -p password -o status</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$h$o$w$s$ t$h$e$ f$o$r$m$a$t$ y$o$u$ w$o$u$l$d$ u$s$e$ t$o$ r$u$n$ t$h$e$ <literal role="command">f$e$n$c$e$</literal><literal></literal>R$u$n$n$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$ o$n$ o$n$e$ n$o$d$e$ r$e$b$o$o$t$s$ t$</simpara>
<literallayout class="monospaced"># <literal>fence_ipmilan -a ipaddress -l username -p password -o reboot</literal></literallayout>
<simpara>I$f$ t$h$e$ f$e$n$c$e$ a$g$e$n$t$ f$a$i$l$e$d$ t$o$ p$r$o$p$e$r$l$y$ d$o$ a$ s$t$a$t$u$s$, o$f$f$, o$n$, o$r$ r$e$b$o$o$t$ a$c$t$i$o$n$, y$o$u$ s$h$o$u$l$d$ c$h$e$c$k$ t$h$e$ h$a$rI$n$ a$d$d$i$t$i$o$n$, y$o$u$ c$a$n$ r$u$n$ t$h$e$ f$e$n$c$e$ a$g$e$n$t$ s$c$rT$h$e$ d$e$b$u$g$ o$u$t$p$u$t$ i$s$ u$s$e$f$u$l$ f$o$r$ s$o$m$e$ f$e$n$c$i$n$g$ a$g$e$n$t$s$ t$o$ s$e$e$ w$h$e$r$e$ i$n$ t$h$e$ s$e$q$u$e$n$c$e$ o$f$ e$v$e$n$t$s</simpara>
<literallayout class="monospaced"># <literal>fence_ipmilan -a ipaddress -l username -p password -o status -D /tmp/$(hostname)-fence_agent.debug</literal></literallayout>
<simpara>W$h$e$n$ d$i$a$g$n$o$s$i$n$g$ a$ f$a$i$l$u$r$e$ t$h$a$t$ h$a$s$ o$c$c$u$r$r$e$d$, y$o$u$ s$h$o$u$l$d$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ o$p$t$i$o$n$s$ y$o$u$ s$p$e$c$i$f$i$e$d$ w$h$e$n$ m$a$n$u$a$l$l$y$ l$o$g$g$i$n$g$ i$n$ t$o$</simpara>
<simpara>F$o$r$ f$e$n$c$e$ a$g$e$n$t$s$ t$h$a$t$ s$u$p$p$o$r$t$ a$n$ e$n$c$r$y$p$t$e$d$ c$o$n$n$e$c$t$i$o$n$, y$o$u$ m$a$y$ s$e$e$ a$n$ e$r$r$o$r$ d$u$e$ t$o$ c$e$r$t$i$f$i$c$a$t$e$ v$a$l$i$d$a$t$i$o$n$ f$a$i$l$i$n$<literal></literal>S$i$m$i$l$a$r$l$y$, i$f$ S$S$L$/T$L$S$ i$s$ d$i$s$a$b$l$e$d$ o$n$ t$h$e$ t$a$r$g$e$t$ d$e$v$i$c$e$, y$o$u$ m$a$y$ n$e$e$d$ t$o$ a$c$c$o$u$n$t</simpara>
<note>
<simpara>I$f$ t$h$e$ f$e$n$c$e$ a$g$e$n$t$ t$h$a$t$ i$s$ b$e$i$n$g$ t$e$s$t$e$d$ i$s$ a$ <literal role="command">f$e$n$c$e$_d$r$a$c$</literal>, <literal role="command">f$e$n$c$e$_i$l$o$</literal>, o$r$ s$o$m$e$ o$t$h$e$r$ f$e$n$c$i$n$g$ a$g$e$n$t$ f$o$r$ a$ s$y$s$t$e$<literal role="command"></literal>M$o$s$t$ s$y$s$t$e$m$s$ m$a$n$a$g$e$m$e$n$t$ c$a$r$d$s$ s$u$p$p$o$r$t$ I$P$M$I$ r$e$m$o$t$e$ l$o$g$i$n$ a$n$d$<literal role="command"></literal></simpara>
</note>
</listitem>
<listitem>
<simpara>O$n$c$e$ t$h$e$ f$e$n$c$e$ d$e$v$i$c$e$ h$a$s$ b$e$e$n$ c$o$n$f$i$g$u$r$e$d$ i$n$ t$h$e$ c$l$u$s$t$e$r$ w$i$t$h$ t$h$e$ s$a$m$e$ o$p$t$i$o$n$s$ t$h$a$t$ w$o$r$k$e$d$ m$a$n$u$a$l$l$y$ a$n$d$ t$h$e$ c$l$u$s$t$e$r$ h$a$s$ b$e$e$n$ s$t$a$r$t$e$d$, t$e$s$t$ f$e$n$c$i$n$g$ w$i<literal role="command"></literal>T$h$e$ <literal role="command">p$c$s$ s$t$o$n$i$t$h$ f$e$n$c$e$</literal> c$o$m$m$a$n$d$ r$e$a$d$s$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$r$o$m$ t$h$e$ C$I$B$ a$n$dT$h$i$s$ v$e$r$i$f$i$e$s$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$</simpara>
<literallayout class="monospaced"># <literal>pcs stonith fence node_name</literal></literallayout>
<simpara>I$f$ t$h$e$ <literal role="command">p$c$s$ s$t$o$n$i$t$h$ f$e$n$c$e$</literal> c$o$m$m$a$n$d$ w$o$r$k$s$ p$r$o$p$e$r$l$y$, t$h$a$t$ m$e$a$n$s$ t$h$e$ f$e$n$c$i$n$g$ c$o$n$f$iI$f$ t$h$e$ c$o$m$m$a$n$d$ f$a$i$l$s$, i$t$ m$e$a$n$s$ t$h$a$t$ c$l$u$s$t$e$r$ m$a$n$a$g$e$m$e$n$t$ c$a$n$n$o$t$ i$n$v$o$k$e$ t$hC$h$e$c$k$ f$o$r$ t$h$e$ f$o$l$l$o$w$i$n$g$ i$s$s$u$e$s$ a$n$d$ u$p$d$a$t$e$ y$</simpara>
<itemizedlist>
<listitem>
<simpara>C$h$e$c$k$ y$o$u$r$ f$e$n$c$e$ F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ u$s$e$d$ a$ h$o$s$t$ m$a$p$ y$o$u$ s$h$o$u$l$d$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ s$y$s$t$e$</simpara>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ w$h$e$t$h$e$r$ t$h$e$ p$a$s$s$w$o$r$d$ a$n$d$ u$s$e$r$ n$a$m$e$ f$o$r$ t$h$e$ d$e$v$i$c$e$ i$n$c$l$u$d$e$ a$n$y$ s$p$e$c$i$M$a$k$i$n$g$ s$u$r$e$ t$h$a$t$ y$o$u$ e$n$t$e$r$ p$a$s$s$w$o$r$d$s$ a$n$d$ u$s$e$r$ n$a$m$e$s$ s$u$r$r$o$u$</simpara>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ w$h$e$t$h$e$r$ y$o$u$ c$a$n$ c$o$n$n$e$c$t$ t$o$ t$h$e$ d$e$v$i$c$e$ u$s$i$n$g$ t$h$e$ e$x$a$c$t$ I$P$ a$d$d$r$e$s<literal role="command"></literal>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ g$i$v$e$ t$h$e$ h$o$s$t$ n$a$m$e$ i$n$ t$h$e$ s$t$o$n$i$t$h$ c$o$m$m$a$n$d$ b$u$t$ t$e</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ p$r$o$t$o$c$o$l$ t$h$a$t$ y$o$u$r$ f$e$n$c$e$ d$e$v$i$c$e$ u$s$e$s$ i$s$ a$c$c$e$s$s$i$b$l$e$ t$o$ y$o$uF$o$r$ e$x$a$m$p$l$e$ m$a$n$y$ a$g$e$n$t$sY$o$u$ s$h$o$u$l$d$ t$r$y$ t$o$ c$o$n$n$e$c$t$ t$o$ t$h$e$ d$e$v$i$c$e$ w$i$t$h$ t$h$e$ c$r$e$d$e$n$t$i$a$l$s$ y$o$u$ p$r$o$v$i$d$e$d$ w$h$e$n$ c$o$n$f$i$g$u$r$i$n$g</simpara>
<simpara>I$f$ y$o$u$ d$e$t$e$r$m$i$n$e$ t$h$a$t$ a$l$l$ y$o$u$r$ p$a$r$a$m$e$t$e$r$s$ a$r$e$ a$p$p$r$o$p$r$i$a$t$e$ b$u$t$ y$o$u$ s$t$i$l$l$ h$a$v$e$ t$r$o$u$b$l$e$ c$o$n$n$e$c$t$i$n$g$ t$o$ y$o$u$r$ f$e$n$c$e$ d$e$v$i$c$e$, y$o$u$ c$a$n$ c$h$e$c$k$ t$h$e$ l$o$g$g$i$n$g$ o$n$ t$h$e$ fY$o$u$ c$a$n$ a$l$s$o$ s$e$a$r$c$h$ t$h$r$o$u$g$h$ t$h$e$ <literal>/v$a$r$/l$o$g$/m$e$s$s$a$g$e$s$</literal> f$i$l$e$ f$o$r$ i$n$s$t$a$n$c$e$s$ o$f$ s$t$o$n$i$t$h$ a$n$d$ e$r$r$o$r$, w$h$i$c$h$ c$o$u$l$d$ g$i$v$e</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>O$n$c$e$ t$h$e$ f$e$n$c$e$ d$e$v$i$c$e$ t$e$s$t$s$ a$r$e$ w$o$r$k$i$n$g$ a$n$d$ t$h$e$ c$l$u$s$t$eT$o$ d$o$ t$h$i$s$, t$a$k$e$ a$n$ a$c$t$i$o$n$ i$n$ t$h$e$ c$l$u$s$t$e$r$ t$</simpara>
<itemizedlist>
<listitem>
<simpara>T$a$k$e$ d$o$w$n$ a$H$o$w$ y$o$u$ t$a$k$e$ a$ n$e$t$w$o$r$k$ d$e$p$e$n$d$s$ o$n$ yI$n$ m$a$n$y$ c$a$s$e$s$, y$o$u$ c$a$n$ p$h$y$s$i$c$a$l$l$y$ p$u$l$l$ t$h$e$ n$e$t$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$i$m$u$l$a$t$i$n$g$ a$ n$e$t$w$o$r$k$ f$a$i$l$u$r$e$, s$e$e$ <link xlink:href="https://access.redhat.com/solutions/79523/">W$h$a$t$ i$s$ t$h$e$ p$r$o$p</link></simpara>
<note>
<simpara>D$i$s$a$b$l$i$n$g$ t$h$e$ n$e$t$w$o$r$k$ i$n$t$e$r$f$a$c$e$ o$n$ t$h$e$ l$o$c$a$l$ h$o$s$t$ r$a$t$h$e$r$ t$h$a$n$ p$h$y$s$i$c$a$l$l$y$ d$i$s$c$o$n$n$e$c$t$i$n$g$ t$h$e$ n$e$t$w$o$r$k$ o$r$ p$o$w$e$r$ c$a$b$l$e$s$ i$s$ n$o$t$</simpara>
</note>
</listitem>
<listitem>
<simpara>B$l$o$c$k$ c$o$r$o$s$y$n$c$ t$r$a$f$f$i$c$ b$o$t$h$ i$n$b$o$u$n$d$ a$n$d$ </simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ b$l$o$c$k$s$ c$o$r$o$s$y$n$c$, a$s$s$u$m$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ c$o$r$o$s$y$n$c$ p$o$r$t$ i$s$ u$s$e$d$, <literal>f$i$r$e$w$a$l$l$d$</literal> i$s$ u$s$e$d$ a$s$ t$h$e$ l$</simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --direct --add-rule ipv4 filter OUTPUT 2 -p udp --dport=5405 -j DROP</literal>
# <literal>firewall-cmd --add-rich-rule='rule family="ipv4" port port="5405" protocol="udp" drop'</literal></literallayout>
</listitem>
<listitem>
<simpara>S$i$m$u$l$a$t$e$ a$ c$r$a$s$h$ a$n$d$ p$a$n$i$c$ y$o$u$r$ m<literal></literal>N$o$t$e$, h$o$w$e$v$e$r$, t$h$a$t$ t$r$i$g$g$e$r$i$n$g$ a$ k$e$r$n$e$l$ p$a$n$i$c$ c$a$n$ c$a$u$s$e$ d$a$t$a$ l$o$s$s$; i$t$ i$s$ r</simpara>
<literallayout class="monospaced"># <literal>echo c &gt; /proc/sysrq-trigger</literal></literallayout>
</listitem>
</itemizedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_configuring-fencing-levels-configuring-fencing">
<title>C$o$n$f$i$g$u$r$i$n$g$ f$e</title>
<simpara>P$a$c$e$m$a$k$e$r$ s$u$p$p$o$r$t$s$ f$e$n$c$i$n$g$ n$o$d$e$s$ w$i$t$h$ m$u$l$t$i$p$l$e$ d$e$v$i$c$eT$o$ i$m$p$l$e$m$e$n$t$ t$o$p$o$l$o$g$i$e$s$, c$r$e$a$t$e$ t$h$e$ i$n$d$i$v$i$d$u$a$l$ d$e$v$i$c$e$s$ a$s$ y$o$u$ n$o$r$m$a$l$l$y$ w$o$u$l$d$ a$n$d$ t$h$e$n$ d$e$f$i$n$e$ o$</simpara>
<itemizedlist>
<listitem>
<simpara>E$a$c$h$ l$e$v$e$l$ i$s$ a$t$t$e$m$p$t$e$d$ i$n$ a$s$c$e$n$d$i$n$g</simpara>
</listitem>
<listitem>
<simpara>I$f$ a$ d$e$v$i$c$e$ f$a$i$l$s$, p$r$o$c$e$s$s$i$n$g$ t$e$r$m$iN$o$ f$u$r$t$h$e$r$ d$e$v$i$c$e$s$ i$n$ t$h$a$t$ l$e$v$e$l$ a$r$e$ e$x$e$r$c$i$s$e$d$ a</simpara>
</listitem>
<listitem>
<simpara>I$f$ a$l$l$ d$e$v$i$c$e$s$ a$r$e$ s$u$c$c$e$s$s$f$u$l$l$y$ f$e$n$c$e$d$, t$h$e$n$ t$h$a$t$ l$e$v$e$l</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ o$p$e$r$a$t$i$o$n$ i$s$ f$i$n$i$s$h$e$d$ w$h$e$n$ a$ l$e$v$e$l$ h$a$s$ p$a$s$s$e$d$ (s$u$c$c$e$s$</simpara>
</listitem>
</itemizedlist>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ a$d$d$T$h$e$ d$e$v$i$c$e$s$ a$r$e$ g$i$v$e$n$ a$s$ a$ c$o$m$m$a$-s$e$p$a$r$a$t$e$d$ l$i$s$t$ o$f$ s$t$o$n$i$t$h$ i$d$</simpara>
<literallayout class="monospaced">pcs stonith level add <emphasis>level</emphasis> <emphasis>node</emphasis> <emphasis>devices</emphasis></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ o$f$ t$h$e$ f$e$n$c$i$n$g</simpara>
<literallayout class="monospaced">pcs stonith level</literallayout>
<simpara>I$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$, t$h$e$r$e$ a$r$e$ t$w$o$ f$e$n$c$e$ d$e$v$i$c$e$s$ c$o$n$f$i$g$u$r$e$d$ f$o$r$ n$o$d$e$ <literal>r$h$7-2</literal>: a$n$ i$l$<literal></literal><literal></literal>T$h$e$s$e$ c$o$m$m$a$n$d$s$ s$e$t$ u$p$ f$e$n$c$e$ l$e$v$e$l$s$ s$o$ t$h$a$t$ i$f$ t$h$e$ d$e$v$i$c$e$ <literal>m$y$_i$l$o$</literal> f$a$i$l$s$ a$n$d$ i$s$ u$n$a$b$l$e$ t$o$ <literal></literal>T$h$i$s$ e$x$a$m$p$l$e$ a$l$s$o$ s$h$o$w$s$ t$h$e$ o$u$t$p$u$t$ o$f$ t$h$e$ <literal>p$c$s$ s$t$o$n$i$t$h$ l$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs stonith level add 1 rh7-2 my_ilo</literal>
# <literal>pcs stonith level add 2 rh7-2 my_apc</literal>
# <literal>pcs stonith level</literal>
 Node: rh7-2
  Level 1 - my_ilo
  Level 2 - my_apc</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ f$e$n$c$e$ l$e$v$eI$f$ n$o$ n$o$d$e$s$ o$r$ d$e$v$i$c$e$s$ a$r$e$ s$p$e$c$i$f$i$e$d$ t$h$e$n$ t$h$e$ f$e$n$c$e$ l$</simpara>
<literallayout class="monospaced">pcs stonith level remove <emphasis>level</emphasis> [<emphasis>node_id</emphasis>] [<emphasis>stonith_id</emphasis>] ... [<emphasis>stonith_id</emphasis>]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$l$e$a$r$s$ t$h$e$ f$e$n$c$e$ l$e$v$e$l$I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ n$o$d$e$ o$r$ s$t$o$n$i$t$h$ i$</simpara>
<literallayout class="monospaced">pcs stonith level clear [<emphasis>node</emphasis>|<emphasis>stonith_id</emphasis>(s)]</literallayout>
<simpara>I$f$ y$o$u$ s$p$e$c$i$f$y$ m$o$r$e$ t$h$a$n$ o$n$e$ s$t$o$n$i$t$h$ i$d$, t$h$e$y$ m$u$s$t$ b$e$ s$e$p$a$r$a$t$e$d$ b$y</simpara>
<literallayout class="monospaced"># <literal>pcs stonith level clear dev_a,dev_b</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ v$e$r$i$f$i$e$s$ t$h$a$t$ a$l$l$ f$e$n$c$e$ d$e$v$i$c$e</simpara>
<literallayout class="monospaced">pcs stonith level verify</literallayout>
<simpara>Y$o$u$ c$a$n$ s$p$e$c$i$f$y$ n$o$d$e$s$ i$n$ f$e$n$c$i$n$g$ t$o$p$o$l$o$g$y$ b$y$ a$ r$e$g$u$l$a$r$ e$x$p$r$e$s$s$i$o$n$ a$p$p$F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$o$n$f$i$g$u$r$e$ n$o$d$e$s$ <literal>n$o$d$e$1</literal>, <literal>n$o$d$e$2</literal>, a$n$d$ <literal>`n$o$d$e$3</literal> t$o$ u$s$e$ f$e$n$c$e$ d$e$v$i$c$e$s$ <literal>a$p$c$1</literal> a$n$<literal></literal><literal></literal><literal></literal><literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">pcs stonith level add 1 "regexp%node[1-3]" apc1,apc2
pcs stonith level add 1 "regexp%node[4-6]" apc3,apc4</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ y$i$e$l$d$ t$h$e$ s$a$m$e$ r$e$s$u$l</simpara>
<literallayout class="monospaced">pcs node attribute node1 rack=1
pcs node attribute node2 rack=1
pcs node attribute node3 rack=1
pcs node attribute node4 rack=2
pcs node attribute node5 rack=2
pcs node attribute node6 rack=2
pcs stonith level add 1 attrib%rack=1 apc1,apc2
pcs stonith level add 1 attrib%rack=2 apc3,apc4</literallayout>
</section>
<section xml:id="proc_configuring-fencing-for-redundant-power-configuring-fencing">
<title>C$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ f$o$r$ r$e</title>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ f$e$n$c$i$n$g$ f$o$r$ r$e$d$u$n$d$a$n$t$ p$o$w$e$r$ s$u$p$p$l$i$e$s$, t$h$e$ c$l$u$s$t$e$r$ m$u$s$t$ e$n$s$u$r$e$ t$h$a$t$ w$h$e$n$ a$t$t$e$m$p$t$i$n$g$ t$o$ r$e$b$o$</simpara>
<simpara>I$f$ t$h$e$ n$o$d$e$ n$e$v$e$r$ c$o$m$p$l$e$t$e$l$y$ l$o$s$e$s$ p$o$w$e$r$, t$h$eT$h$i$s$ o$p$e$n$s$ u$p$ t$h$e$ p$o$s$s$i$b$i$l$i$t$y$ o$f$ n$o$d$e$s$ a$c$c$e$s$s$i$n$g$ t$h$e$s$e$</simpara>
<simpara>Y$o$u$ n$e$e$d$ t$o$ d$e$f$i$n$e$ e$a$c$h$ d$e$v$i$c$e$ o$n$l$y$ o$n$c$e$ a$n$d$ t$o$ s$p$e$c$i$f$y$ t$h$a$t$ b$o$t$h$ a$r$e$ </simpara>
<literallayout class="monospaced"># <literal>pcs stonith create apc1 fence_apc_snmp ipaddr=apc1.example.com login=user passwd='7a4D#1j!pz864' pcmk_host_map="node1.example.com:1;node2.example.com:2"</literal>

# <literal>pcs stonith create apc2 fence_apc_snmp ipaddr=apc2.example.com login=user passwd='7a4D#1j!pz864' pcmk_host_map="node1.example.com:1;node2.example.com:2"</literal>

# <literal>pcs stonith level add 1 node1.example.com apc1,apc2</literal>
# <literal>pcs stonith level add 1 node2.example.com apc1,apc2</literal></literallayout>
</section>
<section xml:id="proc_displaying-configuring-fence-devices-configuring-fencing">
<title>D$i$s$p$l$a$y$i$n$g$ c$o$n$f$i$g$u$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$o$w$s$ a$l$l$ c$u$r$r$I$f$ a$ <emphasis>s$t$o$n$i$t$h$_i$d$</emphasis> i$s$ s$p$e$c$i$f$i$e$d$, t$h$e$ c$o$m$m$a$n$d$ s$h$o$w$s$ t$h$e$ o$p$t$iI$f$ t$h$e$ <literal>--f$u$l$l$</literal> o$p$t$i$o$n$ i$s$ s$p$e$c$i$f$i$e$d$, a$l$l$ c$o$n$f$i$g$</simpara>
<literallayout class="monospaced">pcs stonith config [<emphasis>stonith_id</emphasis>] [--full]</literallayout>
</section>
<section xml:id="proc_modifying-fence-devices-configuring-fencing">
<title>M$o$d$i$f$y$i$n$g$ a$n$d$ d$e$l$e$t$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ m$o$d$i$f$y$ o$r$ a$d$d$ o$p$t$i$o$n$s$</simpara>
<literallayout class="monospaced">pcs stonith update <emphasis>stonith_id</emphasis> [<emphasis>stonith_device_options</emphasis>]</literallayout>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$m$o$v$e$ a$ f$e$n$c$i$n$g$ </simpara>
<literallayout class="monospaced">pcs stonith delete <emphasis>stonith_id</emphasis></literallayout>
</section>
<section xml:id="proc_manually-fencing-a-node-configuring-fencing">
<title>M$a$n$u$a$l$l$y$ f$e$n$c$i$n$g$</title>
<simpara>Y$o$u$ c$a$n$ f$e$n$c$e$ a$ n$o$d$e$ m$a$n$u$a$l$l$y$ w$iI$f$ y$o$u$ s$p$e$c$i$f$y$ <literal role="option">--o$f$f$</literal> t$h$i$s$ w$i$l$l$ u$s$e$ t$h$e$ <literal>o$f$f$</literal> A$P$I$ c$a$l$l$ t$o$ s$t$o$n$i$t$h$ w$h$i</simpara>
<literallayout class="monospaced">pcs stonith fence <emphasis>node</emphasis> [--off]</literallayout>
<simpara>I$n$ a$ s$i$t$u$a$t$i$o$n$ w$h$e$r$e$ n$o$ s$t$o$n$i$t$h$ d$e$v$i$c$e$ i$s$ a$b$l$e$ t$o$ f$e$n$c$e$ a$ n$o$d$e$ e$v$e$n$ i$f$ i$t$ i$s$ n$o$ l$o$n$g$e$r$ a$c$tI$f$ t$h$i$s$ o$c$c$u$r$s$, a$f$t$e$r$ m$a$n$u$a$l$l$y$ e$n$s$u$r$i$n$g$ t$h$a$t$ t$h$e$ n$o$d$e$ i$s$ p$o$w$e$r$e$d$ d$o$w$n$ y$o$u$ c$a$n$ e$n$t$e$r$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ </simpara>
<warning>
<simpara>I$f$ t$h$e$ n$o$d$e$ y$o$u$ s$p$e$c$i$f$y$ i$s$ n$o$t$ a$c$t$u$a$l$l$y$ o$f$f$, b$u$t$ r$u$n$n$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ o$r$ s$e$r$v$i$c$e$s$ n$o$r$</simpara>
</warning>
<literallayout class="monospaced">pcs stonith confirm <emphasis>node</emphasis></literallayout>
</section>
<section xml:id="proc_disabling-a-fence-device-configuring-fencing">
<title>D$i$s$a$b$l$i$n$g$ a$ f$</title>
<simpara>T$o$ d$i$s$a$b$l$e$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$/r$e$s$o$u$r$c$e$, y$o$u$ r$<literal></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$a$b$l$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs stonith disable myapc</literal></literallayout>
</section>
<section xml:id="proc_preventing-a-node-from-using-a-fence-device-configuring-fencing">
<title>P$r$e$v$e$n$t$i$n$g$ a$ n$o$d$e$ f$r$o$m$ u</title>
<simpara>T$o$ p$r$e$v$e$n$t$ a$ s$p$e$c$i$f$i$c$ n$o$d$e$ f$r$o$m$ u$s$i$n$g$ a$ f$e$n$c$i$n$g$ d$e$v$i$c$e$, y$o$u$ c$a$n$ c$o$n</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ p$r$e$v$e$n$t$s$ f$e$n$c$e$ d$e$v$i$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint location node1-ipmi avoids node1</literal></literallayout>
</section>
<section xml:id="proc_configuring-acpi-for-fence-devices-configuring-fencing">
<title>C$o$n$f$i$g$u$r$i$n$g$ A$C$P$I$ f$o$r$ u$s$e$ w$i$t$h$</title>
<simpara>I$f$ y$o$u$r$ c$l$u$s$t$e$r$ u$s$e$s$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$s$, y$o$u$ m$u$s$t$ c$o$n$f$i$g$u$r$e$ A$C$P$I$ (A$d$v$a$n$c$e$d$ C$o$n$f$i</simpara>
<simpara>I$f$ a$ c$l$u$s$t$e$r$ n$o$d$e$ i$s$ c$o$n$f$i$g$u$r$e$d$ t$o$ b$e$ f$e$n$c$e$d$ b$y$ a$n$ i$n$t$e$g$r$a$t$e$d$ D$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$ a$l$l$o$w$s$ a$n$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$ t$o$ t$u$r$n$ o$f$f$ a$ n$o$d$e$ i$m$m$e$d$i$a$t$e$l$y$ a$n$d$ c$o$m<literal role="command"></literal>O$t$h$e$r$w$i$s$e$, i$f$ A$C$P$I$ S$o$f$t$-O$f$f$ i$s$ e$n$a$b$l$e$d$, a$n$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$ c$a$n$ t$a$k$e$ f$o$u$rI$n$ a$d$d$i$t$i$o$n$, i$f$ A$C$P$I$ S$o$f$t$-O$f$f$ i$s$ e$n$a$b$l$e$d$ a$n$d$ a$ n$o$d$e$ p$a$n$i$c$s$ o$r$ f$r$e$e$z$e$s$ d$u$r$i$n$g$ s$h$u$t$d$o$wU$n$d$e$r$ t$h$o$s$e$ c$i$r$c$u$m$s$t$a$n$c$e$s$, f$e$n$c$i$n$C$o$n$s$e$q$u$e$n$t$l$y$, w$h$e$n$ a$ n$o$d$e$ i$s$ f$e$n$c$e$d$ w$i$t$h$ a$n$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$ a$n$d$ A$C$P$I$ S$o$f$t$-O$f$f$ i$s$ e$n$a$b$l$e$d$</simpara>
<note>
<simpara>T$h$e$ a$m$o$u$n$t$ o$f$ t$i$m$e$ r$e$q$u$i$r$e$d$ t$o$ f$e$n$c$e$ a$ n$o$d$e$ d$e$p$e$nS$o$m$e$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$s$ p$e$r$f$o$r$m$ t$h$e$ e$q$u$i$v$a$l$e$n$t$ o$f$ p$r$e$s$s$i$n$g$ a$n$d$ h$o$l$d$i$n$g$ t$h$e$ p$o$w$e$r$ b$u$tO$t$h$e$r$ i$n$t$e$g$r$a$t$e$d$ f$e$n$c$e$ d$e$v$i$c$e$s$ p$e$r$f$o$r$m$ t$h$e$ e$q$u$i$v$a$l$e$n$t$ o$f$ p$r$e$s$s$i$n$g$ t$h$e$ p$o$w$e$r$ b$u$t$t$o$n$ m$o$m$e$n$t$a$r$i$l$y$, r$e$l$y$i$n$g$ o$n$ t$h$e$ o$p$e$r$a$t$i$n$g$ s$y$s$t$e$m$ t$o$ t$u$r$n$</simpara>
</note>
<itemizedlist>
<listitem>
<simpara>T$h$e$ p$r$e$f$e$r$r$e$d$ w$a$y$ t$o$ d$i$s$a$b$l$e$ A$C$P$I$ S$o$f$t$-O$f$f$ i$s$ t$o$ c$h$a$n$g$e$ t$h$e$ B$I$O$S$ s$e$t$t$i$n$g$ t$o$ "i$n$s$t$a$n$t$-o$f$f$" o$r$ a$n$ <xref linkend="s2-bios-setting-CA"/></simpara>
</listitem>
</itemizedlist>
<simpara>D$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$ w$i$t$h$ t$h$e$ B$I$O$S$ m$a$y$ I$f$ d$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$ w$i$t$h$ t$h$e$ B$I$O$S$ i$s$ n$o$t$ s$a$t$i$s$f$a$c$t$o$r$y$ f$o$r$ y$o$u$r$ c$l$u$s$t$e$r$, y$o$u$ c$a</simpara>
<itemizedlist>
<listitem>
<simpara>S$e$t$t$i$n$g$ <literal>H$a$n$d$l$e$P$o$w$e$r$K$e$y$=i$g$n$o$r$e$</literal> i$n$ t$h$e$ <literal>/e$t$c$/s$y$s$t$e$m$d$/l$o$g$i$n$d$.c$o$n$f$</literal> f$i$l$e$ a$n$d$ v$e$r$i$f$y$i$n$g$ t$h<xref linkend="s2-acpi-disable-logind-CA"/>T$h$i$s$ i$s$ t$h$e$ f$i$r$s$t$ a$l$t$e$r$n$a$t$e$ m$e$t$h$o$d</simpara>
</listitem>
<listitem>
<simpara>A$p$p$e$n$d$i$n$g$ <literal>a$c$p$i$=o$f$f$</literal> t$o$ t$h$e$ k$e$r$n$e$l$ b$o$o$t$ <xref linkend="s2-acpi-disable-boot-CA"/>T$h$i$s$ i$s$ t$h$e$ s$e$c$o$n$d$ a$l$t$e$r$n$a$t$e$ m$e$t$h$o$d$ o$f$ d$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$, i$f$ t$h$e$ </simpara>
<important>
<simpara>T$h$i$s$ m$e$t$h$o$d$ c$o$m$p$l$e$t$e$l$y$ d$i$s$a$b$l$e$s$ A$C$P$I$; s$o$m$e$ c$o$m$p$u$t$e$r$s$ d$o$ n$oU$s$e$ t$h$i$s$ m$e$t$h$o$d$ <emphasis>o$n$l$y$</emphasis> i$f$ t$h$e$ o$t$h$e$r$ m$e$t$h$o$d$s$ a</simpara>
</important>
</listitem>
</itemizedlist>
<section xml:id="s2-bios-setting-CA">
<title>D$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-</title>
<simpara>Y$o$u$ c$a$n$ d$i$s$a$b$l$e$ A$C$P$I$ S$o$f$t$-O$f$f$ b$y$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ B$I$O$S$ o$f$ e</simpara>
<note>
<simpara>T$h$e$ p$r$o$c$e$d$u$r$e$ f$o$r$ d$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$ w$i$t$h$ t$Y$o$u$ s$h$o$u$l$d$ v$e$r$i$f$y$ t$h$i$s$ p$r$o$c$e$d$u$r$e$ w$i$t</simpara>
</note>
<orderedlist numeration="arabic">
<listitem>
<simpara>R$e$b$o$o$t$ t$h$e$ n$o$d$e$ a$n$d$ s$t$a$r$t$ t$h$e$ <literal role="command">B$I$O$S$</literal></simpara>
</listitem>
<listitem>
<simpara>N$a$v$i$g$a$t$e$ t$o$ t$h$e$ P$o$w$e$r$ m$e$n$u$ (o$r$ e$q$u$i$v$</simpara>
</listitem>
<listitem>
<simpara>A$t$ t$h$e$ P$o$w$e$r$ m$e$n$u$, s$e$t$ t$h$e$ <literal>S$o$f$t$-O$f$f$ b$y$ P$W$R$-B$T$T$N$</literal> f$u$n$c$t$i$o$n$ (o$r$ e$q$u$i$v$a$l$e$n$t$) t$o$ <literal>I$n$s$t$a$n$t$-O$f$f$</literal> (o$r$ t$h$e$ e$q$u$i$v$a$l$<xref linkend="ex-bios-acpi-off-CA"/> s$h$o$w$s$ a$ P$o$w$e$r$ m$e$n$u$ w$i$t$h$ <literal>A$C$P$I$ F$u$n$c$t$i$o$n$</literal> s$e$t$ t$o$ <literal>E$n$a$b$l$e$d$</literal> a<literal></literal><literal></literal></simpara>
<note>
<simpara>T$h$e$ e$q$u$i$v$a$l$e$n$t$s$ t$o$ <literal>A$C$P$I$ F$u$n$c$t$i$o$n$</literal>, <literal>S$o$f$t$-O$f$f$ b$y$ P$W$R$-B$T$T$N</literal><literal></literal>H$o$w$e$v$e$r$, t$h$e$ o$b$j$e$c$t$i$v$e$ o$f$ t$h$i$s$ p$r$o$c$e$d$u$r$e$ i$s$ t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ B$I$O$S$ s$o$ t$h$a$t$ t$h$e$ c$o</simpara>
</note>
</listitem>
<listitem>
<simpara>E$x$i$t$ t$h$e$ <literal role="command">B$I$O$S$ C$M$O$S$ S$e$t$u$p$ U$t$i$l$i$t$y$</literal> p$r$o$g$r$a$</simpara>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ n$o$d$e$ t$u$r$n$s$ o$f$f$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$e$s$t$i$n$g$ a$ f$e$n$c$e$ d$e$v$<link linkend="proc_testing-fence-devices-configuring-fencing"></link></simpara>
</listitem>
</orderedlist>
<formalpara xml:id="ex-bios-acpi-off-CA">
<title><literal role="command">B$I$O$S$ C$M$O$S$ S$e$t$</literal></title>
<para>
<literallayout class="monospaced">`Soft-Off by PWR-BTTN` set to
`Instant-Off`</literallayout>
</para>
</formalpara>
<informalexample>
<literallayout class="monospaced">+---------------------------------------------|-------------------+
|    ACPI Function             [Enabled]      |    Item Help      |
|    ACPI Suspend Type         [S1(POS)]      |-------------------|
|  x Run VGABIOS if S3 Resume   Auto          |   Menu Level   *  |
|    Suspend Mode              [Disabled]     |                   |
|    HDD Power Down            [Disabled]     |                   |
|    Soft-Off by PWR-BTTN      [Instant-Off   |                   |
|    CPU THRM-Throttling       [50.0%]        |                   |
|    Wake-Up by PCI card       [Enabled]      |                   |
|    Power On by Ring          [Enabled]      |                   |
|    Wake Up On LAN            [Enabled]      |                   |
|  x USB KB Wake-Up From S3     Disabled      |                   |
|    Resume by Alarm           [Disabled]     |                   |
|  x  Date(of Month) Alarm       0            |                   |
|  x  Time(hh:mm:ss) Alarm       0 :  0 :     |                   |
|    POWER ON Function         [BUTTON ONLY   |                   |
|  x KB Power ON Password       Enter         |                   |
|  x Hot Key Power ON           Ctrl-F1       |                   |
|                                             |                   |
|                                             |                   |
+---------------------------------------------|-------------------+</literallayout>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ s$h$o$w$s$ <literal>A$C$P$I$ F$u$n$c$t$i$o$n$</literal> s$e$t$ t$o$ <literal>E$n$a$b$l$e$d$</literal>, a$n$<literal></literal><literal></literal></simpara>
</informalexample>
</section>
<section xml:id="s2-acpi-disable-logind-CA">
<title>D$i$s$a$b$l$i$n$g$ A$C$P$I$ S$o$f$t$-O$f$f$ i$n</title>
<simpara>T$o$ d$i$s$a$b$l$e$ p$o$w$e$r$-k$e$y$ h$a$n$d$i$n$g$ i$n$ t$h$e$ <literal>/e$t$c$/s$y$s$t$e$m$d$/l$o$g$i</literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>D$e$f$i$n$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$n$ t<literal></literal></simpara>
<literallayout class="monospaced">HandlePowerKey=ignore</literallayout>
</listitem>
<listitem>
<simpara>R$e$s$t$a$r$t$ t$h$e$ <literal>s$y$s$t$e$m$d</literal></simpara>
<literallayout class="monospaced"># <literal>systemctl restart systemd-logind.service</literal></literallayout>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ n$o$d$e$ t$u$r$n$s$ o$f$f$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$e$s$t$i$n$g$ a$ f$e$n$c$e$ d$e$v$<link linkend="proc_testing-fence-devices-configuring-fencing"></link></simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="s2-acpi-disable-boot-CA">
<title>D$i$s$a$b$l$i$n$g$ A$C$P$I$ c$o$m$p$l$e$t$e$</title>
<simpara>Y$o$u$ c$a$n$ d$i$s$a$b$l$e$ A$C$P$I$ S$o$f$t$-O$f$f$ b$y$ a$p$p$e$n$d$i$n$g$ <literal>a$c$p$i$=o</literal></simpara>
<important>
<simpara>T$h$i$s$ m$e$t$h$o$d$ c$o$m$p$l$e$t$e$l$y$ d$i$s$a$b$l$e$s$ A$C$P$I$; s$o$m$e$ c$o$m$p$u$t$e$r$s$ d$o$ n$oU$s$e$ t$h$i$s$ m$e$t$h$o$d$ <emphasis>o$n$l$y$</emphasis> i$f$ t$h$e$ o$t$h$e$r$ m$e$t$h$o$d$s$ a</simpara>
</important>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$o$ d$i$s$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>U$s$e$ t$h$e$ <literal role="option">--a$r$g$s$</literal> o$p$t$i$o$n$ i$n$ c$o$m$b$i$n$a$t$i$o$n$ w$i$t$h$ t$h$e$ <literal role="option">--u$p$d$a$t$e$-k$e$r$n$e$l$</literal> o$p$t$i$o$n$ o$f$ t$h$e$ <literal role="command">g$r$u$b$b$y$</literal> <literal></literal></simpara>
<literallayout class="monospaced"># <literal>grubby --args=acpi=off --update-kernel=ALL</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$b$o$o$t$ t$h</simpara>
</listitem>
<listitem>
<simpara>V$e$r$i$f$y$ t$h$a$t$ t$h$e$ n$o$d$e$ t$u$r$n$s$ o$f$f$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$e$s$t$i$n$g$ a$ f$e$n$c$e$ d$e$v$<link linkend="proc_testing-fence-devices-configuring-fencing"></link></simpara>
</listitem>
</orderedlist>
</section>
</section>
</chapter>
<chapter xml:id="assembly_configuring-cluster-resources-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$u$</title>
<simpara>T$h$e$ f$o$r$m$a$t$ f$o$r$ t$h$e$ c$o$m$m$a$n$d$ t$o$ c$r$e$a$t$e$ a$ </simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource_options</emphasis>] [op <emphasis>operation_action operation_options</emphasis> [<emphasis>operation_action</emphasis> <emphasis>operation options</emphasis>]...] [meta <emphasis>meta_options</emphasis>...] [clone [<emphasis>clone_options</emphasis>] | master [<emphasis>master_options</emphasis>] | --group <emphasis>group_name</emphasis> [--before <emphasis>resource_id</emphasis> | --after <emphasis>resource_id</emphasis>] | [bundle <emphasis>bundle_id</emphasis>] [--disabled] [--wait[=<emphasis>n</emphasis>]]</literallayout>
<simpara>K$e$y$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ c$r$e$a$t$i$o$n$ o$p$</simpara>
<itemizedlist>
<listitem>
<simpara>W$h$e$n$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal role="option">--g$r$o$u$p$</literal> o$p$t$i$o$n$, t$h$e$ r$e$s$o$u$r$c$eI$f$ t$h$e$ g$r$o$u$p$ d$o$e$s$ n$o$t$ e$x$i$s$t$, t$h$i$s$ c$r$e$a$t$e$s$ t$h$e$ g$r$o$</simpara>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<simpara>T$h$e$ <literal role="option">--b$e$f$o$r$e$</literal> a$n$d$ <literal role="option">--a$f$t$e$r$</literal> o$p$t$i$o$n$s$ s$p$e$c$i$f$y$ t$h$e$ p$o$s$i$t$i$o$n$ o$f$ t$h$e$ a$d$d$e$d$ r$e$s$o$u$r$c$e$ r$e</simpara>
</listitem>
<listitem>
<simpara>S$p$e$c$i$f$y$i$n$g$ t$h$e$ <literal role="option">--d$i$s$a$b$l$e$d$</literal> o$p$t$i$o$n$ i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$</simpara>
</listitem>
</itemizedlist>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ t$h$e$ b$e$h$a$v$i$o$r$ o$f$ a$ r$e$s$o$u$r$c$e$ i$n$ a$ c$l$u$s$t$e$r</simpara>
<bridgehead xml:id="resource_creation_examples" renderas="sect2" remap="_resource_creation_examples">R$e$s$o$u$r$c$e$ c$r$e$a$t</bridgehead>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r$c$e$ w$i$t$h$ t$h$e$ n$a$m$e$ <literal>V$i$r$t$u$a$l$I$P$</literal><literal></literal><literal></literal><literal></literal>T$h$e$ f$l$o$a$t$i$n$g$ a$d$d$r$e$s$s$ o$f$ t$h$i$s$ r$e$s$o$u$r$c$e$ i$s$ 192.168.0.120, a$n$d$ t$h$e$ s$y$s$t$e$m$ w$i$l$l$ c$h$e</simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.120 cidr_netmask=24 op monitor interval=30s</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ o$m$i$t$ t$h$e$ <emphasis>s$t$a$n$d$a$r$d$</emphasis> a$n$d$ <emphasis>p$r$o$v$i$d</emphasis>T$h$i$s$ w$i$l$l$ d$e$f$a$u$l$t$ t$o$ a$ s$t$a$n$d$a$r$d$ o$f$ <literal>o$c$</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP IPaddr2 ip=192.168.0.120 cidr_netmask=24 op monitor interval=30s</literal></literallayout>
<bridgehead xml:id="deleting_a_configured_resource" renderas="sect2" remap="_deleting_a_configured_resource">D$e$l$e$t$i$n$g$ a$ c$o$n$f$i$</bridgehead>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ d$e$l</simpara>
<literallayout class="monospaced">pcs resource delete <emphasis>resource_id</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$e$l$e$t$e$s$ a$n$ e$x$i$s$t$i$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource delete VirtualIP</literal></literallayout>
<section xml:id="ref_resource-properties.adoc-configuring-cluster-resources">
<title>R$e$s$o$u$r$c$e$ a$g$e$n$t</title>
<simpara>T$h$e$ i$d$e$n$t$i$f$i$e$r$s$ t$h$a$t$ y$o$u$ d$e$f$i$n$e$ f$o$r$ a$ r$e$s$o$u$r$c$e$ t$e$l$l$ t$h$e$ c$l$u$s$t$e$r$ w$h$i$c$h$ a$g$e$n$t$ t$o$ u$s$e$ f$o$r$ t$<xref linkend="tb-resource-props-summary-HAAR"/>, d$e$s$c$r$i$b$e$s$ t$h$e$s$</simpara>
<table xml:id="tb-resource-props-summary-HAAR" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ A$g$e$n$t</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="33*"/>
<colspec colname="col_2" colwidth="67*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>s$t$a$n$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ s$t$a$n$d$a$r$d$ t$h$e$ a$g$A$l$l$o$w$e$d$ v$a$l$u$e$s$ a$n$d</simpara><simpara>* <literal>o$c$f$</literal> - T$h$e$ s$p$e$c$i$f$i$e$d$ <emphasis>t$y$p$e$</emphasis> i$s$ t$h$e$ n$a$m$e$ o$f$ a$n$ e$x$e$c$u$t$a$b$l$e$ f$i$l$e$ c$o$n$f$o$r$m$i$n$g$ t$o$ t$h$e$ O$p$e$n$ C$l$u$s$t$e$r$ F$r$a$m$e<literal><emphasis></emphasis></literal></simpara><simpara>* <literal>l$s$b$</literal> - T$h$e$ s$p$e$c$i$f$i$e$d$ <emphasis>t$y$p$e$</emphasis> i$s$ t$h$e$ n$a$m$e$ o$f$ a$n$ e$x$e$c$u$t$a$b$l$e$ f$i$l$e$ c$o$n$f$I$f$ t$h$e$ t$y$p$e$ d$o$e$s$ n$o$t$ s$p$e$c$i$f$y$ a$ f$u$l$l$ p$a$t$h$, t$h$e$ s$y$s$t$e$m$ w$i$l<literal></literal></simpara><simpara>* <literal>s$y$s$t$e$m$d$</literal> - T$h$e$ s$p$e$c$i$f$i$e$d$ <emphasis>t$y$p$e$</emphasis> i$s$ t$h$e$ n$a$m<literal></literal></simpara><simpara>* <literal>s$e$r$v$i$c$e$</literal> - P$a$c$e$m$a$k$e$r$ w$i$l$l$ s$e$a$r$c$h$ f$o$r$ t$h$e$ s$p$e$c$i$f$i$e$d$ <emphasis>t$y$p$e$</emphasis>, f<literal></literal><literal></literal></simpara><simpara>* <literal>n$a$g$i$o$s$</literal> - T$h$e$ s$p$e$c$i$f$i$e$d$ <emphasis>t$y$p$e$</emphasis> i$s$ t$h$e$ n$a$m$e$ o$f$ a$n$ e$x$e$c$u$t$a$b$l$e$ f$i$l$e$ c$o$n$f$o$r$m$i$n$g$ t$o$ t$h$e$ N$a$g$i$o$s$ P$l$u$g$i$n$ A$P$I$ a$n$d$ l$o$c$a$t$e$d$ i$n$ t$h$e$ <literal>/u$s$r$/l$i$b$e$x$e$c$/n$a$g$i$o$s$/p$l$u$g$i$n$s$</literal> d$i$r$e$c$t$o$r$y$, w$i$t$h$ O$C$F$-s$t$y$l$e$ m$e$t$a$d$a$t$a$ s<literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>t$y$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$a$m$e$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ a$g$e$n$t$ y$o$u$ w$i$s$h$ t$o$ u$s<literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>p$r$o$v$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ O$C$F$ s$p$e$c$ a$l$l$o$w$s$ m$u$l$t$i$p$l$e$ v$e$n$d$o$r$s$ t$oM$o$s$t$ o$f$ t$h$e$ a$g$e$n$t$s$ s$h$i$p$p$e$d$ b$y$ R$e$d$ H$a$t$ <literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara><xref linkend="tb-resource-displayopts-HAAR"/> s$u$m$m$a$r$i$z$e$s$ t$h$e$ c$o$m$m$a$n$d$s$ t$h$a$t$ d$i$s$p$l$a$y$ t$</simpara>
<table xml:id="tb-resource-displayopts-HAAR" frame="all" rowsep="1" colsep="1">
<title>C$o$m$m$a$n$d$s$ t$o$ D$i$s$p$l$a$y$ R$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">p$c$s$ D$i$s$p$l$a$</entry>
<entry align="left" valign="top">O$u$t$</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal role="command">p$c$s$ r$e$s$o$u$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ a$l$l$ a$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal role="command">p$c$s$ r$e$s$o$u$r$c$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ a$v$a$i$l$a$b$l$e$ r</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal role="command">p$c$s$ r$e$s$o$u$r$c$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ a$v$a$i$l$a$b$l$e$ r</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ <emphasis></emphasis></literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ a$v$a$i$l$a$b$l$e$ r$e$s$o$u$r$c$e$s$ Y$o$u$ c$a$n$ u$s$e$ t$h$i$s$ c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ r$e$s$o$u$r$c$e$s$ f$i$l$t$e$r$e$d$ b$y</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="proc_displaying-resource-specific-parameters-configuring-cluster-resources">
<title>D$i$s$p$l$a$y$i$n$g$ r$e$s$o$u$r$c$e$-s</title>
<simpara>F$o$r$ a$n$y$ i$n$d$i$v$i$d$u$a$l$ r$e$s$o$u$r$c$e$, y$o$u$ c$a$n$ u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ a$ d$e$s$c$r$i$p$t$i$o$n$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$, t$h$e$ p$a$r$</simpara>
<literallayout class="monospaced">pcs resource describe [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ i$n$f<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource describe ocf:heartbeat:apache</literal>
This is the resource agent for the Apache Web server.
This resource agent operates both version 1.x and version 2.x Apache
servers.

...</literallayout>
</section>
<section xml:id="proc_configuring-resource-meta-options-configuring-cluster-resources">
<title>C$o$n$f$i$g$u$r$i$n$g$ r$e$s$o$u$</title>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$-s$p$e$c$i$f$i$c$ p$a$r$a$m$e$t$e$r$s$, y$o$u$ c$a$n$ c$o$n$f$T$h$e$s$e$ o$p$t$i$o$n$s$ a$r$e$ u$s$e$d$ b$y$ t$h$e$ c$l$u$s$t$e$r$ t$o$ d$e$c$</simpara>
<simpara><xref linkend="tb-resource-options-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ r$e$s$o$u$</simpara>
<table xml:id="tb-resource-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ M$e$</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="29*"/>
<colspec colname="col_2" colwidth="29*"/>
<colspec colname="col_3" colwidth="43*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>p$r$i$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>0</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ n$o$t$ a$l$l$ r$e$s$o$u$r$c$e$s$ c$a$n$ b$e$ a$c$t$i$v$e$, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ s$t$o$p$ l$o$w$e$r$ p$r$i$o$r$i$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>t$a$r$g$e$t</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>S$t$a$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$a$t$ s$t$a$t$e$ s$h$o$u$l$d$ t$h$e$ c$l$u$s$t$e$r$ a$t$t$e$A$l$l$o$w$e$d$ </simpara><simpara>* <emphasis>S$t$o$p$p$e$d$</emphasis> - F$o$r$c$e$ t$h$e$ r$e$s$o</simpara><simpara>* <emphasis>S$t$a$r$t$e$d$</emphasis> - A$l$l$o$w$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ b$e$ s$t$a$r$t$e$d$ (a$n$d$ i$n$ t$h$e$ c$a$s$e$ o$f$ p$r$o$m$o$</simpara><simpara>* <emphasis>M$a$s$t$e$r$</emphasis> - A$l$l$o$w$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ b$e$ s$t$a$r$t$e</simpara><simpara>* <emphasis>S$l$a$v$e$</emphasis> - A$l$l$o$w$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ b$e$ s$t$a$r$t$e$d$, b$u$t$ o$n$l$y$ i$n$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>i$s$-m$a$n</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>t$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$s$ t$h$e$ c$l$u$s$t$e$r$ a$l$l$o$w$e$d$ t$o$ s$t$a$rA$l$l$o$w$e$d$ v$a$l$u$e$s$<literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$s$o$u$r$c$e$-s$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>0</simpara></entry>
<entry align="left" valign="top"><simpara>V$a$l$u$e$ t$o$ i$n$d$i$c$a$t$e$ h$o$w$ m$u$c$h$ t$h$e$ r$e$s$o$u$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$q$u$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>C$a$l$c$u$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ u$n$d$e$r$ w$h$a$t$ c$o$n$d$i$t$i$o$n$s$ </simpara><simpara>D$e$f$a$u$l$t$s$ t$o$ <literal>f$e$n$c$i$n$g$</literal> e$x$c$e$p$t$ u$n$d$e$r$P$o$s$s$i$b$l$e$</simpara><simpara>* <literal>n$o$t$h$i$n$g$</literal> - T$h$e$ c$l$u$s$t$e$r$ c$a$n$ a$l$w$</simpara><simpara>* <literal>q$u$o$r$u$m$</literal> - T$h$e$ c$l$u$s$t$e$r$ c$a$n$ o$n$l$y$ s$t$a$r$t$ t$h$i$s$ r$e$s$o$u$r$c$e$ i$f$ a$ mT$h$i$s$ i$s$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ i$f$ <literal>s$t$o$n$i$t$h$-e$n$a$b$l$e$d$</literal> i$s$ <literal>f$a$l</literal><literal></literal><literal></literal></simpara><simpara>* <literal>f$e$n$c$i$n$g$</literal> - T$h$e$ c$l$u$s$t$e$r$ c$a$n$ o$n$l$y$ s$t$a$r$t$ t$h$i$s$ r$e$s$o$u$r$c$e$ i$f$ a$ m$a$j$o$r$i$t$y$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$e$d$<emphasis></emphasis></simpara><simpara>* <literal>u$n$f$e$n$c$i$n$g$</literal> - T$h$e$ c$l$u$s$t$e$r$ c$a$n$ o$n$l$y$ s$t$a$r$t$ t$h$i$s$ r$e$s$o$u$r$c$e$ i$f$ a$ m$a$j$o$r$i$t$y$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$e$d$ n$o$d$e$s$ a$r$e$ a$c$t$i$v$e$ <emphasis>a$n$d$</emphasis> a<emphasis></emphasis><emphasis></emphasis>T$h$i$s$ i$s$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ i$f$ t$h$e$ <literal>p$r$o$v$i$d$e$s$=u$n$f$e$n$c$i$n$g$</literal> <literal>s$t$o$n$i$t</literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$i$g$r$a$t$i$o$n$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>I$N$F$I$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ f$a$i$l$u$r$e$s$ m$a$y$ o$c$c$u$r$ f$o$r$ t$h$i$s$ r$e$s$o$u$r$c$e$ o$n$ a$ n$o$d$e$, b$e$f$o$r$e$ t$A$ v$a$l$u$e$ o$f$ 0 i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$i$s$ f$e$a$t$u$r$e$ i$s$ d$i$s$a$b$l$e$d$ (t$h$e$ n$o$d$e$ w$i$l$l$ n$e$v$e$r$ b$e$ m$a$r$k$e$d$ i$n$e$l$i$g$i$b$l$e$); b$y$ c$o$n$t$<literal></literal>T$h$i$s$ o$p$t$i$o$n$ h$a$s$ a$n$ e$f$f$e$c$t$ o$n$l$y$ i$f$ t$h$e$ f$a$i$l$e$d$ o$p$e$r$a$t$i$o$n$ h$a$s$ <literal>o$n$-f$a$i$l$=r$e$s$t$a$r$t$</literal> (t$h$e$ d$e$f$a$u$l$t$), a$n$d$ a$d$d$i$t$i$o$n$a$l$l$y<literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>f$a$i$l$u$r$e$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>0</literal> (d$i$s$a$b</simpara></entry>
<entry align="left" valign="top"><simpara>U$s$e$d$ i$n$ c$o$n$j$u$n$c$t$i$o$n$ w$i$t$h$ t$h$e$ <literal>m$i$g$r$a$t$i$o$n$-t$h$r$e$s$h$o$l$d$</literal> o$p$t$i$o$n$, i$n$d$i$c$a$t$e$s$ h$o$w$ m$a$n$y$ s$e$c$o$n$d$s$ t$o$ w$a$i$t$ b$e$f$o$r$e$ a$c$t$i$n$g$ a$s$ i$f$ t$h$e$ f$a$A$s$ w$i$t$h$ a$n$y$ t$i$m$e$-b$a$s$e$d$ a$c$t$i$o$n$s$, t$h$i$s$ i$s$ n$o$t$ g$u$a$r$a$n$t$e$e$d$ t$o$ b$e$ c$h$e$c$k$e$d$ m$o$r$e$ f$r$e$q$u$e$n$t$l<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$u$l$t$i$p$l$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>s$t$o$p$_s</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$a$t$ s$h$o$u$l$d$ t$h$e$ c$l$u$s$t$e$r$ d$o$ i$f$ i$t$ e$v$e$r$ f$i$n$d$s$ t$h$e$ A$l$l$o$w$e$d$ </simpara><simpara>* <literal>b$l$o$c$k$</literal> - m$a$r$k$ t$h$e$ r$e$s$o$u</simpara><simpara>* <literal>s$t$o$p$_o$n$l$y$</literal> - s$t$o$p$ a$l$l$ a$c$t$i$v$e$ i$n$s$t$a$n$</simpara><simpara>* <literal>s$t$o$p$_s$t$a$r$t$</literal> - s$t$o$p$ a$l$l$ a$c$t$i$v$e$ i$n$s$t$a$n$c$e$s$ a$n$d$ s$t$a</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$r$i$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>t$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>(R$H$E$L$ 8.4 a$n$d$ l$a$t$e$r$) S$e$t$s$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ t$h$e$ <literal>i$n$f$l$u$e$n$c$e$</literal> o$p$t$i$o$n$ f$o$r$ a$l$l$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ i$n$v$o$l$v$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$ a$s$ a$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c<emphasis></emphasis>T$h$e$ <literal>i$n$f$l$u$e$n$c$e$</literal> c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ o$p$t$i$o$n$ d$e$t$e$r$m$i$n$e$s$ w$h$e$t$h$e$r$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ m$o$v$e$ b$o$t$h$ t$h$e$ p$r$i$m$a$r$y$ a$n$d$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c$e$s$ t$o$ a$n$o$t$h$e$r$ n$o$d$e$ w$h$e$n$ t$h$e$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c$eT$h$e$ <literal>c$r$i$t$i$c$a$l$</literal> r$e$s$o$u$r$c$e$ m$e$t$a$ o$p$t$i$o$n$ c$a$n$ h$a$v$e$ a$ v$a$l$u$e$ o$f$ <literal></literal><literal></literal><literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<section xml:id="changing_the_default_value_of_a_resource_option" remap="_changing_the_default_value_of_a_resource_option">
<title>C$h$a$n$g$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$</title>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.3, y$o$u$ c$a$n$ c$h$a$n$g$e$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ o$p$t$i$<literal></literal>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$s$e$t$s$ t$h$e$ d$e$f$a$u$l$t$ v<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource defaults update resource-stickiness=100</literal></literallayout>
<simpara>T$h$e$ o$r$i$g$i$n$a$l$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$ <emphasis>n$a$m$e$</emphasis>=<emphasis>v$a$l$u$e$</emphasis></literal> c$o$m$m$a$n$d$, w$h$i$c$h$ s$e$t$ d$e$f$a$u$l$t$s$ f$o$r$ a$l$l$ r$e$s$o$u$r$c$e$s$ i$n$ p$r$e$v$i$o$u$s$ R$H$EH$o$w$e$v$e$r$, <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$ u$p$d$a$t$e$</literal> i$s$ n$o$w$ </simpara>
</section>
<section xml:id="changing_the_default_value_of_a_resource_option_for_sets_of_resources_rhel_8_3_and_later" remap="_changing_the_default_value_of_a_resource_option_for_sets_of_resources_rhel_8_3_and_later">
<title>C$h$a$n$g$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$ f$</title>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.3, y$o$u$ c$a$n$ c$r$e$a$t$e$ m$u$l$t$i$p$l$e$ s$e$t$s$ o$f$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$ w$i$t$h$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$</literal><literal></literal>I$n$ R$H$E$L$ 8.3, o$n$l$y$ <literal>r$e$s$o$u$r$c$e$</literal> e$x$p$r$e$s$s$i$o$n$s$, i$n$c$l$u$d$i$n$g$ <literal>a$n$d$</literal>, <literal>o$r$</literal> a$n$d$ p$a$r$e$n$t$h$e$s$e$s$,I$n$ R$H$E$L$ 8.4 a$n$d$ l$a$t$e$r$, o$n$l$y$ <literal>r$e$s$o$u$r$c$e$</literal> a$n$d$ <literal>d$a$t$e$</literal> e$x$p$r$e$s$s$i$o$n$s$, i$n$c$l$u$d$i$n$g$ <literal>a$n$d$</literal>, <literal>o$r$</literal> a$n$d$ p$a$r$e$</simpara>
<simpara>W$i$t$h$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$ s$e$t$ c$r$e$a$t$e$</literal> c$o$m$m$a$n$d$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ d$e$I$f$, f$o$r$ e$x$a$m$p$l$e$, y$o$u$ a$r$e$ r$u$n$n$i$n$g$ d$a$t$a$b$a$s$e$s$ w$h$i$c$h$ t$a$k$e$ a$ l$o$n$g$ t$i$m$e$ t$o$ s$t$o$p$, y$o$u$ c$a$n$ i$n$c$r$e$a$s$e$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ a$l$l$ r</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ <literal>r$e$s$o$u$r$c$e$-s$</literal><literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ <literal>i$d$</literal> o$p$t$i$o$n$, w$h$i$c$h$ n$a$m$e$s$ t$h$e$ s$e$t$ o$f$ r$e$s$oI$f$ y$o$u$ d$o$ n$o$t$ s$e$t$ t$h$i$s$ o$p$t$i$o$n$ <literal>p$c$s$</literal> w$i$l$l$S$e$t$t$i$n$g$ t$h$i$s$ v$a$l$u$e$ a$l$l$o$w$s$ y$o$u$ t$o$ p$r$o</simpara>
</listitem>
<listitem>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, <literal>::p$g$s$q$l$</literal> m$e$a$n$s$ a$ r$e$s$o$u$r$c$e$ o$f$ a$n$y<literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>S$p$e$c$i$f$y$i$n$g$ <literal>o$c$f$:h$e$a$r$t$b$e$a$t$:p$g$s$q$l$</literal> w$o$u$l$d$ i$n$d$i$c$a$t$e$ c$<literal></literal><literal></literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>S$p$e$c$i$f$y$i$n$g$ <literal>o$c$f$:p$a$c$e$m$a$k$e$r$:</literal> w$o$u$l$d$ i$n$d$i$c$a$t$e$ a$l$l$ r$e$s$o$u$r$c$e$s$<literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<literallayout class="monospaced"># <literal>pcs resource defaults set create id=pgsql-stickiness meta resource-stickiness=100 rule resource ::pgsql</literal></literallayout>
<simpara>T$o$ c$h$a$n$g$e$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$s$ i$n$ a$n$ e$x$i$s$t$i$n$g$ s$e$t$, u$s$e$ t$h<literal></literal></simpara>
</section>
<section xml:id="displaying_currently_configured_resource_defaults" remap="_displaying_currently_configured_resource_defaults">
<title>D$i$s$p$l$a$y$i$n$g$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i</title>
<simpara>T$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$</literal> c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ d$e$f$a$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$h$o$w$s$ t$h$e$ o$u$t$p$u$t$ o$f$ t$h$i$s$ c$o$m$m$a$n$d$ a$f$t$e$r$ y$o$u$ h$a$v<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource defaults</literal>
Meta Attrs: rsc_defaults-meta_attributes
  resource-stickiness=100</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$h$o$w$s$ t$h$e$ o$u$t$p$u$t$ o$f$ t$h$i$s$ c$o$m$m$a$n$d$ a$f$t$e$r$ y$o$u$ h$a$v$e$ r$e$s$e$t$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c</literal><literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource defaults</literal>
Meta Attrs: pgsql-stickiness
  resource-stickiness=100
  Rule: boolean-op=and score=INFINITY
    Expression: resource ::pgsql</literallayout>
</section>
<section xml:id="setting_meta_options_on_resource_creation" remap="_setting_meta_options_on_resource_creation">
<title>S$e$t$t$i$n$g$ m$e$t$a$ o$p$t$i$o$n$s$ o$</title>
<simpara>W$h$e$t$h$e$r$ y$o$u$ h$a$v$e$ r$e$s$e$t$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ m$e$t$a$ o$p$t$i$o$n$ o$r$ n$o$t$, y$o$u$ c$a$n$ s$e$t$ a$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$ f$o$rT$h$e$ f$o$l$l$o$w$i$n$g$ s$h$o$w$s$ t$h$e$ f$o$r$m$a$t$ o$f$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ c$r$e$a$t$e$</literal> c$o$m$m$a$n$d$ y$o$</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource options</emphasis>] [meta <emphasis>meta_options</emphasis>...]</literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.120 meta resource-stickiness=50</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ a$l$s$o$ s$e$t$ t$h$e$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ m$e$t$a$ o$p$t$i$o$n$ f$o$r$ a$n$ e$x$i$s$t$i$n$g$ r$e$s$o$</simpara>
<literallayout class="monospaced">pcs resource meta <emphasis>resource_id</emphasis> | <emphasis>group_id</emphasis> | <emphasis>clone_id</emphasis> <emphasis>meta_options</emphasis></literallayout>
<simpara>I$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$, t$h$e$r$e$ i$s$ a$n$ e$x$i$s$t<literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ <literal>f$a$i$l$u$r$e$-t$i$m$e$o$u$t$</literal> m$e$t$a$ o$p$t$i$o$n$ t$o$ 20 s$e$c$o$n$d$s$, s$o$ t$h$a$t$ t$h$e$ r$e</simpara>
<literallayout class="monospaced"># <literal>pcs resource meta dummy_resource failure-timeout=20s</literal></literallayout>
<simpara>A$f$t$e$r$ e$x$e$c$u$t$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$, y$o$u$ c$a$n$ d$i$s$p$l$a$y$ t$h$e$ v$a$l$u$e$s$ f$o$r$ t$h$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource config dummy_resource</literal>
 Resource: dummy_resource (class=ocf provider=heartbeat type=Dummy)
  Meta Attrs: failure-timeout=20s
  ...</literallayout>
</section>
</section>
<section xml:id="assembly_resource-groups-configuring-cluster-resources">
<title>C$o$n$f$i$g$u$r$i$n$g$ r$e$</title>
<simpara>O$n$e$ o$f$ t$h$e$ m$o$s$t$ c$o$m$m$o$n$ e$l$e$m$e$n$t$s$ o$f$ a$ c$l$u$s$t$e$r$ i$s$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ n$e$e$d$ t$o$ b$e$ l$oT$o$ s$i$m$p$l$i$f$y$ t$h$i$s$ c$o$n$f$i$g$u$r$a$t$i$o$n$, P$a$c$e$m$a$k$e$r$ s$u$</simpara>
<section xml:id="proc_creating-resource-groups-resourceegroups">
<title>C$r$e$a$t$i$n$g$ a$ r$e$s</title>
<simpara>Y$o$u$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ w$i$t$h$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$, s$pI$f$ t$h$e$ g$r$o$u$p$ d$o$e$s$ n$o$t$ e$x$i$s$t$, t$h$i$s$ I$f$ t$h$e$ g$r$o$u$p$ e$x$i$s$t$s$, t$h$i$s$ c$o$m$m$a$n$d$ a$d$d$s$ a$dT$h$e$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ s$t$a$r$t$ i$n$ t$h$e$ o$r$d$e$r$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$m$ w$i$t$h$ t$h$i$s$ c$o$m$m$a$n$d$,</simpara>
<literallayout class="monospaced">pcs resource group add <emphasis>group_name</emphasis> <emphasis>resource_id</emphasis> [<emphasis>resource_id</emphasis>] ... [<emphasis>resource_id</emphasis>] [--before <emphasis>resource_id</emphasis> | --after <emphasis>resource_id</emphasis>]</literallayout>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="option">--b$e$f$o$r$e$</literal> a$n$d$ <literal role="option">--a$f$t$e$r$</literal> o$p$t$i$o$n$s$ o$f$ t$h$i$s$ c$o$m$m$a$n$d$ t$o$ s$p$e$c$i$f$y$ t$h$e$ p$o$s$i$t$i$o$n$ o$f$ t$h$e$ a</simpara>
<simpara>Y$o$u$ c$a$n$ a$l$s$o$ a$d$d$ a$ n$e$w$ r$e$s$o$u$r$c$e$ t$o$ a$n$ e$x$i$s$t$i$n$g$ g$r$o$u$p$ w$h$e$n$ y$o$u$ T$h$e$ r$e$s$o$u$r$c$e$ y$o$u$ c$r$e$a$t$e$ i$s$ a$d$d$e$d$ t$o<emphasis></emphasis>I$f$ t$h$e$ g$r$o$u$p$ <emphasis>g$r$o$u$p$_n$a$m$e$</emphasis> d$o$e$s$ n$o$t$ </simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [resource_options] [op <emphasis>operation_action</emphasis> <emphasis>operation_options</emphasis>] --group <emphasis>group_name</emphasis></literallayout>
<simpara>T$h$e$r$e$ i$s$ n$o$ l$i$m$i$t$ t$o$ t$h$e$ n$u$m$b$e$r$ o$f$ r$eT$h$e$ f$u$n$d$a$m$e$n$t$a$l$ p$r$o$p$e$r$t$i$e$s$ o$</simpara>
<itemizedlist>
<listitem>
<simpara>R$e$s$o$u$r$c$e$s$ a$r$e$ c$o$l$o$c$a$t</simpara>
</listitem>
<listitem>
<simpara>R$e$s$o$u$r$c$e$s$ a$r$e$ s$t$a$r$t$e$d$ i$n$ t$h$e$ o$r$d$e$I$f$ a$ r$e$s$o$u$r$c$e$ i$n$ t$h$e$ g$r$o$u$p$ c$a$n$n$o$t$ r$u$n$ a$n$y$w$h$e$r$e$, t$h$e$n$ n$o$ r$e$s$o$u$r$c</simpara>
</listitem>
<listitem>
<simpara>R$e$s$o$u$r$c$e$s$ a$r$e$ s$t$o$p$p$e$d$ i$n$ t$h$e$ r$e$v$e$r$s$e$ o</simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ n$a$m$e$d$ <literal>s$h$o$r$t$c$u$t$</literal> t<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource group add shortcut IPaddr Email</literal></literallayout>
<simpara>I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ <literal>I$P$a$d$d$r$</literal> i$s$ s$t$a$r$t$e$d$ <literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ <literal>E$m$a$i$l$</literal> r$e$s$o$u$r$c$e$ i$s$ s$t$o$p$p<literal></literal></simpara>
</listitem>
<listitem>
<simpara>I$f$ <literal>I$P$a$d$d$r$</literal> c$a$n$n$o$t$ r$u$n$ a$n$y$w$h$e<literal></literal></simpara>
</listitem>
<listitem>
<simpara>I$f$ <literal>E$m$a$i$l$</literal> c$a$n$n$o$t$ r$u$n$ a$n$y$w$h$e$r$e$, h$o$w$e$v$e$r$, t$h$i$s$<literal></literal></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="removing_a_resource_group" remap="_removing_a_resource_group">
<title>R$e$m$o$v$i$n$g$ a$ r$e$s</title>
<simpara>Y$o$u$ r$e$m$o$v$e$ a$ r$e$s$o$u$r$c$e$ f$r$o$m$ a$ g$r$o$u$p$I$f$ t$h$e$r$e$ a$r$e$ n$o$ r$e$m$a$i$n$i$n$g$ r$e$s$o$u$r$c$e$s$ i$n$ t$h$e$ g$r$o$u$p$</simpara>
<literallayout class="monospaced">pcs resource group remove <emphasis>group_name</emphasis> <emphasis>resource_id</emphasis>...</literallayout>
</section>
<section xml:id="displaying_resource_groups" remap="_displaying_resource_groups">
<title>D$i$s$p$l$a$y$i$n$g$ r$e$s</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ c$u$r$r$e$</simpara>
<literallayout class="monospaced">pcs resource group list</literallayout>
</section>
<section xml:id="s2-group_options-HAAR">
<title>G$r$o$u$p$ o$</title>
<simpara>Y$o$u$ c$a$n$ s$e$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ o$p$t$i$o$n$s$ f$o$r$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$, a$n$d$ t$h$e$y$ m$a$i$n$t$a$i$n$ t$h$e$ s$a$m$e$ m$e$a$n$i$n$g$ a$s$<literal></literal><literal></literal><literal></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ r$e$s$o$u$r$c$e$ m$e$t$a$ o$p$t$i$o$n$s$, s$e<link linkend="proc_configuring-resource-meta-options-configuring-cluster-resources"></link></simpara>
</section>
<section xml:id="s2-group_stickiness-HAAR">
<title>G$r$o$u$p$ s$t$i</title>
<simpara>S$t$i$c$k$i$n$e$s$s$, t$h$e$ m$e$a$s$u$r$e$ o$f$ h$o$w$ m$u$c$h$ a$ r$e$s$o$u$r$c$e$ w$a$n$t$s$ E$v$e$r$y$ a$c$t$i$v$e$ r$e$s$o$u$r$c$e$ o$f$ t$h$e$ g$r$o$u$p$ w$i$l$l$ c$o$n$t$r$i$b$u$t$e$S$o$ i$f$ t$h$e$ d$e$f$a$u$l$t$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> i$s$ 100, a$n$d$ a$ g$r$o$u$p$ h$a$s$ s$e$v$e$n$ m$e$m$b$e$r$s$, f$i$v$e$ o$f$ w$h$i$c$h$ a$r$e$ a$c$t$i$v$e$, t</simpara>
</section>
</section>
<section xml:id="con_determining-resource-behavior-configuring-cluster-resources">
<title>D$e$t$e$r$m$i$n$i$n$g$ r$e$s$</title>
<simpara>Y$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ t$h$e$ b$e$h$a$v$i$o$r$ o$f$ a$ r$e$s$o$u$r$c$e$ i$n$ a$ c$l$u$s$t$e$rY$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ f$o$l$l$o$w$i$n$g$</simpara>
<itemizedlist>
<listitem>
<simpara><literal>l$o$c$a$t$i$o$n$</literal> c$o$n$s$t$r$a$i$n$t$s$ — A$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ d$e$t$eF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$n$f$i$g$u$r$i$n$g$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, s$e$<link linkend="assembly_determining-which-node-a-resource-runs-on-configuring-and-managing-high-availability-clusters"></link></simpara>
</listitem>
<listitem>
<simpara><literal>o$r$d$e$r$</literal> c$o$n$s$t$r$a$i$n$t$s$ — A$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ d$e$t$e$r$m$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$n$f$i$g$u$r$i$n$g$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$, s$e$e$ <link linkend="assembly_determining-resource-order.adoc-configuring-and-managing-high-availability-clusters">D$e$t$e$</link></simpara>
</listitem>
<listitem>
<simpara><literal>c$o$l$o$c$a$t$i$o$n$</literal> c$o$n$s$t$r$a$i$n$t$s$ — A$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ d$e$t$e$r$m$i$n$e$s$ w$h$e$rF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$<link linkend="assembly_colocating-cluster-resources.adoc_configuring-and-managing-high-availability-clusters"></link></simpara>
</listitem>
</itemizedlist>
<simpara>A$s$ a$ s$h$o$r$t$h$a$n$d$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ a$ s$e$t$ o$f$ c$o$n$s$t$r$a$i$n$t$s$ t$h$a$t$ w$i$l$l$ l$o$c$a$t$e$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ t$o$g$e$t$h$e$r$ a$n$d$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ r$e$s$o$u$A$f$t$e$r$ y$o$u$ h$a$v$e$ c$r$e$a$t$e$d$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ c$o$n$s$t$r$a$i$n$t$s$ o$n$ t$h$e$ g$r$o$u$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ r$e$s$o$u$r$c$e$ g$r$o$u$p$s$, s$<link linkend="assembly_resource-groups-configuring-cluster-resources"></link></simpara>
</section>
</chapter>
<chapter xml:id="assembly_determining-which-node-a-resource-runs-on-configuring-and-managing-high-availability-clusters">
<title>D$e$t$e$r$m$i$n$i$n$g$ w$h$i$c$h$ n$o$d$e$s$ </title>
<simpara>L$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ d$e$t$e$r$m$i$n$e$ w$h$i$Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ t$o$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$</simpara>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ a$ r$e$s$o$u$r$c$e$ r$u$n$s$ i$s$ i$n$f$l$u$e$n$c$e$d$ b$y$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$ f$o$r$ t$h$a$t$ r$e$s$o$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$e$t$t$i$n$g$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$, s$e$e<link linkend="proc_setting-resource-stickiness-determining-which-node-a-resource-runs-on"></link></simpara>
<section xml:id="proc_configuring-location-constraints-determining-which-node-a-resource-runs-on">
<title>C$o$n$f$i$g$u$r$i$n$g$ l$o$c$a$t</title>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ b$a$s$i$c$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$o$ s$p$e$c$i$f$y$ w$h$e$t$h$e$r$ a$ r$e$s$o$u$r$c$e$ p$r$e$f$e$r$s$ o$r$ a$v$o$i$d$s$ a$ n$o$d$e$, w$i$t$h$ a<literal></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ f$o$r$ aN$o$t$e$ t$h$a$t$ i$t$ i$s$ p$o$s$s$i$b$l$e$ t$o$ c$r$e$a$t$e$ c$o$n$s$t$r$a$i$n$t$s$ o$n$ a$ p$a$r$t$i$c$u$l$a$r$ r$</simpara>
<literallayout class="monospaced">pcs constraint location <emphasis>rsc</emphasis> prefers <emphasis>node</emphasis>[=<emphasis>score</emphasis>] [<emphasis>node</emphasis>[=<emphasis>score</emphasis>]] ...</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ f$o$r$ </simpara>
<literallayout class="monospaced">pcs constraint location <emphasis>rsc</emphasis> avoids <emphasis>node</emphasis>[=<emphasis>score</emphasis>] [<emphasis>node</emphasis>[=<emphasis>score</emphasis>]] ...</literallayout>
<simpara><xref linkend="tb-locationconstraint-options-HAAR-determining-which-node-a-resource-runs-on"/> s$u$m$m$a$r$i$z$e$s$ t$h$e$ m$e$a$n$i$n$g$s$ o$f$ t$h$e$ b$a$s$i$c$ o$p$t$i$o$n$s$</simpara>
<table xml:id="tb-locationconstraint-options-HAAR-determining-which-node-a-resource-runs-on" frame="all" rowsep="1" colsep="1">
<title>L$o$c$a$t$i$o$n$ C$o$n$s$t$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="33*"/>
<colspec colname="col_2" colwidth="67*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>r$s</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ r$e$s$o$u$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>n$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ n$o$d$e$’s</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$c$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>P$o$s$i$t$i$v$e$ i$n$t$e$g$e$r$ v$a$l$u$e$ t$o$ i$n$d$i$c$a$t$e$ t$h$e$ d$e$g$r$e$e$ o$f$ p$r$e$f$e$r$e$n$c$e$ f$o$r$ w$h$e$t$h$e<literal>I$N$F$I$N$I$T$Y$</literal> i$s$ t$h$e$ d$e$f$a$u$l$t$ <literal>s$c$o$r$e$</literal> v$a$l$u$e$ f$o$r</simpara><simpara>A$ v$a$l$u$e$ o$f$ <literal>I$N$F$I$N$I$T$Y$</literal> f$o$r$ <literal>s$c$o$r$e$</literal> i$n$ a$ <literal>p$c$s$ c$o$n$t$r$a$i$n$t$ l$o$c$a$t$i$o$n$ <emphasis>r$s$c$</emphasis> p$r$e$f$e$r$s$</literal> c$o$m$m$a$n$d$ i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ w$i$l$l$ p$r$e$f$e$r$ t$h$a$t$ n$o$d$e$ i$f$ t$h$e$ n$o$d$e$</simpara><simpara>A$ v$a$l$u$e$ o$f$ <literal>I$N$F$I$N$I$T$Y$</literal> f$o$r$ <literal>s$c$o$r$e$</literal> i$n$ a$ <literal>p$c$s$ c$o$n$t$r$a$i$n$t$ l$o$c$a$t$i$o$n$ <emphasis>r$s$c$</emphasis> a$v$o$i$d$s$</literal> c$o$m$m$a$n$d$ i$n$d$i$c$a$t$e$s$ t$h$a$t$ tT$h$i$s$ i$s$ t$h$e$ e$q$u$i$v$a$l$e$n$t$ o$f$ s$e$t$t$i$n$g$ a$ <literal>p$c$s$ c$o$n$s$t$r$a$i$n$t$ l$o$c</literal><literal></literal></simpara><simpara>A$ n$u$m$e$r$i$c$ s$c$o$r$e$ (t$h$a$t$ i$s$, n$o$t$ <literal>I$N$F$I$N$I$T$Y$</literal>) m$e$a$n$s$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ i$s$ o$p$t$i$o$n$a$l$, F$o$r$ e$x$a$m$p$l$e$, i$f$ t$h$e$ r$e$s$o$u$r$c$e$ i$s$ a$l$r$e$a$d$y$ p$l$a$c$e$d$ o$n$ a$ d$i$f$f$e$r$e$n$t$ n$o$d$e$, a$n$d$ i$t$s$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> s$c$o$r$e$ i$s$ h$i$g$h$e<literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$o$ s$p$e$c$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">pcs constraint location Webserver prefers node1</literallayout>
<simpara><literal role="command">p$c$s$</literal> s$u$p$p$o$r$t$s$ r$e$g$u$l$a$r$ e$x$p$r$e$s$s$i$o$n$s$ i$n$ l$o$c$a$t$T$h$e$s$e$ c$o$n$s$t$r$a$i$n$t$s$ a$p$p$l$y$ t$o$ m$u$l$t$i$p$l$e$ r$e$s$o$u$r$c$e$s$ b$a$s$e$d$ o$n$T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ c$o$n$f$i$g$u$r$e$ m$u$l$t$i$p$l$e$ l$o$c$a$t$i$o$n</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$o$ s$p$e$<literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">pcs constraint location 'regexp%dummy[0-9]' prefers node1</literallayout>
<simpara>S$i$n$c$e$ P$a$c$e$m$a$k$e$r$ u$s$e$s$ P$O$S$I$X$ e$x$t$e$n$d$e$d$ r$e$g$u$l$a$r$ e$x$p$r$e$s$s$i$o$n$s$ a$s$ d$o$c$u$m$e$n$t$e$d$ a$t$ <link xlink:href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04"> <link xlink:href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04">h$t$t$p$://p$u$b$s$.o$p$e$n$g$r$o$u$p$.o$r$g$/o$n$l$i$n$e$p$u$b$s$/9699919799/b$a$s</link></link></simpara>
<literallayout class="monospaced">pcs constraint location 'regexp%dummy[[:digit:]]' prefers node1</literallayout>
</section>
<section xml:id="proc_limiting-resource-discovery-to-a-subset-of-nodes-determining-which-node-a-resource-runs-on">
<title>L$i$m$i$t$i$n$g$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$</title>
<simpara>B$e$f$o$r$e$ P$a$c$e$m$a$k$e$r$ s$t$a$r$t$s$ a$ r$e$s$o$u$r$c$e$ a$n$y$w$h$e$r$e$, i$t$ f$i$r$s$t$ r$u$n$s$ a$ o$n$e$-t$i$m$e$ m$o$n$i$t$o$r$ o$p$e$r$a$t$i$o$n$ (o$f$t$e$n$ r$e$f$e$r$r$T$h$i$s$ p$r$o$c$e$s$s$ o$f$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$r$y$ c$a$n$ r$e$s$u$l$t$ i$n$ e$r$r$o$r$s$ o</simpara>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ o$n$ a$ n$o$d$e$, y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="option">r$e$s$o$u$r$c$e$-d$i$s$c$o$v$e$r$y$</literal> o$p$t$i$o$n$ o$f$ t$h$e$ <literal role="command">p$c$s$ c$o$n$s$t$r$a$i$n$t$ l$o$c$a$t$i$o$n$</literal> c$o$m$m$a$n$d$ t$o$ i$n$d$iL$i$m$i$t$i$n$g$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$r$y$ t$o$ a$ s$u$b$s$e$t$ o$f$ n$o$d$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ i$s$ p$h$y$s$i$c$a$l$l$y$ c$a$p$a$b$l$e$ o$f$ r$u$n$n$i$nW$h$e$n$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> i$s$ i$n$ u$s$e$ t$o$ e$x$p$a$n$d$ t$h$e$ n$o$d$e$ c$o$u$n$t$ i$n$t$o$ t$h$e$ h$u$n</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$o$w$s$ t$h$e$ f$o$r$m$a$t$ f$o$r$ s$p$e$c$i$f$y$i$n$g$ t$h$e$ <literal role="option">r$e$s$o$u$r$c$e$</literal><literal role="command"></literal>I$n$ t$h$i$s$ c$o$m$m$a$n$d$, a$ p$o$s$i$t$i$v$e$ v$a$l$u$e$ f$o$r$ <emphasis>s$c$o$r$e$</emphasis> c$o$r$r$e$s$p$o$n$d$s$ t$o$ a$ b$a$s$i$c$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$h$a$t$ c$o$n$f$i$g$u$r$e$s$ a$ r$e$s$o$u$r$c$e$ t$o$ p$r$e$f$e$r$ a$ n$o$d$e$, w$h$i$l$e$ <emphasis></emphasis>A$s$ w$i$t$h$ b$a$s$i$c$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, y$o$u$ c$a$n$ u$s$e$ r$e$g$u$l$a$r$ e$x$p$r$e$s</simpara>
<literallayout class="monospaced">pcs constraint location add <emphasis>id</emphasis> <emphasis>rsc</emphasis> <emphasis>node</emphasis> <emphasis>score</emphasis> [resource-discovery=<emphasis>option</emphasis>]</literallayout>
<simpara><xref linkend="tb-resourcediscoveryconstraint-options-HAAR-determining-which-node-a-resource-runs-on"/> s$u$m$m$a$r$i$z$e$s$ t$h$e$ m$e$a$n$i$n$g$s$ o$f$ t$h$e$ b$a$s$i$c$ p$a$r$a$m$e$t$e$r$s$ f$o$r$ c$o</simpara>
<table xml:id="tb-resourcediscoveryconstraint-options-HAAR-determining-which-node-a-resource-runs-on" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ D$i$s$c$o$v$e$r$y$ C$o$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="40*"/>
<colspec colname="col_2" colwidth="60*"/>
<tbody>
<row>
<entry align="left" valign="top"><simpara>F$i$e</simpara></entry>
<entry align="left" valign="top"><simpara>D$e$s$c$r$i</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ u$s$e$r$-c$h$o$s$e$n$ n$a$m$e$ f$o$r$ t$h$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$s</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ r$e$s$o$u$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>n$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ n$o$d$e$’s</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$c$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$n$t$e$g$e$r$ v$a$l$u$e$ t$o$ i$n$d$i$c$a$t$e$ t$h$e$ d$e$g$r$e$e$ o$f$ p$r$e$f$e$r$e$n$c$e$ f$o$r$ w$h$e$t$h$e$r$ t$h$A$ p$o$s$i$t$i$v$e$ v$a$l$u$e$ f$o$r$ s$c$o$r$e$ c$o$r$r$e$s$p$o$n$d$s$ t$o$ a$ b$a$s$i$c$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$h$a$t$ c$o$n$f$i$g$u$r$e$s$ a$ r$e$s$o$u$r$c$e$ t$o$ p$r$e$f$e$r$ a$ n$o$d$e$, w$h$i$l$e$ a$ n$e$g$a$t$</simpara><simpara>A$ v$a$l$u$e$ o$f$ <literal>I$N$F$I$N$I$T$Y$</literal> f$o$r$ <literal>s$c$o$r$e$</literal> i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ w$i$l$l$ p$r$e$f$e$r$ t$h$a$t$ n$o$d$e$ i$f$ t$h$e$ n$o$d$e$ i$s$ a$v$a$i$l$a$b$l$e$, b$u$t$ d$o$e$sA$ v$a$l$u$e$ o$f$ <literal>-I$N$F$I$N$I$T$Y$</literal> f$o$r$ <literal>s$c$o$r$e$</literal> i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ w$i$l$l$ n$e$v$e</simpara><simpara>A$ n$u$m$e$r$i$c$ s$c$o$r$e$ (t$h$a$t$ i$s$, n$o$t$ <literal>I$N$F$I$N$I$T$Y$</literal> o$r$ <literal>-I$N$F$I$N$I$T$Y$</literal>) m$e$a$n$s$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ i$s$ o$p$t$i$F$o$r$ e$x$a$m$p$l$e$, i$f$ t$h$e$ r$e$s$o$u$r$c$e$ i$s$ a$l$r$e$a$d$y$ p$l$a$c$e$d$ o$n$ a$ d$i$f$f$e$r$e$n$t$ n$o$d$e$, a$n$d$ i$t$s$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> s$c$o$r$e$ i$s$ h$i$g$h$e<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$s$o$u$r$c$e$-d$i$s$c$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>* <literal>a$l$w$a$y$s$</literal> - A$l$w$a$y$s$ p$e$r$f$o$r$m$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$r$y$ f$o$T$h$i$s$ i$s$ t$h$e$ d$e$f$a$u$l$t$ <literal>r$e$s$o$u$r$c$e$-d$i$s$c$o$v$e$r$y$</literal> v$a$l$u$</simpara><simpara>* <literal>n$e$v$e$r$</literal> - N$e$v$e$r$ p$e$r$f$o$r$m$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$r$y$ f$o$r$</simpara><simpara>* <literal>e$x$c$l$u$s$i$v$e$</literal> - P$e$r$f$o$r$m$ r$e$s$o$u$r$c$e$ d$i$s$c$o$v$e$r$y$ f$o$r$ t$h$e$ s$p$e$c$i$f$i$e$d$ r$e$s$o$u$r$c$e$ o$n$l$y$ o<literal></literal>M$u$l$t$i$p$l$e$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ u$s$i$n$g$ <literal>e$x$c$l$u$s$i$v$e$</literal> d$i$s$c$o$v$e$r$y$ f$o$r$ t$h$e$ s$a$m$e$ r$e$s$o$u$r$c$e$ a$c$r$o$s$s$ d$i<literal></literal>I$f$ a$ r$e$s$o$u$r$c$e$ i$s$ m$a$r$k$e$d$ f$o$r$ <literal>e$x$c$l$u$s$i$v$e$</literal> d$i$s$c$o$v$e$r$y$ o$n$ o$n$e$ o$r$ m$o$r$e$ n$o$d$e$s$, t$h$a$t$ r$e$s$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<warning>
<simpara>S$e$t$t$i$n$g$ <literal>r$e$s$o$u$r$c$e$-d$i$s$c$o$v$e$r$y$</literal> t$o$ <literal>n$e$v$e$r$</literal> o$r$ <literal>e$x$c$l$u$s$i$v$e$</literal> r$e$m$o$v$e$s$ P$a$c$e$m$a$k$e$r$’s$ a$b$i$l$i$t$y$ t$o$ d$e$t$e$c$t$ a$n$d$I$t$ i$s$ u$p$ t$o$ t$h$e$ s$y$s$t$e$m$ a$d$m$i$n$i$s$t$r$a$t$o$r$ t$o$ m$a$k$e$ s$u$r$e$ t$h$a$t$ t$h$e$ s$e$r$v$i$c$e$ c$a$n$ n$e$v$e$r$ b$e$ a$c$t$i$v$e$ o$n$ n$o$d$e$s$ w$i$t</simpara>
</warning>
</section>
<section xml:id="proc_configuring-location-constraint-strategy.adoc-determining-which-node-a-resource-runs-on">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ l$o$c$a$t$i$o$n$</title>
<simpara>W$h$e$n$ u$s$i$n$g$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ g$e$n$e$r$a$l$ s$t$r$a</simpara>
<itemizedlist>
<listitem>
<simpara>O$p$t$-I$n$ C$l$u$s$t$e$r$s$ — C$o$n$f$i$g$u$r$e$ a$ c$l$u$s$t$e$r$ i$n$ w$h$i$c$h$, b$y$ d$e$f$a$u$l$t$, n$o$ r$e$s$o$u$r$c$e$ c$a$n$ r$u$n$ a$n$y$w$h$e$</simpara>
</listitem>
<listitem>
<simpara>O$p$t$-O$u$t$ C$l$u$s$t$e$r$s$ — C$o$n$f$i$g$u$r$e$ a$ c$l$u$s$t$e$r$ i$n$ w$h$i$c$h$, b$y$ d$e$f$a$u$l$t$, a$l$l$ r$e$s$o$u$r$c$e$s$ c$a$n$ r$u$n$ a$n$y$w$h$e$r$e$ a$n$d$ t$h$e$n$ c$r$e$a$</simpara>
</listitem>
</itemizedlist>
<simpara>W$h$e$t$h$e$r$ y$o$u$ s$h$o$u$l$d$ c$h$o$o$s$e$ t$o$ c$o$n$f$i$g$u$r$e$ y$o$u$r$ c$l$u$s$t$e$r$ a$s$ a$n$ o$p$t$-i$n$ o$r$ o$p$t$-o$u$t$ c$l$u$s$t$e$r$ d$e$pI$f$ m$o$s$t$ o$f$ y$o$u$r$ r$e$s$o$u$r$c$e$s$ c$a$n$ r$u$n$ o$n$ m$o$s$t$ o$f$ t$h$e$ n$o$d$e$s$, t$h$e$n$ a$n$ o$p$t$-o$u$t$ a$r$O$n$ t$h$e$ o$t$h$e$r$ h$a$n$d$, i$f$ m$o$s$t$ r$e$s$o$u$r$c$e$s$ c$a$n$ o$n$l$y$ r$u$n$ o$n$ a$ s$m$a$l$l$ s$u$b$s$e$</simpara>
<section xml:id="s3-optin-clusters-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ "O$</title>
<simpara>T$o$ c$r$e$a$t$e$ a$n$ o$p$t$-i$n$ c$l$u$s$t$e$r$, s$e$t$ t$h$e$ <literal>s$y$m$m$e$t$r$i$c$-c$l$u$s$t$e$r$</literal> c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ t$o$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set symmetric-cluster=false</literal></literallayout>
<simpara>E$n$a$b$l$e$ n$o$d$e$s$ f$o$r$ i$n$d$iT$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$o$n$f$i$g$u$r$e$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ s$o$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ <literal>W$e$b$s$e$r$v$e$r$</literal> p$r$e$f$e$r$s$ n$o$d$e$ <literal>e$x$a$m$p$l$e$-1</literal>, t$h$e$ r$e$s$o$u$r$c$e$ <literal>D$a$t$a$b$a</literal><literal></literal><literal></literal>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ f$o$r$ a$n$ o$p$t$-i$n$ c$l$u$s$t$e$r$, s$e$t$t$i$n$g$ a$ s$c$o$r$e$ o$f$ z$e$r$o$ a$l$l$o$w$s$ a$ r$e$s$o$u$r</simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver prefers example-1=200</literal>
# <literal>pcs constraint location Webserver prefers example-3=0</literal>
# <literal>pcs constraint location Database prefers example-2=200</literal>
# <literal>pcs constraint location Database prefers example-3=0</literal></literallayout>
</section>
<section xml:id="s3-optout-clusters-HAAR">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$ "O$p</title>
<simpara>T$o$ c$r$e$a$t$e$ a$n$ o$p$t$-o$u$t$ c$l$u$s$t$e$r$, s$e$t$ t$h$e$ <literal>s$y$m$m$e$t$r$i$c$-c$l$u$s$t$e$r$</literal> c$l$u$s$t$e$r$ p$r$o$p$e$r$t<literal></literal>T$h$i$s$ i$s$ t$h$e$ d$e$f$a$u$l$t$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$f$ <literal>s$y$m$m$e</literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set symmetric-cluster=true</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ w$i$l$l$ t$h$e$n$ y$i$e$l$d$ a$ c$o$n$f$i$g$u$r$a$<xref linkend="s3-optin-clusters-HAAR"/>B$o$t$h$ r$e$s$o$u$r$c$e$s$ c$a$n$ f$a$i$l$ o$v$e$r$ t$o$ n$o$d$e$ <literal>e$x$a$m$p$l$e$-3</literal> i$f$ t$h$e$i$r$ p$r$e$f$e$r$r$e$d$ n$o</simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver prefers example-1=200</literal>
# <literal>pcs constraint location Webserver avoids example-2=INFINITY</literal>
# <literal>pcs constraint location Database avoids example-1=INFINITY</literal>
# <literal>pcs constraint location Database prefers example-2=200</literal></literallayout>
<simpara>N$o$t$e$ t$h$a$t$ i$t$ i$s$ n$o$t$ n$e$c$e$s$s$a$r$y$ t$o$ s$p$e$c$i$f$y$ a$ s$c$o$r$e$ o$f$ I$N$F$I$N$I$T$Y$ i$n$ t$h$e$s$e$ </simpara>
</section>
</section>
<section xml:id="proc_setting-resource-stickiness-determining-which-node-a-resource-runs-on">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ r$e$s$o$u$r$c$e$ t$o$ p</title>
<simpara>R$e$s$o$u$r$c$e$s$ h$a$v$e$ a$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$ t$h$a$t$ y$o$u$ c$a$n$ s$e$t$ a$s$ a$ m$e$t$a$ a$t$t$r$i$b$u$t$e$ w$h$e$n$ y$o$u<link linkend="proc_configuring-resource-meta-options-configuring-cluster-resources"></link>T$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$ d$e$t$e$r$m$i$n$e$s$ h$o$w$ m$u$c$h$ a$ r$e$s$o$u$r$c$e$ w$a$n$P$a$c$e$m$a$k$e$r$ c$o$n$s$i$d$e$r$s$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$ i$n$ c$o$n$j$u$n$c$t$i$o$n$ w$i$t$h$ o$t$h$e$r$ s$e$t$t$i$n$g$s$ (f$o$r$ e$x$a$m$p$l$e$, t$h$e$ s$c$o$r$e$ v$a$l$u$e$s$ o$f$ l$</simpara>
<simpara>B$y$ d$e$f$a$u$l$t$, a$ r$e$s$o$u$r$c$e$ i$s$ c$r$e$a$t$e$d$ w$i$t$h$ a$<literal></literal>P$a$c$e$m$a$k$e$r$’s$ d$e$f$a$u$l$t$ b$e$h$a$v$i$o$r$ w$h$e$n$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> i$s$ s$e$t$ t$o$ 0 a$n$d$ t$h$e$r$e$ a$r$e$ n$o$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$T$h$i$s$ m$a$y$ r$e$s$u$l$t$ i$n$ h$e$a$l$t$h$y$ r$e$s$o$u$r$c$e$s$ m$oT$o$ p$r$e$v$e$n$t$ t$h$i$s$ b$e$h$a$v$i$o$r$, y$o$u$ c$a$n$ s$e$t$ t$h$e$ d$e$f$<literal></literal>T$h$i$s$ d$e$f$a$u$l$t$ w$i$l$l$ a$p$p$l$y$ t$o$ a$l$l$ T$h$i$s$ s$m$a$l$l$ v$a$l$u$e$ c$a$n$ b$e$ e$a$s$i$l$y$ o$v$e$r$r$i$d$d$e$n$ b$y$ o$t$h$e$r$ c$o$n$s$t$r$a$i$n$t$s$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$, b$u$t$ i$t$ i$s$ e$n$o$u$g$h$ t$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ d$e$f$a$u$l$t<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource defaults resource-stickiness=1</literal></literallayout>
<simpara>I$f$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$ i$s$ s$e$t$, t$h$e$n$ n$o$ r$eI$f$ r$e$s$o$u$r$c$e$ b$a$l$a$n$c$i$n$g$ i$s$ d$e$s$i$r$e$d$ a$t$ t$h$a$t$ p$o$i$n$t$, y$o$u$ c$a$n$ t$e$m$p$o$r<literal></literal></simpara>
<simpara>N$o$t$e$ t$h$a$t$ i$f$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ s$c$o$r$e$ i$s$ h$i$g$h$e$r$ t$h$a$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> v$a$l$u$e$, t$h$e$ c$l$u$s$t$e$r$ m</simpara>
<simpara>F$o$r$ f$u$r$t$h$e$r$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ h$o$w$ P$a$c$e$m$a$k$e$r$ d$e$t$e$r$m$i$n$e$s$ w$h$e$r$e$ t$o$ p$l$a<link linkend="assembly_configuring-node-placement-strategy-configuring-and-managing-high-availability-clusters"></link></simpara>
</section>
</chapter>
<chapter xml:id="assembly_determining-resource-order.adoc-configuring-and-managing-high-availability-clusters">
<title>D$e$t$e$r$m$i$n$i$n$g$ t$h$e$ o$r$d$e$r$ i$n$ w$h$i$c$h$</title>
<simpara>T$o$ d$e$t$e$r$m$i$n$e$ t$h$e$ o$r$d$e$r$ i$n$ w$h$i$c$h$ t$h$e$ r$e$s$o$u$r$c$e$s$ r$u$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$h$o$w$s$ t$h$e$ f$o$r$m$a$t$ f$o$r$ t$h$e$ c$o$m$m$a$n$</simpara>
<literallayout class="monospaced">pcs constraint order [<emphasis>action</emphasis>] <emphasis>resource_id</emphasis> then [<emphasis>action</emphasis>] <emphasis>resource_id</emphasis> [<emphasis>options</emphasis>]</literallayout>
<simpara><xref linkend="tb-orderconstraint-options-HAAR"/>, s$u$m$m$a$r$i$z$e$s$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ a$n$d$ o$p$t$i$o$n$s$ f$o$</simpara>
<table xml:id="tb-orderconstraint-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ a$n$ O$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="40*"/>
<colspec colname="col_2" colwidth="60*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>r$e$s$o$u$r</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$a$m$e$ o$f$ a$ r$e$s$o$u$r$c$e$ o$n$ w$h$i$c$h</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>a$c$t$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ a$c$t$i$o$n$ t$o$ p$e$r$f$o$rP$o$s$s$i$b$l$e$ v$a$l$u$e$s$ o$f$ t$h$e$ <emphasis>a$c$t$i$o$n$</emphasis></simpara><simpara>* <literal>s$t$a$r$t$</literal> - S$t$a$r$t$ t$h</simpara><simpara>* <literal>s$t$o$p$</literal> - S$t$o$p$ t$h$e</simpara><simpara>* <literal>p$r$o$m$o$t$e$</literal> - P$r$o$m$o$t$e$ t$h$e$ r$e$s$o$u$r$c$e$ f$r$o$m$ a$ s$l$a$</simpara><simpara>* <literal>d$e$m$o$t$e$</literal> - D$e$m$o$t$e$ t$h$e$ r$e$s$o$u$r$c$e$ f$r$o$m$ a$ m$a$s$t$</simpara><simpara>I$f$ n$o$ a$c$t$i$o$n$ i$s$ s$p$e$c$i$f$i$e$d$, t$h$e$ <literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>k$i$n$d$</literal> o$</simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ t$o$ e$n$f$o$r$c$e$ t$hT$h$e$ p$o$s$s$i$b$l$e$ v$a$l$u$e$s$ o$f$ t$h$e$ <literal>k$i$n</literal></simpara><simpara>* <literal>O$p$t$i$o$n$a$l$</literal> - O$n$l$y$ a$p$p$l$i$e$s$ i$f$ b$o$t$h$ r$e$s$o$u$r$c$e$s$ aF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ o$p$t$i$o$n$a$l$ o$r$d$e$r$i$n$g$, s$<link linkend="proc_configuring-advisory-ordering.adoc-determining-resource-order"></link></simpara><simpara>* <literal>M$a$n$d$a$t$o$r$y$</literal> - A$l$w$a$y$s$ e$n$f$o$r$c$e$ t$h$e$ c$I$f$ t$h$e$ f$i$r$s$t$ r$e$s$o$u$r$c$e$ y$o$u$ s$p$e$c$i$f$i$e$d$ i$s$ s$t$o$p$p$i$n$g$ o$r$ c$a$n$n$o$t$ b$e$ s$t$a$r$tF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ m$a$n$d$a$t$o$r$y$ o$r$d$e$r$i$n$g$, s$<link linkend="proc_configuring-mandatory-ordering.adoc-determining-resource-order"></link></simpara><simpara>* <literal>S$e$r$i$a$l$i$z$e$</literal> - E$n$s$u$r$e$ t$h$a$t$ n$o$ t$w$o$ s$t$o$p$/s$t$a$r$t$ a$c$t$i$o$n$s$ o$c$c$u$rT$h$e$ f$i$r$s$t$ a$n$d$ s$e$c$o$n$d$ r$e$s$o$u$r$c$e$ y$o$u$ s$p$e$c$i$f$y$ c$a$n$ s$t$a$r$t$ i$n$ e$i$t$h$e$r$ o$r$d$e$r$, b$u$t$ A$ t$y$p$i$c$a$l$ u$s$e$ c$a$s$e$ i$s$ w$h$e$n$ r$e$s$o$u$r$c$e$ s$t$a$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$y$m$m$e$t$r$i$c$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ t$r$u$e$, t$h$e$ r$e$v$e$r$s$e$ o$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ a$p$p$l$i$e$s$ f$o$r$ t$h$e$ o$p$p$o$s$i$t$e$ a$c$t$i$o$n$ (f$o$r$ e$x$aO$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ f$o$r$ w$h$i$c$h$ <literal>k$i$n$d$</literal> i$s$<literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ i$s$ <literal>t$r$u$e$</literal> f$o$r$ <literal>M$a$n$d$a$t$o$r$y$</literal> a$n$d$ <literal></literal><literal></literal><literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$m$o$v$e$ r$e$s$o$u</simpara>
<literallayout class="monospaced">pcs constraint order remove <emphasis>resource1</emphasis> [<emphasis>resourceN</emphasis>]...</literallayout>
<section xml:id="proc_configuring-mandatory-ordering.adoc-determining-resource-order">
<title>C$o$n$f$i$g$u$r$i$n$g$ m$a$n$d</title>
<simpara>A$ m$a$n$d$a$t$o$r$y$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ s$e$c$o$n$d$ a$c$t$i$o$n$ s$h$o$u$l$d$ n$o$t$ b$e$ i$n$i$t$i$a$t$e$d$ f$o$r$ t$h$e$ s$e$c$o$n$d$ rA$c$t$i$o$n$s$ t$h$a$t$ m$a$y$ b$e$ o$r$d$e$r$e$d$ a$r$e$ <literal>s$t$o$p$</literal>, <literal>s$t$a$r$t$</literal>, a$n$d$ a$d$d$i$t$i$o$n$a<literal></literal><literal></literal>F$o$r$ e$x$a$m$p$l$e$, "A$ t$h$e$n$ B$" (w$h$i$c$h$ i$s$ e$q$u$i$v$a$l$e$n$t$ t$o$ "s$t$a$r$t$ A$ t$h$e$n$ s$t$a$r$t$ B$") m$e$a$n$s$ t$h$a$t$ BA$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ i$s$ m$a$n$d$a$t$o$r$y$ i$f$ t$h$e$ <literal>k$i$n$d$</literal> o$p$t$i$o$n$ f$o$r$ t$h$e<literal></literal></simpara>
<simpara>I$f$ t$h$e$ <literal>s$y$m$m$e$t$r$i$c$a$l$</literal> o$p$t$i$o$n$ i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> o$r$ l$e$f$t$ t$o$ d$e$f$a$u$l$t$, T$h$e$ <literal>s$t$a$r$t$</literal> a$n$d$ <literal>s$t$o$p$</literal> a$c$t$i$o$n$s$ a$r$e$ o$p$p$o$s$i$t$e$s$, a$n<literal></literal><literal></literal>F$o$r$ e$x$a$m$p$l$e$, a$ s$y$m$m$e$t$r$i$c$a$l$ "p$r$o$m$o$t$e$ A$ t$h$e$n$ s$t$a$r$t$ B$" o$r$d$e$r$i$n$g$ i$m$p$l$i$e$s$ "s$t$o$p$ B$ t$h$e$n$ d$e$m$o$t$e$ A$", w$h$A$ s$y$m$m$e$t$r$i$c$a$l$ o$r$d$e$r$i$n$g$ m$e$a$n$s$ t$h$a$t$ c$h$a$n$g$e$s$ i$n$ A$’s$ s$t$a$t$e$ c$a$n$ c$a$u$s$e$ a$c$t$i$o$n$s$ t$o$ b$e$ s$c$h$e$d$u$l$e$d$ f$o$r$ B$. F$o$r$ e$x$a$m$p$l$e$, g$i$v$e$n$ "A$ t$h$e$n$ B$", i$f$ A$ r$e$s$t$a$r$t$s$ d$u</simpara>
<simpara>N$o$t$e$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ r$e$a$c$t$I$f$ t$h$e$ f$i$r$s$t$ r$e$s$o$u$r$c$e$ i$s$ r$e$s$t$a$r$t$e$d$ a$n$d$ i$s$ i$n$ a$ s$t$a$r$t$e$d$ s$t$a$t$e$ a$g$a$i$n$ b$e$f$o$r$e$ t$h$e$ s$e$c$o$n$d$ r$e$s$o$u$r$c$e$ i</simpara>
</section>
<section xml:id="proc_configuring-advisory-ordering.adoc-determining-resource-order">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$d$v$</title>
<simpara>W$h$e$n$ t$h$e$ <literal>k$i$n$d$=O$p$t$i$o$n$a$l$</literal> o$p$t$i$o$n$ i$s$ s$p$e$c$i$f$i$e$d$ f$o$r$ a$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$, t$h$e$ c$o$n$s$t$r$a$i$n$t$ i$s$ c$o$n$s$i$d$e$r$eA$n$y$ c$h$a$n$g$e$ i$n$ s$t$a$t$e$ b$y$ t$h$e$ f$i$r$s$t$ r$e$s$o$u$r$c$e$ y$o$u$ s$p$e$c$i$f$y$ w$i$l$l$ h$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$d$v$i$s$o$r$y$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint order VirtualIP then dummy_resource kind=Optional</literal></literallayout>
</section>
<section xml:id="proc_configuring-ordered-resource-sets.adocdetermining-resource-order">
<title>C$o$n$f$i$g$u$r$i$n$g$ o$r$d$e$r$</title>
<simpara>A$ c$o$m$m$o$n$ s$i$t$u$a$t$i$o$n$ i$s$ f$o$r$ a$n$ a$d$m$i$n$i$s$t$r$a$t$o$r$ t$o$ c$r$e$a$t$e$ a$ c$h$a$i$n$ o$f$ o$r$d$e$r$e$d$ r$e$s$o$u$r$c$e$s$, w$h$e$r$e$, f$o$r$ e$x$a$m$p$l$e$, r$e$s$o$u$r$c$e$ A$ s$t$a$r$t$s$ b$e$f$o$r$e$ r$e$s$o$u$r$c$e$ B$ w$h$i$c$h$ s$t$a$r$t$s$ b$e$f$o$r$e$ r$e$s$o$u$r$c$e$ C$. I$f$ y$o$u$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$r<link linkend="assembly_resource-groups-configuring-cluster-resources"></link></simpara>
<simpara>T$h$e$r$e$ a$r$e$ s$o$m$e$ s$i$t$u$a$t$i$o$n$s$, h$o$w$e$v$e$r$, w$h$e$r$e$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ n$e$e$d$ t$o$</simpara>
<itemizedlist>
<listitem>
<simpara>Y$o$u$ m$a$y$ n$e$e$d$ t$o$ c$o$n$f$i$g$u$r$e$ r$e$s$o$u$r$c$e$s$ t$o$ s$t$a$r$t$ i$n$ o$r$d$e$r$ a$n$</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ m$a$y$ h$a$v$e$ a$ r$e$s$o$u$r$c$e$ C$ t$h$a$t$ m$u$s$t$ s$t$a$r$t$ a$f$t$e$r$ e$i$t$h$e$r$ r$e$s$o$u$r$c$e$ A$ o$r$ B$ h</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ m$a$y$ h$a$v$e$ r$e$s$o$u$r$c$e$s$ C$ a$n$d$ D$ t$h$a$t$ m$u$s$t$ s$t$a$r$t$ a$f$t$e$r$ b$o$t$h$ r$e$s$o$u$r$c$e$s$ A$ a$n$d$ B$ h$a$v$e$ s$t$a$r$t</simpara>
</listitem>
</itemizedlist>
<simpara>I$n$ t$h$e$s$e$ s$i$t$u$a$t$i$o$n$s$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ o$n$ a$ s$e$t$ o$r$ s$e<literal role="command"></literal></simpara>
<simpara>Y$o$u$ c$a$n$ s$e$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ o$p$t$i$o$n$s$ f$o$r$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e<literal role="command"></literal></simpara>
<itemizedlist>
<listitem>
<simpara><literal>s$e$q$u$e$n$t$i$a$l$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> o$r$ <literal>f$a$l$s$e$</literal> t$o$ i$n$d$i$c$a$t$e$ w$h$e$t$h$e$r$ t$h$e$ T$h$e$ d$e$f$a$u$l$t$ v$a$<literal></literal></simpara>
<simpara>S$e$t$t$i$n$g$ <literal>s$e$q$u$e$n$t$i$a$l$</literal> t$o$ <literal>f$a$l$s$e$</literal> a$l$l$o$w$s$ a$ s$e$t$ t$o$ b$e$ o$r$d$e$r$e$d$ r$e$l$a$t$i$v$e$ t$o$ o$t$h$e$r$ s$e$t$s$ i$n$ t$h$e$ o$r$d$e$rT$h$e$r$e$f$o$r$e$, t$h$i$s$ o$p$t$i$o$n$ m$a$k$e$s$ s$e$n$s$e$ o$n$l$y$ i$f$ m$u$l$t$i$p$l$e$ s$e$t$s$ a$r$e$ l$i$s$t$e$d$ i$n</simpara>
</listitem>
<listitem>
<simpara><literal>r$e$q$u$i$r$e$-a$l$l$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> o$r$ <literal>f$a$l$s$e$</literal> t$o$ i$n$d$i$c$a$t$e$ w$h$e$t$h$e$r$ a$l$l$ o$f$ S$e$t$t$i$n$g$ <literal>r$e$q$u$i$r$e$-a$l$l$</literal> t$o$ <literal>f$a$l$s$e$</literal> m$e$a$n$s$ t$h$a$t$ o$n$l$y$ o$n$e$ r$e$s$o$u$r$c$e$ i$n$ t$h$e$ s$e$t$ nS$e$t$t$i$n$g$ <literal>r$e$q$u$i$r$e$-a$l$l$</literal> t$o$ <literal>f$a$l$s$e$</literal> h$a$s$ n$o$ e$f$f$e$c$t$ u$n$l$e$s$s$ u$s$e$d$ i$n$ c$o$n$j$u$n$c$t$i$o$n$ w$i$t$h$ u$n$o$<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$<literal></literal></simpara>
</listitem>
<listitem>
<simpara><literal>a$c$t$i$o$n$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>s$t$a$r$t$</literal>, <literal>p$r$o$m$o$t$e$</literal>, <literal>d$e$m$o$t$e$</literal> o$r$ <literal>s$t$o$p$</literal>, a$s$ <link linkend="tb-orderconstraint-options-HAAR"></link></simpara>
</listitem>
<listitem>
<simpara><literal>r$o$l$e$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>S$t$o$p$p$e$d$</literal>, <literal></literal><literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>Y$o$u$ c$a$n$ s$e$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$n$s$t$r$a$i$n$t$ o$p$t$i$o$n$s$ f$o$r$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ f$o$l$l$o$w$i$n$g$ <literal></literal><literal role="command"></literal></simpara>
<itemizedlist>
<listitem>
<simpara><literal>i$d$</literal>, t$o$ p$r$o$v$i$d$e$ a$ n$a$m$e$ f$o$r$ t$h$e$ c$o$n$</simpara>
</listitem>
<listitem>
<simpara><literal>k$i$n$d$</literal>, w$h$i$c$h$ i$n$d$i$c$a$t$e$s$ h$o$w$ t$o$ e$n$f$o$r$c$e$ t$h$e$ c$o$n$s$t$r$a$i$n$t$, a$s$ d$<link linkend="tb-orderconstraint-options-HAAR"></link></simpara>
</listitem>
<listitem>
<simpara><literal>s$y$m$m$e$t$r$i$c$a$l$</literal>, t$o$ s$e$t$ w$h$e$t$h$e$r$ t$h$e$ r$e$v$e$r$s$e$ o$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ a$p$p$l$i$e$s$ f$o$r$ t$h$e$ o$p$p$<link linkend="tb-orderconstraint-options-HAAR"></link></simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced">pcs constraint order set <emphasis>resource1 resource2</emphasis> [<emphasis>resourceN</emphasis>]... [<emphasis>options</emphasis>] [set <emphasis>resourceX</emphasis> <emphasis>resourceY</emphasis> ... [<emphasis>options</emphasis>]] [setoptions [<emphasis>constraint_options</emphasis>]]</literallayout>
<simpara>I$f$ y$o$u$ h$a$v$e$ t$h$r$e$e$ r$e$s$o$u$r$c$e$s$ n$a$m$e$d$ <literal>D$1</literal>, <literal>D$2</literal>, a$n$d$ <literal>D$3</literal>, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m</simpara>
<literallayout class="monospaced"># <literal>pcs constraint order set D1 D2 D3</literal></literallayout>
<simpara>I$f$ y$o$u$ h$a$v$e$ s$i$x$ r$e$s$o$u$r$c$e$s$ n$a$m$e$d$ <literal>A$</literal>, <literal>B$</literal>, <literal>C$</literal>, <literal>D$</literal>, <literal>E$</literal>, a$n$d$ <literal>F$</literal>, t$h$i$s$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$n$ o$r$d$e$r$i$n$</simpara>
<itemizedlist>
<listitem>
<simpara><literal>A$</literal> a$n$d$ <literal>B$</literal> s$t$a$r$t$ i$n$d$e$p$e$n$d$e</simpara>
</listitem>
<listitem>
<simpara><literal>C$</literal> s$t$a$r$t$s$ o$n$c$e$ e$i$t$h$e$r$ <literal>A</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara><literal>D$</literal> s$t$a$r$t$s$ o$n$c$e$ <literal>C$</literal></simpara>
</listitem>
<listitem>
<simpara><literal>E$</literal> a$n$d$ <literal>F$</literal> s$t$a$r$t$ i$n$d$e$p$e$n$d$e$n$t$l$y$ o$f$ e$a$<literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>S$t$o$p$p$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ i$s$ n$o$t$ i$n$f$l$u$e$n$c$e$d$ b$y$ t$h$i$s$ c<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint order set A B sequential=false require-all=false set C D set E F sequential=false setoptions symmetrical=false</literal></literallayout>
</section>
<section xml:id="proc_configuring-nonpacemaker-dependencies.adoc-determining-resource-order">
<title>C$o$n$f$i$g$u$r$i$n$g$ s$t$a$r$t$u$p$ o$r$d$e$r$ f$o$r$ r$e$s$o$u$r$c$e$ d$e</title>
<simpara>I$t$ i$s$ p$o$s$s$i$b$l$e$ f$o$r$ a$ c$l$u$s$t$e$r$ t$o$ i$n$c$l$u$d$e$ r$e$s$o$u$r$c$e$s$ w$i$t$h$ d$e$p$e$n$d$e$nI$n$ t$h$i$s$ c$a$s$e$, y$o$u$ m$u$s$t$ e$n$s$u$r$e$ t$h$a$t$ t$h$o$s$e$ d$e$p$e$n$d$e$n$c$i$e$s$ a$r$e$ s$t$a$r$t$e$d$ b$e$f$o$r$e$ </simpara>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ y$o$u$r$ s$t$a$r$t$u$p$ o$r$d$e$r$ t$o$ a$c$c$o$u$n$t$ f$o$r$ t$h$i$s$ s$i$t$u$a$t$i$o<literal></literal><literal></literal>Y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ <literal>s$y$s$t$e$m$d$</literal> d$r$o$p$-i$n$ u$n$i$t$ f$o$r$ t$h$i$s$ t$a$r$g$e$t$ a$n$d$ P$a$c$e$m$a$k$e$r$ w</simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ a$ c$l$u$s$t$e$r$ i$n$c$l$u$d$e$s$ a$ r$e$s$o$u$r$c$e$ t$h$a$t$ d$e$p$e$n$d$s$ o$n$ t$h$e$ e$x$t$e$r$n$a$l$ s$e$r$v$i$c$e$ <literal>f$o$</literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ d$r$o$p$-i$n$ u$n$i$t$ <literal>/e$t$c$/s$y$s$t$e$m$d$/s$y$s$t$e$m$/r$e$s$o$u$r$c$e$-a$g$e$n$t$s$-d$</literal></simpara>
<literallayout class="monospaced">[Unit]
Requires=foo.service
After=foo.service</literallayout>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ d$a$e$m</literal></simpara>
</listitem>
</orderedlist>
<simpara>A$ c$l$u$s$t$e$r$ d$e$p$e$n$d$e$n$c$y$ s$p$e$c$i$f$i$e$d$ i$n$ t$h$i$s$ w$a$y$ c$F$o$r$ e$x$a$m$p$l$e$, y$o$u$ m$a$y$ h$a$v$e$ a$ d$e$p$e$n$d$e$n$c$y$ o$n$ m$o$u$n$t$i$n$g$ a$ f$i$l$e$ s$y$s$t$e$m$ a$t$ <literal>/s$r$v$</literal>,</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ <literal>/s$r$v$</literal> i$s$ l$i$s$t$e$d$ i$<literal></literal>T$h$i$s$ w$i$l$l$ b$e$ c$o$n$v$e$r$t$e$d$ a$u$t$o$m$a$t$i$c$a$l$l$y$ t$o$ t$h$e$ <literal>s$y$s$t$e$m$d$</literal> f$i$l$e$ <literal>s$r$v$.m$o$u$n$t$</literal> a$t$ b$o$F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$, s$e$e$ t$h$e$ <literal>s$y$s$t$e$m$d$.m$o$u$n$t$</literal>(5) a$n$d$ t$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$o$ m$a$k$e$ s$u$r$e$ t$h$a$t$ P$a$c$e$m$a$k$e$r$ s$t$a$r$t$s$ a$f$t$e$r$ t$h$e$ d$i$s$k$ i$s$ m$o$u$n$t$e$d$, c$r$e$a$t$e$ t$h$e$ d$r$o$p$-i$n$ u$n$i$t$ <literal>/e$t$c$/s$y$s$t$e$</literal></simpara>
<literallayout class="monospaced">[Unit]
Requires=srv.mount
After=srv.mount</literallayout>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ d$a$e$m</literal></simpara>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_colocating-cluster-resources.adoc_configuring-and-managing-high-availability-clusters">
<title>C$o$l$o$c$a$t$i$n$g$ c$l$u$s</title>
<simpara>T$o$ s$p$e$c$i$f$y$ t$h$a$t$ t$h$e$ l$o$c$a$t$i$o$n$ o$f$ o$n$e$ r$e$s$o$u$r$c$e$ d$e$p$e$n$d$s$ o$n$ t$h$e$ l$o$c$a$t$i$o$n$ o$</simpara>
<simpara>T$h$e$r$e$ i$s$ a$n$ i$m$p$o$r$t$a$n$t$ s$i$d$e$ e$f$f$e$c$t$ o$f$ c$r$e$a$t$i$n$g$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ b$e$t$w$e$e$n$ t$w$o$ r$e$sT$h$i$s$ i$s$ b$e$c$a$u$s$e$ y$o$u$ c$a$n$n$o$t$ p$l$a$c$e$ r$e$s$o$u$r$c$e$ A$ r$e$l$a$t$i$v$e$ t$o$ rS$o$ w$h$e$n$ y$o$u$ a$r$e$ c$r$e$a$t$i$n$g$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, i$t$ i$s$ i$m$p$o$r$t$a$n$t$ t$o$ c$o$n$s$i$d$e$r$ w$h$e$t$h$e$r$ y$o$u$</simpara>
<simpara>A$n$o$t$h$e$r$ t$h$i$n$g$ t$o$ k$e$e$p$ i$n$ m$i$n$d$ w$h$e$n$ c$r$e$a$t$i$n$g$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ i$s$ t$h$a$t$, a$s$s$u$m$i$n$g$ r$e$s$o$u$r$c$e$ A$ i$s$ c$o$l$o$c$a$t$e$d$ w$i$t$h$ r$e$s$o$u$r$c$e$ B$, t$h$e$ c$l$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s</simpara>
<literallayout class="monospaced">pcs constraint colocation add [master|slave] <emphasis>source_resource</emphasis> with [master|slave] <emphasis>target_resource</emphasis> [<emphasis>score</emphasis>] [<emphasis>options</emphasis>]</literallayout>
<simpara><xref linkend="tb-colocationconstraint-options-HAAR"/>, s$u$m$m$a$r$i$z$e$s$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ a$n$d$ o$p$t$i$o$n$s$ f$o$r$</simpara>
<table xml:id="tb-colocationconstraint-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$a$r$a$m$e$t$e$r$s$ o$f$ a$ C$o$l$o$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="40*"/>
<colspec colname="col_2" colwidth="60*"/>
<thead>
<row>
<entry align="left" valign="top">P$a$r$a$m</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>s$o$u$r$c$e$_r$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ c$o$l$o$c$a$t$iI$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ c$a$n$n$o$t$ b$e$ s$a$t$i$s$f$i$e$d$, t$h$e$ c$l$u$s$t$e$r$ m$a$y$ d$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>t$a$r$g$e$t$_r$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ c$o$l$o$c$a$t$iT$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ d$e$c$i$d$e$ w$h$e$r$e$ t$o$ p$u$t$ t$h$i$s$ r$e$s$o$u$r$c$e$ f$i$r$s$t$ a$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>s$c$o</simpara></entry>
<entry align="left" valign="top"><simpara>P$o$s$i$t$i$v$e$ v$a$l$u$e$s$ i$n$d$i$c$a$t$e$ t$h$e$ r$e$s$o$u$r$N$e$g$a$t$i$v$e$ v$a$l$u$e$s$ i$n$d$i$c$a$t$e$ t$h$e$ r$e$s$o$u$r$c$e$sA$ v$a$l$u$e$ o$f$ +<literal>I$N$F$I$N$I$T$Y$</literal>, t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$, i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ <emphasis>s$o$u$r$c$e$_r$e$s</emphasis><emphasis></emphasis>A$ v$a$l$u$e$ o$f$ -<literal>I$N$F$I$N$I$T$Y$</literal> i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ <emphasis>s$o$u$r$c$e$_r$e$s$o$u$r$c$e$</emphasis> m$u$s$t<emphasis></emphasis></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>i$n$f$l$u$e$n$c$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>(R$H$E$L$ 8.4 a$n$d$ l$a$t$e$r$) D$e$t$e$r$m$i$n$e$s$ w$h$e$t$h$e$r$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ m$o$v$e$ b$o$t$h$ t$h$e$ p$r$i$m$a$r$y$ r$e$s$o$u$r$c$e$ (<emphasis>s$o$u$r$c$e$_r$e$s$o$u$r$c$e$</emphasis>) a$n$d$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c$e$s$ (<emphasis>t$a$r$g$e$t$_r$e$s$o$u$r$c$e$)</emphasis> t$o$ a$n$o$t$h$e$r$ n$o$d$e$ w$h$e$n$ t$h$e$ d$e$p$e$n$d$e$n$t$ r$e$s</simpara><simpara>T$h$e$ <literal>i$n$f$l$u$e$n$c$e$</literal> c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ o$p$t$i$o<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ t$h$i$s$ o$p$t$i$o$n$ i$s$ d$e$t$e$r$m$i$n$e$d$ b$y$ t$h$e$ v$a$l$u$e$ o$f$ t$h$e$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$<literal></literal><literal></literal></simpara><simpara>W$h$e$n$ t$h$i$s$ o$p$t$i$o$n$ h$a$s$ a$ v$a$l$u$e$ o$f$ <literal>t$r$u$e$</literal>, P$a$c$e$m$a$k$e$r$ w$i$l$l$ a$t$t$e$m$p$t$ t$o$ kI$f$ t$h$e$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c$e$ r$e$a$c$h$e$s$ i$t$s$ m$i$g$r$a$t$i$o$n$ t$h$r$e$s$h$o$l$d$ f$o$r$ f$a$i$l$u$</simpara><simpara>W$h$e$n$ t$h$i$s$ o$p$t$i$o$n$ h$a$s$ a$ v$a$l$u$e$ o$f$ <literal>f$a$l$s$e$</literal>, P$a$c$e$m$a$k$e$r$ w$i$l$l$ a$v$o$i$d$ m$o$v$i$n$g$ t$h$e$ p$r$i$m$a$r$I$n$ t$h$i$s$ c$a$s$e$, i$f$ t$h$e$ d$e$p$e$n$d$e$n$t$ r$e$s$o$u$r$c$e$ r$e$a$c$h$e$s$ i$t$s$ m$i$g$r$a$t$i$o$n$ t$h$r$e$s$h$o$l$d$ f$o$r$ f$a$i$l$u$r$e$s$, i$t$ w$i$l$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<section xml:id="proc_specifying-mandatory-placement.adoc-colocating-cluster-resources">
<title>S$p$e$c$i$f$y$i$n$g$ m$a$n$d$a$t$o$r$y$ p$l</title>
<simpara>M$a$n$d$a$t$o$r$y$ p$l$a$c$e$m$e$n$t$ o$c$c$u$r$s$ a$n$y$ t$i$m$e$ t$h$e$ c$o$n$s$t$r<literal></literal><literal></literal>I$n$ s$u$c$h$ c$a$s$e$s$, i$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ c$a$n$n$o$t$ b$e$ s$a$t$i$s$f$i$e$d$, t$h$e$<emphasis></emphasis>F$o$r$ <literal>s$c$o$r$e$=I$N$F$I$N$I$T$Y$</literal>, t$h$i$s$ i$n$c$l$u$d$e$s$ c$a$s$e$s$ w$h$e$r<emphasis></emphasis></simpara>
<simpara>I$f$ y$o$u$ n$e$e$d$ <literal>m$y$r$e$s$o$u$r$c$e$1</literal> t$o$ a$l$w$a$y$s$ r$u$n$ o$n$ t$h$e$ s$a$m$e$ m$a$c$h$i$n$e$ a$s$ <literal>m$y$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint colocation add myresource1 with myresource2 score=INFINITY</literal></literallayout>
<simpara>B$e$c$a$u$s$e$ <literal>I$N$F$I$N$I$T$Y$</literal> w$a$s$ u$s$e$d$, i$f$ <literal>m$y$r$e$s$o$u$r$c$e$2</literal> c$a$n$n$o$t$ r$u$n$ o$n$ a$n$y$ o$f$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ (<literal></literal></simpara>
<simpara>A$l$t$e$r$n$a$t$i$v$e$l$y$, y$o$u$ m$a$y$ w$a$n$t$ t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ o$p$p$o$s$i$t$e$, a$ c$l$u$s$t$e$r$ i$n$ w$h$i$c$h<literal></literal><literal></literal>I$n$ t$h$i$s$ c$a$s$e$ u$s$e$ <literal>s$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint colocation add myresource1 with myresource2 score=-INFINITY</literal></literallayout>
<simpara>A$g$a$i$n$, b$y$ s$p$e$c$i$f$y$i$n$g$ <literal>-I$N$F$I$N$I$T$Y$</literal>, tS$o$ i$f$ t$h$e$ o$n$l$y$ p$l$a$c$e$ l$e$f$t$ t$o$ r$u$n$ i$s$ w$h$e$r$e$ <literal>m$y$r$e$s$o$u$r$c$e$2</literal> a$l$r$e$<literal></literal></simpara>
</section>
<section xml:id="proc_specifying-advisory-placement.adoc-colocating-cluster-resources">
<title>S$p$e$c$i$f$y$i$n$g$ a$d$v$i$s$o$r$y$ p$l$</title>
<simpara>I$f$ m$a$n$d$a$t$o$r$y$ p$l$a$c$e$m$e$n$t$ i$s$ a$b$o$u$t$ "m$u$s$t$" a$n$d$ "m$u$s$t$ n$o$t$", t$h$e$n$ a$d$v$i$s$o$rF$o$r$ c$o$n$s$t$r$a$i$n$t$s$ w$i$t$h$ s$c$o$r$e$s$ g$r$e$a$t$e$r$ t$h$a$n$ <literal>-I$N$F$I$N$I$T$Y$</literal> a$n$d$ l$e$s$s$ t$h$a$n$ <literal>I$N$F$I$N$I$T$Y$</literal>, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ t$r$y$ t$o$ a$c$c$o$m$m$o$d$a$t$e$ </simpara>
</section>
<section xml:id="proc_colocating-resource-sets.adoc-colocating-cluster-resources">
<title>C$o$l$o$c$a$t$i$n$g$ s$e$t$s</title>
<simpara>I$f$ y$o$u$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$r$e$a$t$e$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ a$r$e$ c$o$l$o$c$a$t$e$d$ a$n$d$ s$t$a$r$t$e$d$ i$n$ o$r$d$e$r$, y$o$u$ c$a$n$ c$o$n$f$<link linkend="assembly_resource-groups-configuring-cluster-resources"></link>T$h$e$r$e$ a$r$e$ s$o$m$e$ s$i$t$u$a$t$i$o$n$s$, h$o$w$e$v$e$r$, w$h$e$r$e$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$ t$h$a$t$</simpara>
<itemizedlist>
<listitem>
<simpara>Y$o$u$ m$a$y$ n$e$e$d$ t$o$ c$o$l$o$c$a$t$e$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ b$u$t$ t$h$e$ r$e$s$o$u$r</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ m$a$y$ h$a$v$e$ a$ r$e$s$o$u$r$c$e$ C$ t$h$a$t$ m$u$s$t$ b$e$ c$o$l$o$c$a$t$e$d$ w$i$t$h$ e$i$t$h$e$r$ r$e$s$o$u$r$c</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ m$a$y$ h$a$v$e$ r$e$s$o$u$r$c$e$s$ C$ a$n$d$ D$ t$h$a$t$ m$u$s$t$ b$e$ c$o$l$o$c$a$t$e$d$ w$i$t$h$ b$o$t$h$ r$e$s$o$u$r$c$e$s$ A$ a$n$d$ B$,</simpara>
</listitem>
</itemizedlist>
<simpara>I$n$ t$h$e$s$e$ s$i$t$u$a$t$i$o$n$s$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ o$n$ a$ s$e$t$ o$r$ s$e$t$s<literal role="command"></literal></simpara>
<simpara>Y$o$u$ c$a$n$ s$e$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ o$p$t$i$o$n$s$ f$o$r$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ w<literal role="command"></literal></simpara>
<itemizedlist>
<listitem>
<simpara><literal>s$e$q$u$e$n$t$i$a$l$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> o$r$ <literal>f$a$l$s$e$</literal> t$o$ i$n$d$i$c$a$t$e$ w$h$e$t$h$e$r$ t$h$</simpara>
<simpara>S$e$t$t$i$n$g$ <literal>s$e$q$u$e$n$t$i$a$l$</literal> t$o$ <literal>f$a$l$s$e$</literal> a$l$l$o$w$s$ t$h$e$ m$e$m$b$e$r$s$ o$f$ t$h$i$s$ s$e$t$ t$o$ b$e$ c$o$l$o$c$a$t$e$d$ w$i$t$h$ a$n$o$t$h$e$r$ s$e$t$ l$i$s$tT$h$e$r$e$f$o$r$e$, t$h$i$s$ o$p$t$i$o$n$ m$a$k$e$s$ s$e$n$s$e$ o$n$l$y$ i$f$ a$n$o$t$h$e$r$ s$e$t$ i$s$ l$i$s$t$e$d$ a$f$t$e$r$ t$h$i$s$ o</simpara>
</listitem>
<listitem>
<simpara><literal>r$o$l$e$</literal>, w$h$i$c$h$ c$a$n$ b$e$ s$e$t$ t$o$ <literal>S$t$o$p$p$e$d$</literal>, <literal></literal><literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>Y$o$u$ c$a$n$ s$e$t$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$n$s$t$r$a$i$n$t$ o$p$t$i$o$n$ f$o$r$ a$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$s$ f$o$l$l$o$w$i$n$g$ t$h$e$<literal></literal><literal role="command"></literal></simpara>
<itemizedlist>
<listitem>
<simpara><literal>i$d$</literal>, t$o$ p$r$o$v$i$d$e$ a$ n$a$m$e$ f$o$r$ t$h$e$ c$o$n$</simpara>
</listitem>
<listitem>
<simpara><literal>s$c$o$r$e$</literal>, t$o$ i$n$d$i$c$a$t$e$ t$h$e$ d$e$g$r$e$e$ o$f$ p$r$eF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$i$s$ o$p$t$i$o$n$, s$e$e$<link linkend="tb-locationconstraint-options-HAAR-determining-which-node-a-resource-runs-on"></link></simpara>
</listitem>
</itemizedlist>
<simpara>W$h$e$n$ l$i$s$t$i$n$g$ m$e$m$b$e$r$s$ o$f$ a$ s$e$t$, e$a$c$h$ m$e$m$b$e$r$ i$F$o$r$ e$x$a$m$p$l$e$, "s$e$t$ A$ B$" m$e$a$n$s$ "B$ H$o$w$e$v$e$r$, w$h$e$n$ l$i$s$t$i$n$g$ m$u$l$t$i$p$l$e$ s$e$t$s$, e$a$c$h$ s$e$tF$o$r$ e$x$a$m$p$l$e$, "s$e$t$ C$ D$ s$e$q$u$e$n$t$i$a$l$=f$a$l$s$e$ s$e$t$ A$ B$" m$e$a$n$s$ "s$e$t$ C$ D$ (w$h$e$r$e$ C$ a$n$d$ D$ h$a$v$e$ n$o$ r$e$l$a$t$i$o$n$ b$e$t$w$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$</simpara>
<literallayout class="monospaced">pcs constraint colocation set <emphasis>resource1 resource2</emphasis> [<emphasis>resourceN</emphasis>]... [<emphasis>options</emphasis>] [set <emphasis>resourceX</emphasis> <emphasis>resourceY</emphasis> ... [<emphasis>options</emphasis>]] [setoptions [<emphasis>constraint_options</emphasis>]]</literallayout>
</section>
<section xml:id="removing_colocation_constraints" remap="_removing_colocation_constraints">
<title>R$e$m$o$v$i$n$g$ C$o$l$o$c$a$t$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$m$o$v$e$ c$o$l$o$c$a$t$<emphasis></emphasis></simpara>
<literallayout class="monospaced">pcs constraint colocation remove <emphasis>source_resource</emphasis> <emphasis>target_resource</emphasis></literallayout>
</section>
</chapter>
<chapter xml:id="assembly_displaying-resource-constraints.adoc-configuring-and-managing-high-availability-clusters">
<title>D$i$s$p$l$a$y$i$n$g$ r$e$s$o$u$</title>
<simpara>T$h$e$r$e$ a$r$e$ a$ s$e$v$e$r$a$l$ c$o$m$m$a$n$d$s$ y$o$u$ c$a$n$ u$s$e$ t$o$ d$i$s$p$l$a</simpara>
<section xml:id="proc_displaying-resource-constraints.adoc-displaying-resource-constraints">
<title>D$i$s$p$l$a$y$i$n$g$ a$l$l$ c$o$n$f$i</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ c$u$r$r$e$n$t$ l$o$c$a$t$I$f$ t$h$e$ <literal>--f$u$l$l$</literal> o$p$t$i$o$n$ i$s$ s$p$e$c$i$f$i$e$d$, s$h$o$w</simpara>
<literallayout class="monospaced">pcs constraint [list|show] [--full]</literallayout>
<simpara>A$s$ o$f$ R$H$E$L$ 8.2, l$i$s$t$i$n$g$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$i$n$t$s$ n$o$ l$o$n$g$e$rT$o$ i$n$c$l$u$d$e$ e$x$p$i$r$e$d$ c$o$n$s$t$a$i$n$t$s$, u$s$e$ t$h$e$ <literal>--a$l$l$</literal> o$<literal></literal>T$h$i$s$ w$i$l$l$ l$i$s$t$ e$x$p$i$r$e$d$ c$o$n$s$t$r$a$i$n$t$s$, n$o$t$i$n$g$ t$h$e$ c$o$n$s$t$r$a$i$n$t$s$ a$n$d<literal></literal></simpara>
</section>
<section xml:id="displaying_location_constraints" remap="_displaying_location_constraints">
<title>D$i$s$p$l$a$y$i$n$g$ l$o$c$a$t$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ c$</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ <literal>r$e$s$o$u$r$c$e$s$</literal> i$s$ s$p$e$c$i$f$i$e$d$, l$o$c$a$t$i$o$n$ c$o$n$s$tT$h$i$s$ i$s$ t$h$e$ d$e$f$a$</simpara>
</listitem>
<listitem>
<simpara>I$f$ <literal>n$o$d$e$s$</literal> i$s$ s$p$e$c$i$f$i$e$d$, l$o$c$a$t$i$o$n$ c$o$n$s$t</simpara>
</listitem>
<listitem>
<simpara>I$f$ s$p$e$c$i$f$i$c$ r$e$s$o$u$r$c$e$s$ o$r$ n$o$d$e$s$ a$r$e$ s$p$e$c$i$f$i$e$d$, t$h$e$n$ o$n$l$y$ i$n$f$o$r$</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced">pcs constraint location [show [resources [<emphasis>resource</emphasis>...]] | [nodes [<emphasis>node</emphasis>...]]] [--full]</literallayout>
</section>
<section xml:id="displaying_ordering_constraints" remap="_displaying_ordering_constraints">
<title>D$i$s$p$l$a$y$i$n$g$ o$r$d$e$r$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ c$</simpara>
<literallayout class="monospaced">pcs constraint order [show]</literallayout>
</section>
<section xml:id="displaying_colocation_constraints" remap="_displaying_colocation_constraints">
<title>D$i$s$p$l$a$y$i$n$g$ c$o$l$o$c$a$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ a$l$l$ c$u$</simpara>
<literallayout class="monospaced">pcs constraint colocation [show]</literallayout>
</section>
<section xml:id="displaying_resource_specific_constraints" remap="_displaying_resource_specific_constraints">
<title>D$i$s$p$l$a$y$i$n$g$ r$e$s$o$u$r$c$e$-s$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ l$i$s$t$s$ t$h$e$ c$o$n$s$t$r$a$i$n$t</simpara>
<literallayout class="monospaced">pcs constraint ref <emphasis>resource</emphasis> ...</literallayout>
</section>
<section xml:id="displaying_resource_dependencies_red_hat_enterprise_linux_8_2_and_later" remap="_displaying_resource_dependencies_red_hat_enterprise_linux_8_2_and_later">
<title>D$i$s$p$l$a$y$i$n$g$ r$e$s$o$u$r$c$e$ d$e$p$e$n$d$e$n$c$i$e$s$ (R$e$d$ H$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ r$e$l$a$t$i$o$n$s$ b$e$t$w</simpara>
<literallayout class="monospaced">pcs resource relations <emphasis>resource</emphasis> [--full]</literallayout>
<simpara>I$f$ t$h$e$ <literal>--f$u$l$l$</literal> o$p$t$i$o$n$ i$s$ u$s$e$d$, t$h$e$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ a$d$d$i$t$i$o$n$a$l$ i$n$f$o$r$m$a$t$</simpara>
<simpara>I$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$, t$h$e$r$e$ a$r$e$ 3 c$o$n</simpara>
<literallayout class="monospaced"># <literal>pcs constraint order start C then start D</literal>
Adding C D (kind: Mandatory) (Options: first-action=start then-action=start)
# <literal>pcs constraint order start D then start E</literal>
Adding D E (kind: Mandatory) (Options: first-action=start then-action=start)

# <literal>pcs resource relations C</literal>
C
`- order
   |  start C then start D
   `- D
      `- order
         |  start D then start E
         `- E
# <literal>pcs resource relations D</literal>
D
|- order
|  |  start C then start D
|  `- C
`- order
   |  start D then start E
   `- E
# pcs <literal>resource relations E</literal>
E
`- order
   |  start D then start E
   `- D
      `- order
         |  start C then start D
         `- C</literallayout>
<simpara>I$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$, t$h$e$r$e$ a$r$e$ 2 c$o$n$f$i$g$u$r$e$d$ r$e$s$o$u$r$c$e$s$: A$ a$n$d</simpara>
<literallayout class="monospaced"># <literal>pcs resource relations A</literal>
A
`- outer resource
   `- G
      `- inner resource(s)
         |  members: A B
         `- B
# <literal>pcs resource relations B</literal>
B
`- outer resource
   `- G
      `- inner resource(s)
         |  members: A B
         `- A
# <literal>pcs resource relations G</literal>
G
`- inner resource(s)
   |  members: A B
   |- A
   `- B</literallayout>
</section>
</chapter>
<chapter xml:id="assembly_determining-resource-location-with-rules-configuring-and-managing-high-availability-clusters">
<title>D$e$t$e$r$m$i$n$i$n$g$ r$e$s$o$u$r$c$e$ </title>
<simpara>F$o$r$ m$o$r$e$ c$o$m$p$l$i$c$a$t$e$d$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, y$o$u$ c$a$n$ u$s$e$ P$a$c</simpara>
<section xml:id="ref_pacemaker-rules.adoc-determining-resource-location-with-rules">
<title>P$a$c$e$m$a$k$e</title>
<simpara>R$u$l$e$s$ c$a$n$ b$e$ u$s$e$d$ t$o$ m$a$k$e$ y$o$u$r$ c$oO$n$e$ u$s$e$ o$f$ r$u$l$e$s$ m$i$g$h$t$ b$e$ t$o$ a$s$s$i$g$n$ m$a$c$h$i$n$e$s$ t$o$ d$i$f$f$e$r$e$n$t$ p$r$o$c$e$s$s$i$n$g$ g$r$o$u$p$s$ (u$s$i$n$g$ a$ n$o$d$e$ a$t$t$r$i$b$u$t$e$</simpara>
<simpara>E$a$c$h$ r$u$l$e$ c$a$n$ c$o$n$t$a$i$n$ a$ n$u$m$b$e$r$ o$f$ e$x$p$r$e$s$s$i$o$n$s$, T$h$e$ r$e$s$u$l$t$s$ o$f$ t$h$e$ e$x$p$r$e$s$s$i$o$n$s$ a$r$e$ c$o$m$b$i$n$e$d$ b$a$s$e$d$ o$n$ t$h$e$ r$u$l$e$’s$ <literal>b$o$o$l$e$a$n$-o$p$</literal> f$i$e$l$<literal></literal><literal></literal>W$h$a$t$ h$a$p$p$e$n$s$ n$e$x$t$ d$e$p$e$n$d$s$ o$n$ t$h$e$ c$o$n$t$e$x$t</simpara>
<table xml:id="tb-rule-props-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>r$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>L$i$m$i$t$s$ t$h$e$ r$u$l$e$ t$o$ a$p$p$l$y$ o$n$l$y$ w$h$e$n$ tA$l$l$o$w$e$d$ v$a$l$u$e$s$: <literal>S$t$a$r$t$e$d$</literal><literal></literal><literal></literal>N$O$T$E$: A$ r$u$l$e$ w$i$t$h$ <literal>r$o$l$e$="M$a$s$t$e$r$"</literal> c$a$n$n$o$t$ d$e$t$e$r$m$i$n$e$ t$hI$t$ w$i$l$l$ o$n$l$y$ a$f$f$e$c$t$ w$h$i$c$h$ o$f$ t$h$e$ a$c$t$i$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$c$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ s$c$o$r$e$ t$o$ a$p$p$l$y$ i$f$ t$h$e$ r$u<literal></literal>L$i$m$i$t$e$d$ t$o$ u$s$e$ i$n$ r$u$l$e$s$ t$h$a$t$ a$r$e$ p$a</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$c$o$r$e$-a$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$ t$o$ l$o$o$k$ u$p$ a$n$d$ u$s$e$ a$s$ a$ s$c<literal></literal>L$i$m$i$t$e$d$ t$o$ u$s$e$ i$n$ r$u$l$e$s$ t$h$a$t$ a$r$e$ p$a</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>b$o$o$l$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ t$o$ c$o$m$b$i$n$e$ t$h$e$ r$e$s$u$l$t$ o$f$ m$u$lA$l$l$o$w$e$d$ v$a$l$u$e$s$<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a<literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<section xml:id="node_attribute_expressions" remap="_node_attribute_expressions">
<title>N$o$d$e$ a$t$t$r$i$b$u$t$e</title>
<simpara>N$o$d$e$ a$t$t$r$i$b$u$t$e$ e$x$p$r$e$s$s$i$o$n$s$ a$r$e$ u$s$e$d$ t$o$ c$o$n$t$r$o$l$ a$ r$e$s$o$u$r$c$e$ b$</simpara>
<table xml:id="tb-expressions-props-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ a</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>a$t$t$r$i</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$o$d$e$ a$t$t$r$i$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>t$y$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$e$t$e$r$m$i$n$e$s$ h$o$w$ t$h$e$ v$a$l$u$e$A$l$l$o$w$e$d$ v$a$l$u$e$s$: <literal>s$t$r$i$n$g$</literal>, <literal>i$n$t$e$g$e$r$</literal>, <literal>n$u$m$b$e$</literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>o$p$e$r$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ c$o$m$p$a$r$i$s$o$nA$l$l$o$w$e$d$ </simpara><simpara>* <literal>l$t$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s$<literal></literal></simpara><simpara>* <literal>g$t$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s$ v$<literal></literal></simpara><simpara>* <literal>l$t$e$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s$ v$a$l$u$e$<literal></literal></simpara><simpara>* <literal>g$t$e$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s$ v$a$l$u$e$ i$<literal></literal></simpara><simpara>* <literal>e$q$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s<literal></literal></simpara><simpara>* <literal>n$e$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ a$t$t$r$i$b$u$t$e$’s$ v$<literal></literal></simpara><simpara>* <literal>d$e$f$i$n$e$d$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ h$a</simpara><simpara>* <literal>n$o$t$_d$e$f$i$n$e$d$</literal> - T$r$u$e$ i$f$ t$h$e$ n$o$d$e$ d$o$e$s$ n</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>v$a$l</literal></simpara></entry>
<entry align="left" valign="top"><simpara>U$s$e$r$ s$u$p$p$l$i$e$d$ v$a$l$u$e$ f$o$r$ c$o$m$p$a$r$i$s$o$n$ (r$e$q$u$i$r$e$d$ u$n$l<literal></literal><literal></literal><literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ a$n$y$ a$t$t$r$i$b$u$t$e$s$ a$d$d$e$d$ b$y$ t$h$e$ a$d$m$i$n$i$s$t$r$a$t$o$r$, t$h$e$ c$l$u$s$t$e$r$ d$e$f$i$n$e$s$ s$p$e$c$i$a$l$, b$u$i$l<xref linkend="tb-nodeattributes-HAAR"/></simpara>
<table xml:id="tb-nodeattributes-HAAR" frame="all" rowsep="1" colsep="1">
<title>B$u$i$l$t$-i$n$ N$o$d$e$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">N$a$</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>#u$n$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>N$o$d$e$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>N$o$d$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#k$i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>N$o$d$e$ tP$o$s$s$i$b$l$e$ v$a$l$u$e$s$ a$r$e$ <literal>c$l$u$s$t$e$r$</literal><literal></literal><literal></literal>T$h$e$ v$a$l$u$e$ o$f$ <literal>k$i$n$d$</literal> i$s$ <literal>r$e$m$o$t$e$</literal> f$o$r$ P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ n$o$d$e$s$ c$r$e$a$t$e$d$ w$i$t$h$ t$h$e$ <literal>o$c$f$:p$a$c$e$m$a$k$e$r$:r$e$m$o$t$</literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#i$s$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>t$r$u$e$</literal> i$f$ t$h$i$s$ n$o$d$e$ i$s$ a$ D$e$s$i$g$n$a$t$e$d$ C$o$n<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#c$l$u$s$t$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ v$a$l$u$e$ o$f$ t$h$e$ <literal>c$l$u$s$t$e$r$-n$a$m$e$</literal> </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#s$i$t$e$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ v$a$l$u$e$ o$f$ t$h$e$ <literal>s$i$t$e$-n$a$m$e$</literal> n$o$d$e$ a$t$t$r$i$b$u$t$e$, i$f$ s$e$t<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>#r$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ r$o$l$e$ t$h$e$ r$e$l$e$v$a$n$t$ p$r$o$m$o$t$a$b$V$a$l$i$d$ o$n$l$y$ w$i$t$h$i$n$ a$ r$u$l$e$ f$o$r$ a$ l$o$c$a$t$i$o$n$ c$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="time_date_based_expressions" remap="_time_date_based_expressions">
<title>T$i$m$e$/d$a$t$e$ b$a$s$e$d</title>
<simpara>D$a$t$e$ e$x$p$r$e$s$s$i$o$n$s$ a$r$e$ u$s$e$d$ t$o$ c$o$n$t$r$o$l$ a$ r$e$s$o$u$r$c$e$ o$r$ c$l$T$h$e$y$ c$a$n$ c$o$n$t$a$i$n$ a$n$ o$p$t$i$o$n$</simpara>
<table xml:id="tb-dateexpress-props-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ a$ D$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ d$a$t$e$/t$i$m$e$ c$o$n$f$o$r$m$i$n$g$ t$o$ t$h$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>e$n</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ d$a$t$e$/t$i$m$e$ c$o$n$f$o$r$m$i$n$g$ t$o$ t$h$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>o$p$e$r$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>C$o$m$p$a$r$e$s$ t$h$e$ c$u$r$r$e$n$t$ d$a$t$e$/t$i$m$e$ w$i$t$h$ t$h$e$ s$t$a$r$t$ o$r$ t$h$e$ e$n$d$ d$a$t$e$ o$r$ b$A$l$l$o$w$e$d$ </simpara><simpara>* <literal>g$t$</literal> - T$r$u$e$ i$f$ t$h$e$ c$u$r$r$e$n$t$ d$a$t$<literal></literal></simpara><simpara>* <literal>l$t$</literal> - T$r$u$e$ i$f$ t$h$e$ c$u$r$r$e$n$t$ d$a$t<literal></literal></simpara><simpara>* <literal>i$n$_r$a$n$g$e$</literal> - T$r$u$e$ i$f$ t$h$e$ c$u$r$r$e$n$t$ d$a$t$e$/t$i$m$e<literal></literal><literal></literal></simpara><simpara>* <literal>d$a$t$e$-s$p$e$c$</literal> - p$e$r$f$o$r$m$s$ a$ c$r$o$n$-l$i$k$e$ c$o$m$p$a$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="date_specifications" remap="_date_specifications">
<title>D$a$t$e$ s$p$e$c$i$</title>
<simpara>D$a$t$e$ s$p$e$c$i$f$i$c$a$t$i$o$n$s$ a$r$e$ u$s$e$d$ t$o$ c$r$e$a$t$e$ c$r$o$E$a$c$h$ f$i$e$l$d$ c$a$n$ c$o$n$t$a$i$n$ a$ s$i$n$g$l$e$I$n$s$t$e$a$d$ o$f$ d$e$f$a$u$l$t$i$n$g$ t$o$ z$e$r$o$, a$n$y$ f$</simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, <literal>m$o$n$t$h$d$a$y$s$="1"</literal> m$a$t$c$h$e$s$ t$h$e$ f$i$r$s$t$ d$a$y$ o$f$ e$v$e$r$y$ m$o$n$t$h$ a$n$d$ <literal>h$o$u$r$s$="09</literal>H$o$w$e$v$e$r$, y$o$u$ c$a$n$n$o$t$ s$p$e$c$i$f$y$ <literal>w$e$e$k$d$a$y$s$="1,2"</literal> o$r$ <literal>w$e$e$k$d$a$y$s$="1-2</literal></simpara>
<table xml:id="tb-datespecs-props-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ a$ D$a$t</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ u$n$i$q$u$e$ n$a$m$e$ f</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>h$o$u</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$o$n$t$h</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l$u$e$s$: 0-31 (d$e$p$e$n$d$i$n</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>w$e$e$k$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l$u$e$s$: 1-7 (1=M$o$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>y$e$a$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l$u$e$s$: 1-366 (d$e$p$e$n</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$o$n$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>w$e$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l$u$e$s$: 1-53 (d$e$p$e$n<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>y$e$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Y$e$a$r$ a$c$c$o$r$d$i$n$g$ t$h$e$ G$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>w$e$e$k$y</literal></simpara></entry>
<entry align="left" valign="top"><simpara>M$a$y$ d$i$f$f$e$r$ f$r$o$m$ G$r$e$g$o$r$i$a$n$ y$e$a$r$s$; f$o$r$ e$x$a$m$p$l$e$, <literal>2005-001 O$r$d$i$n$a$l$</literal> i$s$ a$l$s<literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$o$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$l$o$w$e$d$ v$a$l$u$e$s$: 0-7 (0 i$s$ n$e$w$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</section>
<section xml:id="ref_configuring-constraint-using-rules.adoc-determining-resource-location-with-rules">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ p$a$c$e$m$a$k$e$r$ l$o$c$a$t$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ c$o$n$f$i$g$u$r$e$ a$ P$aI$f$ <literal>s$c$o$r$e$</literal> i$s$ o$m$i$t$t$e$d$, i$t$ d$eI$f$ <literal>r$e$s$o$u$r$c$e$-d$i$s$c$o$v$e$r$y$</literal> i$s$ o$m$i$t$t$<literal></literal></simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-d$i$s$c$o$v$e$r$y$</literal> o$p$t$i$o$n$, s$e$e$ <link linkend="proc_limiting-resource-discovery-to-a-subset-of-nodes-determining-which-node-a-resource-runs-on">L$i$</link></simpara>
<simpara>A$s$ w$i$t$h$ b$a$s$i$c$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, y$o$u$ c$a$n$ u$s$e$ r$e$g$u$l$a$r$ e$x$p$r$e$s</simpara>
<simpara>W$h$e$n$ u$s$i$n$g$ r$u$l$e$s$ t$o$ c$o$n$f$i$g$u$r$e$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$, t$h$e$ v$a$l$u$e$ o$f$ <literal>s$c$o$r$e$</literal> c$a$n$ b$e$ p$o$s$i$t$i$v$e$ o$r$ n$e$g$a$t$i$v$e$, w$</simpara>
<literallayout class="monospaced">pcs constraint location <emphasis>rsc</emphasis> rule [resource-discovery=<emphasis>option</emphasis>] [role=master|slave] [score=<emphasis>score</emphasis> | score-attribute=<emphasis>attribute</emphasis>] <emphasis>expression</emphasis></literallayout>
<simpara>T$h$e$ <emphasis>e$x$p$r$e$s$s$i$o$n$</emphasis> o$p$t$i$o$n$ c$a$n$ b$e$ o$n$e$ o$f$ t$h$e$ f$o$l$l$o$w$i$n$g$ w$h$e$r$e$ <emphasis>d$u$r$a$t$i$o$n$_o$p$t$i$o$n$s$</emphasis> a$n$d$ <emphasis>d$a$t$e$_s$p$e$c$_o$p$t$i$o$n$s$</emphasis> a$r$e$: h$o$u$r$s$, m$o$n$t$h$d$a$y$s$, w$e$e$k$d$a$y$s$,<link linkend="tb-datespecs-props-HAAR"></link></simpara>
<itemizedlist>
<listitem>
<simpara><literal>d$e$f$i$n$e$d$|n$o$t$_d$e$f$i<emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal><emphasis>a$t$t$r$i$b$u$t$e$</emphasis> l$t$|g$t$|l$t$e$|g$t$e$|e$q$|n$e$ [s$t$r$i$n$g$|i$n$t$e$g$e$r$|n$u$m</literal><literal><emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal>d$a$t$e$ g$t$|l<emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal>d$a$t$e$ i$n$_r$a$n$g$e$ <emphasis>d</emphasis><emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal>d$a$t$e$ i$n$_r$a$n$g$e$ <emphasis>d$a$t$e$</emphasis> t$o$ d$u$r$a$t$<emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal>d$a$t$e$-s$p$e$c$ <emphasis>d$a$t$e$_</emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal><emphasis>e$x$p$r$e$s$s$i$o$n$</emphasis> a$n$d$|<emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara><literal>(<emphasis>e$x$p$r$e$s</emphasis></literal></simpara>
</listitem>
</itemizedlist>
<simpara>N$o$t$e$ t$h$a$t$ d$u$r$a$t$i$o$n$s$ a$r$e$ a$n$ a$l$t$e$r$n$a$t$i$v$e$ w$a$y$ t$o$ s$p$e$c$i$f$y$ a$n$ e$n$d$<literal></literal>F$o$r$ e$x$a$m$p$l$e$, y$o$u$ c$a$n$ s$p$e$c$i$f$y$ a</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ c$o$n$f$i$g$u$r$e$s$ a$n$ e$x$p$r$e$s$s$i$o$</simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver rule score=INFINITY date-spec years=2018</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$ e$x$p$r$e$s$s$i$o$n$ t$h$a$t$ i$s$N$o$t$e$ t$h$a$t$ t$h$e$ h$o$u$r$s$ v$a$l$u$e$ o$f$ 16 m$a$t$c$h$e$s$ u$p$ t$o$ 16:59:59, a$s$ t$h</simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver rule score=INFINITY date-spec hours="9-16" weekdays="1-5"</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$ e$x$p$r$e$s$s$i$o$n$ t$h$a$t$ i$s$ t$r$u$e$ </simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver rule date-spec weekdays=5 monthdays=13 moon=4</literal></literallayout>
<simpara>T$o$ r$e$m$o$v$e$ a$ r$u$l$e$, u$s$e$ t$h$e$I$f$ t$h$e$ r$u$l$e$ t$h$a$t$ y$o$u$ a$r$e$ r$e$m$o$v$i$n$g$ i$s$ t$h$e$ l$a$s$t$ r$u$l$e$ i$n$ i$t$s</simpara>
<literallayout class="monospaced">pcs constraint rule remove <emphasis>rule_id</emphasis></literallayout>
</section>
</chapter>
<chapter xml:id="assembly_managing-cluster-resources-configuring-and-managing-high-availability-clusters">
<title>M$a$n$a$g$i$n$g$ c$l$u$s$t</title>
<simpara>T$h$i$s$ s$e$c$t$i$o$n$ d$e$s$c$r$i$b$e$s$ v$a$r$i$o$u$s$ c$o$m$m$a$n$d$s$ y$o$u</simpara>
<section xml:id="proc_display-configured-resources-managing-cluster-resources">
<title>D$i$s$p$l$a$y$i$n$g$ c$o$n$f$i$</title>
<simpara>T$o$ d$i$s$p$l$a$y$ a$ l$i$s$t$ o$f$ a$l$l$ c$o$n$f$i$g$u$r$e$d$ r$e$s$o$</simpara>
<literallayout class="monospaced">pcs resource status</literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$r$ s$y$s$t$e$m$ i$s$ c$o$n$f$i$g$u$r$e$d$ w$i$t$h$ a$ r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>V$i$r$t$u$a$l$I$P$</literal> a$n$d$ a$ r$e$s$o$u$r$c$e$ <literal></literal><literal role="command"></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource status</literal>
 VirtualIP	(ocf::heartbeat:IPaddr2):	Started
 WebSite	(ocf::heartbeat:apache):	Started</literallayout>
<simpara>T$o$ d$i$s$p$l$a$y$ a$ l$i$s$t$ o$f$ a$l$l$ c$o$n$f$i$g$u$r$e$d$ r$e$s$o$u$r$c$e$s$ a$n$d$ t$h$e$ p$a$r$a$m$e$t$e$r$s$ c$o$n$f$i$g$u$r$e$d$ f$o$r$ t$h$o$s$e$ r$e$s$o$u$r$c$e$s$, u$s$e<literal></literal><literal role="command"></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource config</literal>
 Resource: VirtualIP (type=IPaddr2 class=ocf provider=heartbeat)
  Attributes: ip=192.168.0.120 cidr_netmask=24
  Operations: monitor interval=30s
 Resource: WebSite (type=apache class=ocf provider=heartbeat)
  Attributes: statusurl=http://localhost/server-status configfile=/etc/httpd/conf/httpd.conf
  Operations: monitor interval=1min</literallayout>
<simpara>T$o$ d$i$s$p$l$a$y$ t$h$e$ c$o$n$f$i$g$u$r$e$d$ p$a$r$a$m$e$t$e$r$s$ f$o$r$ a$ </simpara>
<literallayout class="monospaced">pcs resource config <emphasis>resource_id</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ c$u$r$r$e$n$t$l<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource config VirtualIP</literal>
 Resource: VirtualIP (type=IPaddr2 class=ocf provider=heartbeat)
  Attributes: ip=192.168.0.120 cidr_netmask=24
  Operations: monitor interval=30s</literallayout>
</section>
<section xml:id="proc_modify-resource-parameters-managing-cluster-resources">
<title>M$o$d$i$f$y$i$n$g$ r$e$s$o$u$</title>
<simpara>T$o$ m$o$d$i$f$y$ t$h$e$ p$a$r$a$m$e$t$e$r$s$ o$f$ a$ c$o$n$f$i$g$u$r$e$d$ r$</simpara>
<literallayout class="monospaced">pcs resource update <emphasis>resource_id</emphasis> [<emphasis>resource_options</emphasis>]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$e$q$u$e$n$c$e$ o$f$ c$o$m$m$a$n$d$s$ s$h$o$w$ t$h$e$ i$n$i$t$i$a$l$ v$a$l$u$e$s$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$e$d$ p$a$r$a$m$e$t$e$r$s$ f$o$r$ r$e$s$o$u$r$c$e$ <literal>V$i$r$t$u$a$l$I$P$</literal>, t$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource config VirtualIP</literal>
 Resource: VirtualIP (type=IPaddr2 class=ocf provider=heartbeat)
  Attributes: ip=192.168.0.120 cidr_netmask=24
  Operations: monitor interval=30s
# <literal>pcs resource update VirtualIP ip=192.169.0.120</literal>
# <literal>pcs resource config VirtualIP</literal>
 Resource: VirtualIP (type=IPaddr2 class=ocf provider=heartbeat)
  Attributes: ip=192.169.0.120 cidr_netmask=24
  Operations: monitor interval=30s</literallayout>
<note>
<simpara>W$h$e$n$ y$o$u$ u$p$d$a$t$e$ a$ r$e$s$o$u$r$c$e$’s$ o$p$e$r$a$t$i$o$n$ w$i$t$h$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ u$p$d$a$t$e$</literal> c$o$m$m$a$n$d$, a$n$y$ o$p$t$i$o</simpara>
</note>
</section>
<section xml:id="proc_cleanup-cluster-resources-managing-cluster-resources">
<title>C$l$e$a$r$i$n$g$ f$a$i$l$u$r$e$ s$t$a$t$u$s$</title>
<simpara>I$f$ a$ r$e$s$o$u$r$c$e$ h$a$s$ f$a$i$l$e$d$, a$ f$a$i$l$u$r$e$ m$e$s$s$a$g$e$ a$p$p$e$aI$f$ y$o$u$ r$e$s$o$l$v$e$ t$h$a$t$ r$e$s$o$u$r$c$e$, y$o$u$ c$a$n$ c$l$e$a$r$ t$h$a$t$ f$a$i$l$u$r$e$<literal role="command"></literal>T$h$i$s$ c$o$m$m$a$n$d$ r$e$s$e$t$s$ t$h$e$ r$e$s$o$u$r$c$e$ s$t$a$t$u$s$ a$n$d$ <literal>f$a$i$l$c$o$u$n$t$</literal>, t$e$l$l$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ t$o$ f$o$r$g$e$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$l$e$a$n$s$ u$p$ t$h$e$ r$e$<emphasis></emphasis></simpara>
<literallayout class="monospaced">pcs resource cleanup <emphasis>resource_id</emphasis></literallayout>
<simpara>I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ <emphasis>r$e$s$o$u$r$c$e$_i$d$</emphasis>, t$h$i$s$ c$o$m$m$a$n$d$ r$e$s$e$t$s$ t$h$e$<literal></literal></simpara>
<simpara>T$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ c$l$e$a$n$u$p$</literal> c$o$m$m$a$n$d$ p$r$o$b$e$s$ o$n$l$y$ t$h$e$ rT$o$ p$r$o$b$e$ a$l$l$ r$e$s$o$u$r$c$e$s$ o$n$ a$l$l$ n$o$d$e$s$ y$o$u$ </simpara>
<literallayout class="monospaced">pcs resource refresh</literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$f$r$e$s$h$</literal> c$o$m$m$a$n$d$ p$r$o$b$e$s$ o$n$l$T$o$ p$r$o$b$e$ a$l$l$ r$e$s$o$u$r$c$e$s$ e$v$e$n$ i$f$ t$h$e$ s$t$a$t$e$ i$s$ n$o$</simpara>
<literallayout class="monospaced">pcs resource refresh --full</literallayout>
</section>
<section xml:id="assembly_moving-cluster-resources-managing-cluster-resources">
<title>M$o$v$i$n$g$ r$e$s$o$u$r$c$e$</title>
<simpara>P$a$c$e$m$a$k$e$r$ p$r$o$v$i$d$e$s$ a$ v$a$r$i$e$t$y$ o$f$ m$e$c$h$a$n$i$s$m$s$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ a$ r$e$s$o$u$r$c$e$ t$o$ m$o$v$e$ f$r</simpara>
<simpara>Y$o$u$ c$a$n$ m$a$n$u$a$l$l$y$ m$o$v$e$ r$e$s$o$u$r$c$e$s$ i$n$ a$ c$l$u$s$t$e$r$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> a$n$d$ <literal role="command">p$c$s$ r$e$s$o$u$r$c</literal><link linkend="assembly_manually-move-resources-cluster-maintenance"></link></simpara>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$s$e$ c$o$m$m$a$n$d$s$, y$o$u$ c$a$n$ a$l$s$o$ c$o$n$t$r$o$l$ t$h$e$ b$e$h$a$v$i$o$r$ o$f$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$s$ b$y$ e$n$a$b$l$i$n$g$, d$i$s$a$b$l$i$n$g$, <link linkend="proc_disabling-resources-cluster-maintenance"></link></simpara>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ r$e$s$o$u$r$c$e$ s$o$ t$h$a$t$ i$t$ w$i$l$l$ m$o$v$e$ t$o$ a$ n$e$w$ n$o$d$e$ a$f$t$e$r$ a$ d$e$f$i$n$e$d$ n$u$m$b$e$r$ o$f$ f$a$i$l$u$r$e$s$, a$n$d$</simpara>
<section xml:id="proc_move-resource-from-failure-moving-cluster-resources">
<title>M$o$v$i$n$g$ r$e$s$o$u$r$c$e$s$</title>
<simpara>W$h$e$n$ y$o$u$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ r$e$s$o$u$r$c$e$ s$o$ t$h$a$t$ i$t$ w$i$l$l$ m$o$v$e$ t$o$ a$ n$e$w$ n$o$d$e$ a$f$t$e$r$ a$ d$e$f$i<literal></literal>O$n$c$e$ t$h$e$ t$h$r$e$s$h$o$l$d$ h$a$s$ b$e$e$n$ r$e$a$c$h$e$d$, t$h$i$s$ n$o$d$e$ w$i$l$l$ n$o$ l$o$n$g</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ a$d$m$i$n$i$s$t$r$a$t$o$r$ m$a$n$u$a$l$l$y$ r$e$s$e$t$s$ t$h$e$ r$e$s$o$u$r$c$e$’s$ <literal>f$a$i$l</literal><literal role="command"></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ r$e$s$o$u$r$c$e$’s$ <literal>f$a$i$l$u$r$e$-t$i$m$</literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ v$a$l$u$e$ o$f$ <literal>m$i$g$r$a$t$i$o$n$-t$h$r$e$s$h$o$l$d$</literal> i$<literal></literal><literal>I$N$F$I$N$I$T$Y$</literal> i$s$ d$e$f$i$n$e$d$ i$n$t$e$r$n$a$l$l$y$ a$s$ a$A$ v$a$l$u$e$ o$f$ 0 d$i$s$a$b$l$e$s$ t$h$e$ <literal>m$i$g$r$a</literal></simpara>
<note>
<simpara>S$e$t$t$i$n$g$ a$ <literal>m$i$g$r$a$t$i$o$n$-t$h$r$e$s$h$o$l$d$</literal> f$o$r$ a$ r$e$s$o$u$r$c$e$ i$s$ n$o$t$ t$h$e$ s$a$m$e$ a$s$ c$o$n$f$i$g$u$r$i$n$g$ a$ r$e$s$o$u$r$c$e$ f$o$r$ m$i$g$</simpara>
</note>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ a$d$d$s$ a$ m$i$g$r$a$t$i$o$n$ t$h$r$e$s$h$o$l$d$ o$f$ 10 t$o$ t$h$e$ r$e$s$o$u$r$c$e$ n$a$m$e$d$ <literal>d$u$m$m$y$_r$e$s$o$u$r$c$e$</literal>, w</simpara>
<literallayout class="monospaced"># <literal>pcs resource meta dummy_resource migration-threshold=10</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ a$d$d$ a$ m$i$g$r$a$t$i$o$n$ t$h$r$e$s$h$o$l$d$ t$o$ t$h$e$ d$e$f$a$u$l$t$s$ f$o$r$ t</simpara>
<literallayout class="monospaced"># <literal>pcs resource defaults migration-threshold=10</literal></literallayout>
<simpara>T$o$ d$e$t$e$r$m$i$n$e$ t$h$e$ r$e$s$o$u$r$c$e$’s$ c$u$r$r$e$n$t$ f$a$i$l$u$r$e$ s$t$a$t$u$s$ a$n$d$ l$i$m$<literal role="command"></literal></simpara>
<simpara>T$h$e$r$e$ a$r$e$ t$w$o$ e$x$c$e$p$t$i$o$n$s$ t$o$ t$h$e$ m$i$g$r$a$t$i$o$n$ t$h$r$e$s$h$o$l$d$ c$o$n$c$e$p$t$; t$h$e$y$ o$c$c$I$f$ t$h$e$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ <literal>s$t$a$r$t$-f$a$i$l$u$r$e$-i$s$-f$a$t$a$l$</literal> i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> (w$h$i$c$h$ i$s$ t$h$e$ d$e$f$a$u$l$t$), s$t$a$r$t$ f$a$i$l$u$r$e$s$ c$a$u$s$e$ t$h$e$<literal></literal><literal></literal></simpara>
<simpara>S$t$o$p$ f$a$i$l$u$r$e$s$ a$r$e$ s$l$i$g$h$t$l$y$I$f$ a$ r$e$s$o$u$r$c$e$ f$a$i$l$s$ t$o$ s$t$o$p$ a$n$d$ S$T$O$N$I$T$H$ i$s$ e$n$a$b$l$e$d$, t$h$e$n$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ f$e$n$c$I$f$ S$T$O$N$I$T$H$ i$s$ n$o$t$ e$n$a$b$l$e$d$, t$h$e$n$ t$h$e$ c$l$u$s$t$e$r$ h$a$s$ n$o$ w$a$y$ t$o$ c$o$n$t$i$n$u$e$ a$n$d$ w$i$l$l$ n$o$t$ t$r$y$ t$o$ s$t$a$r$t$ t$h$e$ </simpara>
</section>
<section xml:id="proc_move-resource-from-connectivity-moving-cluster-resources">
<title>M$o$v$i$n$g$ r$e$s$o$u$r$c$e$s$ d$u$e$ t$o$ </title>
<simpara>S$e$t$t$i$n$g$ u$p$ t$h$e$ c$l$u$s$t$e$r$ t$o$ m$o$v$e$ r$e$s$o$u$r$c$e$s$ w$h$e$n$ e$x$t$e$r$n$a$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$d$d$ a$ <literal>p$i$n$g$</literal> r$e$s$o$u$r$c$e$T$h$e$ <literal>p$i$n$g$</literal> r$e$s$o$u$r$c$e$ u$s$e$s$ t$h$e$ s$y$s$t$e$m$ u$t$i$l$i$t$y$ o$f$ t$h$e$ s$a$m$e$ n$a$m$e$ t$o$ t$e$s$t$ i$f$ a$ l$i$s$t$ o$f$ m$a$c$h$i$n$e$s$ (s$p$e$c$i$f$i$e$d$ b$y$ D$N$S$ h$o$s$t$ n$a$m$e$ o$r$ I<literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ t$h$a$t$ w$i$l$l$ m$o$v$e$ t$h$e</simpara>
</listitem>
</orderedlist>
<simpara><xref linkend="tb-resource-props-summary-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ y$o$u$ c$a<literal></literal></simpara>
<table xml:id="tb-pingoptions-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ a$ p</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>d$a$m$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ t$i$m$e$ t$o$ w$a$i$t$ (d$a$m$p$e$n$i$n$g$) f$o$r$ T$h$i$s$ p$r$e$v$e$n$t$s$ a$ r$e$s$o$u$r$c$e$ f$r$o$m$ b$o$u$n$c$i$n$g$ a$r$o$u$n$d$ t$h$e$ c$l$u$s$t$e$r$ w$h$e$n$ c$l$u$s$t$e$r$ n$o$d$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$u$l$t$i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ c$o$n$n$e$c$t$e$d$ p$i$n$g$ n$o$d$e$s$ g$e$t$s$ m$u$l$tU$s$e$f$u$l$ w$h$e$n$ t$h$e$r$e$ a$r$e$ m$u$l$t$i$p$l</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>h$o$s$t$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ m$a$c$h$i$n$e$s$ t$o$ c$o$n$t$a$c$t$ i$n$ o$r$d$e$r$ t$o$ d$e$t$e$r$m$iA$l$l$o$w$e$d$ v$a$l$u$e$s$ i$n$c$l$u$d$e$ r$e$s$o$l$v$a$b$l$e$ D$N$S$ h$oT$h$e$ e$n$t$r$i$e$s$ i$n$ t$h$e$ h$o$s$t$ l$i$s$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ <literal>p$i$n$g$</literal> r$e$s$o$u$r$c$e$ t$h$<literal></literal>I$n$ p$r$a$c$t$i$c$e$, y$o$u$ w$o$u$l$d$ v$e$r$i$f$y$ c$o$n$n$e$c$t$i$v$i$Y$o$u$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>p$i$n$g$</literal> r$e$s$o$u$r$c$e$ a$s$ a$ c$l$o$n$e$ s$o$ t$h$a$t$ t$</simpara>
<literallayout class="monospaced"># <literal>pcs resource create ping ocf:pacemaker:ping dampen=5s multiplier=1000 host_list=gateway.example.com clone</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$<literal></literal>T$h$i$s$ w$i$l$l$ c$a$u$s$e$ t$h$e$ <literal>W$e$b$s$e$r$v$e$r$</literal> r$e$s$o$u$r$c$e$ t$o$ m$o$v$e$ t$o$ a$ h$o$s$t$ t$h$a$t$ i$s$ a$b$l$e$ t$o$ p$i$n$g$ <literal>g$a$t$e$w$a$y$.e$x$a$m$p$l$e$.c$o$</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint location Webserver rule score=-INFINITY pingd lt 1 or not_defined pingd</literal></literallayout>
<literallayout class="monospaced"> Module included in the following assemblies:
//
// &lt;List assemblies here, each on a new line&gt;
// rhel-8-docs/enterprise/assemblies/assembly_managing-cluster-resources.adoc</literallayout>
</section>
</section>
<section xml:id="proc_disabling-monitor-operationmanaging-cluster-resources">
<title>D$i$s$a$b$l$i$n$g$ a$ m$o$n$i</title>
<simpara>T$h$e$ e$a$s$i$e$s$t$ w$a$y$ t$o$ s$t$o$p$ a$ r$e$c$u$r$r$i$H$o$w$e$v$e$r$, t$h$e$r$e$ c$a$n$ b$e$ t$i$m$e$s$ w$h$e$n$ y$o$u$ o$n$l$yI$n$ s$u$c$h$ c$a$s$e$s$, a$d$d$ <literal>e$n$a$b$l$e$d$="f$a$l$s$e$"</literal> t$o$W$h$e$n$ y$o$u$ w$a$n$t$ t$o$ r$e$i$n$s$t$a$t$e$ t$h$e$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$, s$e$t<literal></literal></simpara>
<simpara>W$h$e$n$ y$o$u$ u$p$d$a$t$e$ a$ r$e$s$o$u$r$c$e$’s$ o$p$e$r$a$t$i$o$n$ w$i$t$h$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ u$p$d$a$t$e$</literal> c$o$m$m$a$n$d$, a$n$y$ o$p$t$i$oF$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ c$o$n$f$i$g$u$r$e$d$ a$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$ w$i$t$h$ a$ c$u$s$t$o$m$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 600, r$u$n$n$i$n$g$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ w$i$l$l$ r$e$s$e$t$ t$h$e$ t$i$m$e$o$u$t$ v$a<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource update resourceXZY op monitor enabled=false</literal>
# <literal>pcs resource update resourceXZY op monitor enabled=true</literal></literallayout>
<simpara>I$n$ o$r$d$e$r$ t$o$ m$a$i$n$t$a$i$n$ t$h$e$ o$r$i$g$i$n$a$l$ v$a$l$u$e$ o$f$ 600 f$o$r$ t$h$i$s$ o$p$t$i$o$n$, w$h$e$n$ y$o$u$ r$e$i$n$s$t$a$t$e$ t$h$e$ m$o$n$i$t$o</simpara>
<literallayout class="monospaced"># <literal>pcs resource update resourceXZY op monitor timeout=600 enabled=true</literal></literallayout>
</section>
<section xml:id="proc_tagging-cluster-resources-managing-cluster-resources">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$n$d$ m$a$n$a$g$i$n$g$ c$l$u$s$t$e$r$ r$e$s</title>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.3, y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal></literal>T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ e$n$a$b$l$e$, d$i$s$a$b$l$e$, m$a$n$a$g$e$, o$r$ u$n$m$a$n$a$g$e$ a$ s$p$</simpara>
<section xml:id="tagging_cluster_resources_for_administration_by_category" remap="_tagging_cluster_resources_for_administration_by_category">
<title>T$a$g$g$i$n$g$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$s$ f$o$r$ </title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$a$g$s$ t$w$o$ r$e$s$o$u$r$c$e$s$ w$i$t$h$ a$ r$e$sI$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ e$x$i$s$t$i$n$g$ r$e$s$o$u$r$c$e$s$ t$o$<literal></literal><literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$r$e$a$t$e$ a$ t$a$g$ n$a$m$e$d$ <literal>s$p$e$c$i$a$l$-r$e$s$o$u$r$c$e$</literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs tag create special-resources d-01 d-02</literal></literallayout>
</listitem>
<listitem>
<simpara>D$i$s$p$l$a$y$ t$h$e$ r$e$s$o$u$r$c$e$ </simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs tag config</literal>
special-resources
  d-01
  d-02</literallayout>
</listitem>
<listitem>
<simpara>D$i$s$a$b$l$e$ a$l$l$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ a$r$e$ t$a$g$g$e$d$<literal></literal></simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs resource disable special-resources</literal></literallayout>
</listitem>
<listitem>
<simpara>D$i$s$p$l$a$y$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$s$ t$o$ c$o$n$f$i$r$m$ t$h<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs resource</literal>
  * d-01        (ocf::pacemaker:Dummy): Stopped (disabled)
  * d-02        (ocf::pacemaker:Dummy): Stopped (disabled)</literallayout>
</listitem>
</orderedlist>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$</literal> c$o$m$m$a$n$d$, t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ e$n$a$b$l$e$</literal>, <literal>p$c$s$ r$e$s$o$u$r$c$e$ m$a$n$a$g$e$</literal>, a$n$d<literal></literal></simpara>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ c$r$e$a$t$e</simpara>
<itemizedlist>
<listitem>
<simpara>Y$o$u$ c$a$n$ d$e$l$e$t$e$ a$ r$e$s$o$u$r$c$e$ t$a$g$ w$i$t$h$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$ m$o$d$i$f$y$ r$e$s$o$u$r$c$e$ t$a$g$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$r$ a$n$ e$x$i$s$t$i$n<literal></literal></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="deleting_a_tagged_cluster_resource" remap="_deleting_a_tagged_cluster_resource">
<title>D$e$l$e$t$i$n$g$ a$ t$a$g$g$e$d$ c</title>
<simpara>Y$o$u$ c$a$n$n$o$t$ d$e$l$e$t$e$ a$ t$a$g$g$e$d$ c$l$u$s$t$e$r$ r<literal></literal>T$o$ d$e$l$e$t$e$ a$ t$a$g$g$e$d$ r$e$s$o$u$r$c$e$, u$s$e</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ r$e$</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ t$a$g$ <literal>s$p$e$c$i$a</literal></simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs tag remove special-resources</literal>
[root@node-01]# <literal>pcs tag</literal>
 No tags defined</literallayout>
</listitem>
<listitem>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ t$a$g$ <literal>s$p$e$</literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs tag update special-resources remove d-01</literal></literallayout>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>D$e$l$e$t$e$ t$h$e$ </simpara>
<literallayout class="monospaced">[root@node-01]# <literal>pcs resource delete d-01</literal>
Attempting to stop: d-01... Stopped</literallayout>
</listitem>
</orderedlist>
</section>
</section>
</chapter>
<chapter xml:id="assembly_creating-multinode-resources-configuring-and-managing-high-availability-clusters">
<title>C$r$e$a$t$i$n$g$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ a$r$e$ a$c$t$i$v$e$</title>
<simpara>Y$o$u$ c$a$n$ c$l$o$n$e$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ s$o$ t$h$a$t$ t$h$e$ r$e$sF$o$r$ e$x$a$m$p$l$e$, y$o$u$ c$a$n$ u$s$e$ c$l$o$n$e$d$ r$e$s$o$u$r$c$e$s$ t$o$ c$o$n$f$i$g$u$r$e$ m$u$l$t$i$p$l$e$ i$n$s$t$a$n$c$e$s$ o$f$ a$n$ Y$o$u$ c$a$n$ c$l$o$n$e$ a$n$y$ r$e$s$o$u$r$c$e$ p$r$o$v$i$d$e$d$ tA$ c$l$o$n$e$ c$o$n$s$i$s$t$s$ o$f$ o$n$e$ r$e$s$o$u$r$</simpara>
<note>
<simpara>O$n$l$y$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ c$a$n$ b$e$ a$c$t$i$v$e$ o$n$ m$u$l$t$i$p$l$e$ n$o$d$e$s$F$o$r$ e$x$a$m$p$l$e$, a$ <literal>F$i$l$e$s$y$s$t$e$m$</literal> r$e$s$o$u$r$c$e$ m$o$u$n$t$i$n$g$ a$ n$o$n$-c$l$u$s$t$e$r$e$d$ f$i$l$e$ s$y$s$t$e$m$ s$<literal></literal>S$i$n$c$e$ t$h$e$ <literal>e$x$t$4</literal> p$a$r$t$i$t$i$o$n$ i$s$ n$o$t$ c$l$u$s$t$e$r$ a$w$a$r$e$, t$h$i$s$ f$i$l$e$ s$y$s$t$e$m$ i$s$ n$o$t$ s$u$i$t$a$b$l$e$ f$o$r$ r$</simpara>
</note>
<section xml:id="proc_creating-cloned-resource-creating-multinode-resources">
<title>C$r$e$a$t$i$n$g$ a$n$d$ r$e$m$o$v$i$n$g</title>
<simpara>Y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ a$n$d$ a$ c$l$o$n$e$ o$f$ t$h$a$t$ r$e$s$o$u$r$c$e$ </simpara>
<simpara>R$H$E$L$ 8.4 a$n$d$</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource options</emphasis>] [meta <emphasis>resource meta options</emphasis>] clone [<emphasis>clone_id</emphasis>] [<emphasis>clone options</emphasis>]</literallayout>
<simpara>R$H$E$L$ 8.3 a$n$d$ e</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource options</emphasis>] [meta <emphasis>resource meta options</emphasis>] clone [<emphasis>clone options</emphasis>]</literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ n$a$m$e$ o$f$ t$h$e$ c$l$o$n$e$ <literal><emphasis></emphasis></literal>A$s$ o$f$ R$H$E$L$ 8.4, y$o$u$ c$a$n$ s$e$t$ a$ c$u$s$t$o$m$ n$a$m$e$ f$o$r$ t$h$e$ c$l$o$n$e$ b$y$ s$<emphasis></emphasis></simpara>
<simpara>Y$o$u$ c$a$n$n$o$t$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ a$n$d$ a$ c$l$o$n$e$ o$f$ </simpara>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ c$l$o$n$e$ o$f$ a$ p$r$e$v$i$o$u$s$l$y$-c$r$e$a$t$e$d$ r$e$s</simpara>
<simpara>R$H$E$L$ 8.4 a$n$d$</simpara>
<literallayout class="monospaced">pcs resource clone <emphasis>resource_id</emphasis> | <emphasis>group_id</emphasis> [<emphasis>clone_id</emphasis>] [<emphasis>clone options</emphasis>]...</literallayout>
<simpara>R$H$E$L$ 8.3 a$n$d$ e</simpara>
<literallayout class="monospaced">pcs resource clone <emphasis>resource_id</emphasis> | <emphasis>group_id</emphasis> [<emphasis>clone options</emphasis>]...</literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ n$a$m$e$ o$f$ t$h$e$ c$l$o$n$e$ w$i$l$l$ b$e$ <literal><emphasis>r$e$s$</emphasis></literal><literal><emphasis></emphasis></literal>A$s$ o$f$ R$H$E$L$ 8.4, y$o$u$ c$a$n$ s$e$t$ a$ c$u$s$t$o$m$ n$a$m$e$ f$o$r$ t$h$e$ c$l$o$n$e$ b$y$ s$<emphasis></emphasis></simpara>
<note>
<simpara>Y$o$u$ n$e$e$d$ t$o$ c$o$n$f$i$g$u$r$e$ r$e$s$o$u$r$c$e$ c$o$n$f$i$g$u</simpara>
</note>
<note>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$, a$l$w$a$y$s$ u$s</simpara>
</note>
<simpara>W$h$e$n$ y$o$u$ c$r$e$a$t$e$ a$ c$l$o$n$e$ o$f$ a$ r$e$s$o$u$r$c$e$, b$y$ d$e$f$a$u$l$t$ t$h$e$ c$l$o$n$e$ t$a$k$e$s$ o$n$ t$h$<literal></literal>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r$c$e$ o$f$ t$y$p$e$ <literal>a$p$a$c$h$e$</literal> n$a$m$e$d$ <literal>w$e$</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource create webfarm apache clone</literal></literallayout>
<note>
<simpara>W$h$e$n$ y$o$u$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ o$r$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ c$l$o$n$e$ t$h$a$t$ w$i$l$l$ b$e$ o$r$d$e$r$e$d$ a$f$t$e$r$ a$n$o$t<literal></literal>T$h$i$s$ e$n$s$u$r$e$s$ t$h$a$t$ c$o$p$i$e$s$ o$f$ t$h$e$ d$e$p$e$n$d$e$n$t$ c$l$o$n$e$ c$a$n$ s$t$o$p$ o$r$ s$t$a$r$t$ w$h$e$n$ t$h$e$I$f$ y$o$u$ d$o$ n$o$t$ s$e$t$ t$h$i$s$ o$p$t$i$o$n$, i$f$ a$ c$l$o$n$e$d$ r$e$s$o$u$r$c$e$ B$ d$e$p$e$n$d$s$ o$n$ a$ c$l$o$n$e$d$ r$e$s$o$u$r$c$e$ A$ a$n$d$ a$ n$o$d$e$ l$e$a$v$e$s$ t$h$e$ c$l$u$s$t$e$r$, w$h$e$n$ t$h$e$ n$o$d$e$ r$e$t$u$r$n$s$ t$o$ t$h$e$ cT$h$i$s$ i$s$ b$e$c$a$u$s$e$ w$h$e$n$ a$ d$e$p$e$n$d$e$n$t$ c$l$o$n$e$d$ r$e$s$o$u$r$c$e$ d$o$e$s$ n$o$t$ h$a$v$e$ t$h$e$ <literal>i$n$t$e$r$l$e$a$v$e$</literal> o$p$t$i$o$n$ s$e$t$, a$l$l$ i$n$s$t$a$n</simpara>
</note>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$m$o$v$e$ a$ c$l$o$n$eT$h$i$s$ d$o$e$s$ n$o$t$ r$e$m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$</simpara>
<literallayout class="monospaced">pcs resource unclone <emphasis>resource_id</emphasis> | <emphasis>clone_id</emphasis> | <emphasis>group_name</emphasis></literallayout>
<simpara><xref linkend="tb-resourcecloneoptions-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ o$p$t$i$o$n$s$ y$o$u$ c$a$n$ s$p$e</simpara>
<table xml:id="tb-resourcecloneoptions-HAAR" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ C$l$o</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>p$r$i$o$r$i$t$y$, t$a$r$g$e$t$-r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>O$p$t$i$o$n$s$ i$n$h$e$r$i$t$e$d$ f$r$o$m$ r$e$s$o$u$r$c$e$ t$h$a$t$ i$<xref linkend="tb-resource-options-HAAR"/></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$o$n$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ c$o$p$i$e$s$ o$f$ t$h$e$ D$e$f$a$u$l$t$s$ t$o$ t$h$e$ n$u$m$b$e$r$ o$f$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$o$n$e$-n$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ c$o$p$i$e$s$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ c$a$n$ b$e$ s$t$a$r$t$e$d$ o$n<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>n$o$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$e$n$ s$t$o$p$p$i$n$g$ o$r$ s$t$a$r$t$i$n$g$ a$ c$o$p$y$ o$f$ t$h$e$ c$l$o$n$e$, t$e$l$l$ a$l$l$ t$h$e$ o$t$h$e$r$ cA$l$l$o$w$e$d$ v$a$l$u$e$s$:<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>g$l$o$b$a$l$l$y</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$o$e$s$ e$a$c$h$ c$o$p$y$ o$f$ t$h$e$ c$l$o$n$e$ p$e$r$fA$l$l$o$w$e$d$ v$a$l$u$e$s$<literal></literal><literal></literal></simpara><simpara>I$f$ t$h$e$ v$a$l$u$e$ o$f$ t$h$i$s$ o$p$t$i$o$n$ i$s$ <literal>f$a$l$s$e$</literal>, t$h$e$s$e$ r$e$s$o$u$r$c$e$s$ b$e$h$a$v$e$ i$d$e$n$t$i$c$a$l$l$y$ e$v$e$r$y$w$h$e$r$e$ t$h$e$y$ a$r$e$</simpara><simpara>I$f$ t$h$e$ v$a$l$u$e$ o$f$ t$h$i$s$ o$p$t$i$o$n$ i$s$ <literal>t$r$u$e$</literal>, a$ c$o$p$y$ o$f$ t$h$e$ c$l$o$n$e$ r$u$n$n$i$n$g$ o$n$ o$n$e$ m$a$c$h$i$n$e$ i$s$ n$o$t$ e$q$u$i$v$a$l$e$n$t$ t$o$ a$n$o$t$T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ i$s$ <literal>t$r$u$e$</literal> i$f$ t$h$e$ v$a$l$u$e$ o$f$ <literal>c$l$o$n$e$-n$o$d$e$-m$a$x$</literal> i$s$ g$r$e$a$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>o$r$d$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>S$h$o$u$l$d$ t$h$e$ c$o$p$i$e$s$ b$e$ s$t$a$r$t$e$d$ i$n$ s$e$r$A$l$l$o$w$e$d$ v$a$l$u$e$s$:<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>i$n$t$e$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>C$h$a$n$g$e$s$ t$h$e$ b$e$h$a$v$i$o$r$ o$f$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ (b$e$t$w$e$e$n$ c$l$o$n$e$s$) s$o$ t$h$a$t$ c$o$p$i$e$s$ o$f$ t$h$e$ f$i$r$s$t$ c$l$o$n$e$ c$a$n$ s$t$a$r$t$ o$r$ s$t$o$p$ a$s$ s$o$o$n$ a$s$ t$h$e$ c$o$p$y$ o$n$ t$h$e$ s$a$m$e$ n$o$d$e$ o$f$ t$hA$l$l$o$w$e$d$ v$a$l$u$e$s$:<literal></literal><literal></literal>T$h$e$ d$e$f$a$u$l$t$ v$a$l<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$o$n$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ a$ v$a$l$u$e$ i$s$ s$p$e$c$i$f$i$e$d$, a$n$y$ c$l$o$n$e$s$ w$h$i$c$h$ a$r$e$ o$r$d$e$r$e$d$ a$f$t$e$r$ t$h$i$s$ c$l$o$n$e$ w$i$l$l$ n$o$t$ b$e$ a$b$l$e$ t$o$ s$t$a$r$t$ u$n$t$i$l$ t$h$e$ s$p$e$c$i$f$i$e$d$ n$u$m$<literal></literal><literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>T$o$ a$c$h$i$e$v$e$ a$ s$t$a$b$l$e$ a$l$l$o$c$a$t$i$o$n$ p$a$t$t$e$r$n$, c$l$o$n$e$s$ a$r$e$ s$l$i$g$h$t$l$y$ s$t$i$c$k$y$ b$y$ d$e$f$a$u$l$t$, w$h$i$c$h$ i$n$d$i$c$a$t$e$s$ t$hI$f$ n$o$ v$a$l$u$e$ f$o$r$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> i$s$ p$r$o$v$i$B$e$i$n$g$ a$ s$m$a$l$l$ v$a$l$u$e$, i$t$ c$a$u$s$e$s$ m$i$n$i$m$a$l$ d$i$s$t$u$r$b$a$n$c$e$ t$o$ t$h$e$ s$c$o$r$e$ c$a$l$c$u$l$a$t$i$o$n$s$ o$f$ o$t$h$e$r$ r$e$s$o$u$r$c$e$s$ b$u$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$e$t$t$i$n$g$ t$h$e$ <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i$n$e$s$s$</literal> r$e$s$o$u$r$c$e$<link linkend="proc_configuring-resource-meta-options-configuring-cluster-resources"></link></simpara>
</section>
<section xml:id="proc_configuring-clone-constraints-creating-multinode-resources">
<title>C$o$n$f$i$g$u$r$i$n$g$ c$l$o$n$e$ r$e$</title>
<simpara>I$n$ m$o$s$t$ c$a$s$e$s$, a$ c$l$o$n$e$ w$i$l$l$ h$a$v$e$ a$ s$i$n$g$l$e$ cY$o$u$ c$a$n$, h$o$w$e$v$e$r$, s$e$t$ <literal>c$l$o$n$e$-m$a$x$</literal> f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ c$l$o$n$e$ t$o$ a$ v$a$l$u$e$ t$h$a$t$I$f$ t$h$i$s$ i$s$ t$h$e$ c$a$s$e$, y$o$u$ c$a$n$ i$n$d$i$c$a$t$e$ w$h$i$c$h$ n$o$d$e$s$ t$h$e$ c$l$u$s$t$e$r$ s$h$o$u$l$d$ p$r$e$f$e$r$T$h$e$s$e$ c$o$n$s$t$r$a$i$n$t$s$ a$r$e$ w$r$i$t$t$e$n$ n$o$ d$i$f$f$e$r$e$n$t$l$y$ t$o$ t$h$o$s$e$ f$o$r$ r$e$g$u$l</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ f$o$r$ t$h$e$ c$l$u$s$t$e$r$ t$o$ <literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint location webfarm-clone prefers node1</literal></literallayout>
<simpara>O$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$s$ b$e$h$a$v$e$ s$l$i$gI$n$ t$h$e$ e$x$a$m$p$l$e$ b$e$l$o$w$, b$e$c$a$u$s$e$ t$h$e$ <literal>i$n$t$e$r$l$e$a$v$e$</literal> c$l$o$n$e$ o$p$t$i$o$n$ i$s$ l$e$f$t$ t$o$ d$e$f$a$u$l$t$ a$s$ <literal>f$a$l$s$e$</literal>, n$o$ i$n$s$t$a$n$c$e$ o$f$ <literal>w$e$b$f$a$r$m$-s$</literal><literal></literal>O$n$l$y$ i$f$ n$o$ c$o$p$i$e$s$ o$f$ <literal>w$e$b$f$a$r$m$-c$l$o$n$e$</literal> c$a$n$ b$e$ s$t$a$r$t$e$d$ t$h$e$n$ <literal>w$e$b$</literal>A$d$d$i$t$i$o$n$a$l$l$y$, <literal>w$e$b$f$a$r$m$-c$l$o$n$e$</literal> w$i$l$l$ w$a$i$t$ f$o$r$ <literal>w$e$b$f$a$r$m$-s</literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint order start webfarm-clone then webfarm-stats</literal></literallayout>
<simpara>C$o$l$o$c$a$t$i$o$n$ o$f$ a$ r$e$g$u$l$a$r$ (o$r$ g$r$o$u$p$) r$e$s$o$u$r$c$e$ w$i$t$h$ a$ c$l$o$n$e$ m$e$a$n$s$ t$h$a$t$ t$h$e$ r$e$s$o$T$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ c$h$o$o$s$e$ a$ c$o$p$y$ b$a$s$e$d$ o$n$ w$h$e$r$e$ t$h$e$ c$l$o$n$e$ i$s$ r$u$n</simpara>
<simpara>C$o$l$o$c$a$t$i$o$n$ b$e$t$w$e$e$n$ c$l$o$nI$n$ s$u$c$h$ c$a$s$e$s$, t$h$e$ s$e$t$ o$f$ a$l$l$o$w$e$d$ l$o$c$a$t$i$o$n$s$ f$o$r$ t$h$e$ c$l$o$n$e$ i$s$ l$i$m$i$t$eA$l$l$o$c$a$t$i$o$n$ i$s$ t$h$e$n$ p$e$r$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ t$o$ e$n$s$u$r$e$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ <literal>w</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs constraint colocation add webfarm-stats with webfarm-clone</literal></literallayout>
</section>
<section xml:id="assembly_creating-promotable-clone-resources-creating-multinode-resources">
<title>C$r$e$a$t$i$n$g$ p$r$o$m$o$t$a$b$l$</title>
<simpara>P$r$o$m$o$t$a$b$l$e$ c$l$o$n$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ c$l$o$n$e$ r$e$s$o$u$r$c$e$s$ w$i$t$<literal></literal><literal></literal>T$h$e$y$ a$l$l$o$w$ t$h$e$ i$n$s$t$a$n$c$e$s$ t$o$ b$e$ i$n$ o$n$e$ o$f$ t$w$o$ o$p$e$r$a$t$i$n$<literal></literal><literal></literal>T$h$e$ n$a$m$e$s$ o$f$ t$h$e$ m$o$d$e$s$ d$o$ n$o$t$ h$a$v$e$ s$p$e$c$i$f$i$c$ m$e$a$n$i$n$g$s$, e$x$c$e$p$t$ f$o$r$ t$h$e$ l$i$m$i$t$a$t$i$o$n$ t$h$<literal></literal></simpara>
<section xml:id="proc_creating-promotable-resource-creating-promotable-clone-resources">
<title>C$r$e$a$t$i$n$g$ a$ p$r$o$m$o$</title>
<simpara>Y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ a$s$ a$ p$r$o$m$o$t$a$b$l$e$ c$l$o$</simpara>
<simpara>R$H$E$L$ 8.4 a$n$d$</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource options</emphasis>] promotable [<emphasis>clone_id</emphasis>] [<emphasis>clone options</emphasis>]</literallayout>
<simpara>R$H$E$L$ 8.3 a$n$d$ e</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> [<emphasis>standard</emphasis>:[<emphasis>provider</emphasis>:]]<emphasis>type</emphasis> [<emphasis>resource options</emphasis>] promotable [<emphasis>clone options</emphasis>]</literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ n$a$m$e$ o$f$ t$h$e$ p$r$o$m$o$t$a$b$l$e$ c<literal><emphasis></emphasis></literal>A$s$ o$f$ R$H$E$L$ 8.4, y$o$u$ c$a$n$ s$e$t$ a$ c$u$s$t$o$m$ n$a$m$e$ f$o$r$ t$h$e$ c$l$o$n$e$ b$y$ s$<emphasis></emphasis></simpara>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$ f$r$o$m$ a$ p$r$e$v$i$o$u$s$l$y$-c$r$e</simpara>
<simpara>R$H$E$L$ 8.4 a$n$d$</simpara>
<literallayout class="monospaced">pcs resource promotable <emphasis>resource_id</emphasis> [<emphasis>clone_id</emphasis>] [<emphasis>clone options</emphasis>]</literallayout>
<simpara>R$H$E$L$ 8.3 a$n$d$ e</simpara>
<literallayout class="monospaced">pcs resource promotable <emphasis>resource_id</emphasis> [<emphasis>clone options</emphasis>]</literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$e$ n$a$m$e$ o$f$ t$h$e$ p$r$o$m$o$t$a$b$l$e$ c$l$o$n$e$ w$i$l$l$ b<literal><emphasis></emphasis></literal><literal><emphasis></emphasis></literal>A$s$ o$f$ R$H$E$L$ 8.4, y$o$u$ c$a$n$ s$e$t$ a$ c$u$s$t$o$m$ n$a$m$e$ f$o$r$ t$h$e$ c$l$o$n$e$ b$y$ s$<emphasis></emphasis></simpara>
<simpara><xref linkend="tb-promotablecloneoptions-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ e$x$t$r$a$ c$l$o$n$e$ o$p$t$i$o$n$s$ y$o$u$ c$a$n$</simpara>
<table xml:id="tb-promotablecloneoptions-HAAR" frame="all" rowsep="1" colsep="1">
<title>E$x$t$r$a$ C$l$o$n$e$ O$p$t$i$o$n$s$ A$v$a$i$l$a$b$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>p$r$o$m$o$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ c$o$p$i$e$s$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ c</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$r$o$m$o$t$e$d$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara>H$o$w$ m$a$n$y$ c$o$p$i$e$s$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ c$a$n$ b$e$ p$r$o$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="proc_configuring-promotable-resource-constraints-creating-promotable-clone-resources">
<title>C$o$n$f$i$g$u$r$i$n$g$ p$r$o$m$o$t$a$b$l$e$</title>
<simpara>I$n$ m$o$s$t$ c$a$s$e$s$, a$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ h$a$v$e$ a$ I$f$ t$h$i$s$ i$s$ n$o$t$ t$h$e$ c$a$s$e$, y$o$u$ c$a$n$ i$n$d$i$c$a$t$e$ w$h$i$c$h$ n$o$d$e$s$ t$h$e$ c$l$u$s$t$e$r$ s$h$o$u$l$d$ p$r$e$f$eT$h$e$s$e$ c$o$n$s$t$r$a$i$n$t$s$ a$r$e$ w$r$i$t$t$e$n$ n$o$ d$i$f$f$e$r$e$n$t</simpara>
<simpara>Y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$ w$h$i$c$h$ s$p$e$c$i$f$i$e$s$ w$h$e$t$h$e$r$ T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$ r$e$</simpara>
<literallayout class="monospaced">pcs constraint colocation add [master|slave] <emphasis>source_resource</emphasis> with [master|slave] <emphasis>target_resource</emphasis> [<emphasis>score</emphasis>] [<emphasis>options</emphasis>]</literallayout>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ c$o$l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$<link linkend="assembly_colocating-cluster-resources.adoc_configuring-and-managing-high-availability-clusters"></link></simpara>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$n$ o$r$d$e$r$i$n$g$ c$o$n$s$t$r$a$i$n$t$ t$h$a$t$ i$n$c$l$u$d$e$s$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$s$, o$n$e$ o$f$ t$h$e$ a$c$t$i$o$n$s$ t$h$a$t$ y$o$u$ c$a$n$ s$p$e$c$i$f$y$ f$o$<literal></literal>A$d$d$i$t$i$o$n$a$l$l$y$, y$o$u$ c$a$n$ s$p$e$c$i$f$y$ a$n$ a$c$t$i$o$n$ o$f$ <literal>d$e$m$o$t$e$</literal>, i$n$d$i$c$a$t$e$d$ t$h$a$t$ t</simpara>
<simpara>T$h$e$ c$o$m$m$a$n$d$ f$o$r$ c$o$n$f$i$g$u$r$i$n$g$ a$n$ o$r$d</simpara>
<literallayout class="monospaced">pcs constraint order [<emphasis>action</emphasis>] <emphasis>resource_id</emphasis> then [<emphasis>action</emphasis>] <emphasis>resource_id</emphasis> [<emphasis>options</emphasis>]</literallayout>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ r$e$s$o$u$r$c$e$ o$r$d$e$r$ c$o$n$s$t$r$a$i$n$t$s$, s$e$e$ i$f$d$e$f$:: <link linkend="assembly_determining-resource-order.adoc-configuring-and-managing-high-availability-clusters">D$e$t$e$r</link></simpara>
</section>
</section>
<section xml:id="proc_recovering-promoted-node-creating-multinode-resources">
<title>D$e$m$o$t$i$n$g$ a$ p$r$o$m$o$t$e$d$ r$e$s$o$u$r$c$e$ o$n$ f</title>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$ s$o$ t$h$a$t$ w$h$e$n$ a$ <literal>p$r$o$m$o$t$e$</literal> o$r$ <literal>m$o$n$i$t$o$r$</literal> a$c$t$i$o$n$ f$a$i$l$s$ f$o$r$ t$h$a$t$ r$e$s$o$u$r$c$e$, o$r$ t$h$e$ p$a$r$t$i$t$i$o$n$ i$n$ T$h$i$s$ c$a$n$ p$r$e$v$e$n$t$ t$h$e$ n$e$e$d$ f$o$r$ m$a$n$u$a$l$ i$n$t$e$r$v$e$n$t$i$o$n$ i$n$ s$i$t$u$a$t$i$o$n$</simpara>
<itemizedlist>
<listitem>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$ t$o$ b$e$ d$e$m$o$t$e$d$ w$h$e$n$ a$ <literal>p$r$o$m$o$t$e$</literal> a$c$t$i$o$n$ f$a$i$l$s$, s$e$t$ t$h$e$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op add my-rsc promote on-fail="demote"</literal></literallayout>
</listitem>
<listitem>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$ p$r$o$m$o$t$a$b$l$e$ r$e$s$o$u$r$c$e$ t$o$ b$e$ d$e$m$o$t$e$d$ w$h$e$n$ a$ <literal>m$o$n$i$t$o$r$</literal> a$c$t$i$o$n$ f$a$i$l$s$, s$e$t$ <literal>i$n$t$e$r$v$a$l$</literal> t$o$ a$ n$o$n$z$e$r$o$ v$a$l$u$e$, s$e$t$ t$h$<literal></literal><literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op add my-rsc monitor interval="10s" on-fail="demote" role="Master"</literal></literallayout>
</listitem>
<listitem>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$ c$l$u$s$t$e$r$ s$o$ t$h$a$t$ w$h$e$n$ a$ c$l$u$s$t$e$r$ p$a$r$t$i$t$i$o$n$ l$o$s$e$s$ q$u$o$r$u$m$ a$n$y$ p$r$o$m$o$t$e$d$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ b$e$ d$e$m$o$t$e$d$ b$u$t$ l$e$f$t$ r$u<literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>S$p$e$c$i$f$y$i$n$g$ a$ <literal>d$e$m$o$t$e$</literal> m$e$t$a$-a$t$t$r$i$b$u$t$e$ f$o$r$ a$n$ o$p$e$r$a$t$i$o$n$ d$o$e$s$ n$o$tI$f$ t$h$e$ a$f$f$e$c$t$e$d$ n$o$d$e$ s$t$i$l$l$ h$a$s$ t$h$e$ h$i$g$h$e$s$t$ p$r$o$m$o$t$i$o$n$ s$c$</simpara>
</section>
</chapter>
<chapter xml:id="assembly_clusternode-management-configuring-and-managing-high-availability-clusters">
<title>M$a$n$a$g$i$n$g$ c$l$u</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$e$c$t$i$o$n$s$ d$e$s$c$r$i$b$e$ t$h$e$ c$o$m$m$a$n$d$s$ y$o$u$ u$s$e$ t$o$ m$a$n$a$g$e$ c$l$u$s$t$e$r$ n$o$d$e$s$, i$n$c$l$u$d$i$n$g$ c$o$m$</simpara>
<section xml:id="proc_cluster-stop-clusternode-management">
<title>S$t$o$p$p$i$n$g$ c$l$u$s$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$t$o$p$s$ c$l$u$s$t$e$r$ s$e$r$v$iA$s$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ s$t$a$r$t$</literal>, t$h$e$ <literal>--a$l$l$</literal> o$p$t$i$o$n$ s$t$o$p$s$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ o$n$ a$l$l$ n$o$d$e$s$ a$n$d$ i$f$ y$o$u$ d$o$</simpara>
<literallayout class="monospaced">pcs cluster stop [--all | <emphasis>node</emphasis>] [...]</literallayout>
<simpara>Y$o$u$ c$a$n$ f$o$r$c$e$ a$ s$t$o$p$ o$f$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ o$n$ t$h$e$ l$o$c$a$l$ n$o$d$e$ w$i$t$h$ t$h$e<literal role="command"></literal></simpara>
<literallayout class="monospaced">pcs cluster kill</literallayout>
</section>
<section xml:id="proc_cluster-enable-clusternode-management">
<title>E$n$a$b$l$i$n$g$ a$n$d$ d$i$s$a$b$l$i$n</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ e$n$a$b$l$e$s$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$, w$h$i$c$h$ c$o$n$f$i$g$u$r$e$s$ t$h$e$E$n$a$b$l$i$n$g$ a$l$l$o$w$s$ n$o$d$e$s$ t$o$ a$u$t$o$m$a$t$i$c$a$l$l$y$ r$e$j$o$i$n$ t$h$e$ c$l$u$s$t$e$r$ a$f$t$e$r$ t$h$e$y$ h$a$v$e$ b$e$e$n$ f$eI$f$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ a$r$e$ n$o$t$ e$n$a$b$l$e$d$, a$n$ a$d$m$i$n$i$s$t$r$a$t$o$r$ c$a$n$ m$a$n$u$a$l$l$y$ i$n$v$e$s$t$i$g$a$t$e$ w$h$a$t$ w$e$n$t$ w$r$o$n$g$ b$e$f$o$r$e$ s$t$a$r$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ m$a$n$u$a$l$l$</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal>--a$l$l$</literal> o$p$t$i$o$n$, t$h$e$ c$o$m$m$a$n$d$ e$n$</simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$n$y$ n$o$d$e$s$, c$l$u$s$t$e$r$ s$e$r$v$i$c$</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced">pcs cluster enable [--all | <emphasis>node</emphasis>] [...]</literallayout>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ n$</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal>--a$l$l$</literal> o$p$t$i$o$n$, t$h$e$ c$o$m$m$a$n$d$ d$i$s</simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$n$y$ n$o$d$e$s$, c$l$u$s$t$e$r$ s$e$r$v$i$c$e</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced">pcs cluster disable [--all | <emphasis>node</emphasis>] [...]</literallayout>
</section>
<section xml:id="proc_cluster-nodeadd-clusternode-management">
<title>A$d$d$i$n$g$ c$l$u$s</title>
<note>
<simpara>I$t$ i$s$ h$i$g$h$l$y$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ y$o$u$ a$d$d$ n$o$d$e$s$ t$o$ e$x$i$s$t$i$n$g$ c$l$u$sT$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ p$e$r$f$o$r$m$ a$p$p$r$o$p$r$i$a$t$e$ r$e$s$o$u$r$c$e$ a$n$d$ d$e$p$l$o$y$m$e$n$t$ t</simpara>
</note>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$o$ a$d$d$ a$ n$T$h$i$s$ p$r$o$c$e$d$u$r$e$ a$d$d$s$ s$t$a$n$d$a$r$d$ c$l$u$s<literal></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ i$n$t$e$g$r$a$t$i$n$g$ n$o$n$-c$o$r$o$s$y$n$c$ n$o$d$e$s$ i$n$t$o$ a$ c$l$u$s$t$e$r$, s$e$e$ <link linkend="assembly_remote-node-management-configuring-and-managing-high-availability-clusters">I$n$t$e$g$r$a$t$i$</link></simpara>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$r$e$ <literal>c$l$u$s$t$e$r$n$o$d$e$-01.e$x$a$m$p$l$e$.c$o$m$</literal>,<literal></literal><literal></literal>T$h$e$ n$e$w$ n$o$d$e$ i$s$ <literal>n$e$w$n$</literal></simpara>
<simpara>O$n$ t$h$e$ n$e$w$ n$o$d$e$ t$o$ a$d$d$ t$o$ t$h$e$ c$l$u$s$t$e$r$,</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ c$l$u$sI$f$ t$h$e$ c$l$u$s$t$e$r$ u$s$e$s$ S$B$D$, t$h$e$ B$o$o$t$h$ t$i$c$k$e$t$ m$a$n$a$g$e$r$, o$r$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$, y$o$u$ m$u$s$t$ m$a$n$u$a$l$l$y$ i$n$s$t$a$l$l$ t$h$e$ <literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@newnode ~]# <literal>yum install -y pcs fence-agents-all</literal></literallayout>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ c$l$u$s$t$e$r$ p$a$c$k$a$g$e$s$, y$o$u$ w$i$l$l$ a$l$s$o$ n$e$e$d$ t$o$ i$n$s$t$a$l$l$ a$n$d$ c$o$n$f$i$g$u$r$e$ a$l$l$ o$f$ t$h$e$ s$e$r$v$i$c$e$s$ t$h$a$t$ yF$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ a$n$ A$p$a$c$h$e$ H$T$T$P$ s$e$r$v$e$r$ i$n$ a$ R$e$d$ H$a$t$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$, y$o$u$ w$i$l$l$ n$e$e$d$ t$o$ i$n$s$t$a$l$l$ t$h$e$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal role="command">f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ e$n$a$b$l$e$ </simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
# <literal>firewall-cmd  --add-service=high-availability</literal></literallayout>
</listitem>
<listitem>
<simpara>S$e$t$ a$ p$a$s$s$w$o$r$d$ f$o$r$ t$h$e$ <literal></literal>I$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ y$o$u$ u$s$e$ t$h$e$ s$a$m$e$ p$a$s$</simpara>
<literallayout class="monospaced">[root@newnode ~]# <literal>passwd hacluster</literal>
Changing password for user hacluster.
New password:
Retype new password:
passwd: all authentication tokens updated successfully.</literallayout>
</listitem>
<listitem>
<simpara>E$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ t$o$ s$t$a$r$t$ t$h$e$ <literal>p$c$s$d$</literal> s$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
</listitem>
</orderedlist>
<simpara>O$n$ a$ n$o$d$e$ i$n$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$, p</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$u$t$h$e$n$t$i$c$a$t$e$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal></simpara>
<literallayout class="monospaced">[root@clusternode-01 ~]# <literal>pcs host auth newnode.example.com</literal>
Username: hacluster
Password:
newnode.example.com: Authorized</literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ n$e$w$ n$o$d$e$ t$o$ t$h$e$T$h$i$s$ c$o$m$m$a$n$d$ a$l$s$o$ s$y$n$c$s$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$ <literal>c$o$r$o$s$y$n$c$.c$o$n$f$</literal> t$o$ a$l</simpara>
<literallayout class="monospaced">[root@clusternode-01 ~]# <literal>pcs cluster node add newnode.example.com</literal></literallayout>
</listitem>
</orderedlist>
<simpara>O$n$ t$h$e$ n$e$w$ n$o$d$e$ t$o$ a$d$d$ t$o$ t$h$e$ c$l$u$s$t$e$r$,</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$t$a$r$t$ a$n$d$ e$n$a$b$l$e$ c$l$u$s$t$e$r$ s$e$</simpara>
<literallayout class="monospaced">[root@newnode ~]# <literal>pcs cluster start</literal>
Starting Cluster...
[root@newnode ~]# <literal>pcs cluster enable</literal></literallayout>
</listitem>
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ y$o$u$ c$o$n$f$i$g$u$r$e$ a$n$d$ t$e$s$t$ a$ f$e$n$c$i$</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_cluster-noderemove-clusternode-management">
<title>R$e$m$o$v$i$n$g$ c$l$u</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$u$t$s$ d$o$w$n$ t$h$e$ s$p$e$c$i$f$i$e$d$ n$o$d$e$ a$n$d$ r$e$m$o$v$e$s$ i$t$ f$r$o$m$ t$h$e$ c$l$u$s$t$e$r$ c$o$n$<literal></literal></simpara>
<literallayout class="monospaced">pcs cluster node remove <emphasis>node</emphasis></literallayout>
</section>
<section xml:id="proc_add-nodes-to-multiple-ip-cluster-clusternode-management">
<title>A$d$d$i$n$g$ a$ n$o$d$e$ t$o$ a$ c$l$u$s$t$e$r</title>
<simpara>W$h$e$n$ a$d$d$i$n$g$ a$ n$o$d$e$ t$o$ a$ c$l$u$s$t$e$r$ w$i$t$h$ m$u$l$t$i$p$l$e$ l$i$n$k$s$,T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ a$d$d$s$ t$h$e$ n$o$d$e$ <literal>r$h$80-n$o$d$e$3</literal> t$o$ a$ c$l$u$s$t$e$r$, s$p$e$c$i$f$y$i$n$g$ I$P$ a$d$d$r$e$s$s$ 192.168.1</simpara>
<literallayout class="monospaced"># <literal>pcs cluster node add rh80-node3 addr=192.168.122.203 addr=192.168.123.203</literal></literallayout>
</section>
<section xml:id="proc_changing-links-in-multiple-ip-cluster-clusternode-management">
<title>A$d$d$i$n$g$ a$n$d$ m$o$d$i$f$y$i$n$g$ l$i$n$k$s$ i$n$ a$n$ e$x$i$s$t$</title>
<simpara>I$n$ m$o$s$t$ c$a$s$e$s$, y$o$u$ c$a$n$ a$d$d$ o$r$ m$o$d$i$f$y$ t$h$e$ l$i$n$k$s$ i$n$ a$n$ e$x$i$s$</simpara>
<section xml:id="adding_and_removing_links_in_an_existing_cluster" remap="_adding_and_removing_links_in_an_existing_cluster">
<title>A$d$d$i$n$g$ a$n$d$ r$e$m$o$v$i$n$g$ l$i$n$k$s$ </title>
<simpara>T$o$ a$d$d$ a$ n$e$w$ l$i$n$k$ t$o$ a$ r$u$n$n$i$n$g$ c$l$u$s$t$e$r$, u$s$e$ <literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>W$h$e$n$ a$d$d$i$n$g$ a$ l$i$n$k$, y$o$u$ m$u$s$t$ s$p$e$c$i$f</simpara>
</listitem>
<listitem>
<simpara>A$d$d$i$n$g$ a$n$d$ r$e$m$o$v$i$n$g$ a$ l$i$n$k$ i$s$ o$n$l$y$ p$o$s$s$i$b$l$e$ w$h$e$n$ y$</simpara>
</listitem>
<listitem>
<simpara>A$t$ l$e$a$s$t$ o$n$e$ l$i$n$k$ i$n$ t$h$e$ c$l$u$s$t$e$r$ m$</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ m$a$x$i$m$u$m$ n$u$m$b$e$r$ o$f$ l$i$n$k$s$ i$n$ a$ cI$t$ d$o$e$s$ n$o$t$ m$a$t$t$e$r$ w$h$i$c$h$ l$i$n$k$s$ a$r$e$ d$e$f$i$n$e$d$, s$o$, f$o$r$ e$x$a$</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ y$o$u$ a$d$d$ a$ l$i$n$k$ w$i$t$h$o$u$t$ s$p$e$c$i$f$y$i$n$g$ i$t$s$ l$i$n$k$ n$u$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ l$i$n$k$ n$u$m$b$e$r$s$ o$f$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ l$i$n$k$s$ <literal></literal>T$o$ d$i$s$p$l$a$y$ t$h$e$ <literal>c$o$r$o$s$y$n$c$.c$o$n$f$</literal> f$i$l$e$, r$u$n$ t$h$e$ <literal>p$c$s$ c$l$u$s$t$e$r$ c$o$r$o$s$y$n$c$</literal> c$o$m$m$a$n$d$ o$r$ <literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ a$d$d$s$ l$i$n$k$ n$u$m$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.11 node2=10.0.5.12 node3=10.0.5.31 options linknumber=5</literal></literallayout>
<simpara>T$o$ r$e$m$o$v$e$ a$n$ e$x$i$s$t$i$n$g$ l$i$n$k$, u$s$e$ t$h$e$ <literal>p$c$s$ c$l$u$s$t$e$r$ l$i$n$k$ </literal><literal></literal>E$i$t$h$e$r$ o$f$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ w$i$l$l$ r$e$m$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link delete 5</literal>

[root@node1 ~] # <literal>pcs cluster link remove 5</literal></literallayout>
</section>
<section xml:id="modifying_a_link_in_a_cluster_with_multiple_links" remap="_modifying_a_link_in_a_cluster_with_multiple_links">
<title>M$o$d$i$f$y$i$n$g$ a$ l$i$n$k$ i$n$ a$ c$l$u$s$t$</title>
<simpara>I$f$ t$h$e$r$e$ a$r$e$ m$u$l$t$i$p$l$e$ l$i$n$k$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ y$o$u$ w$a$n$t$ t$o$ c$h$a</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ l$i$n$k$ y$o$u$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 2</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ l$i$n$k$ b$a$c$k$ t$o$ t$h$e$ c$l$u$s$t$e$r$ w$i$t$h$ t$h$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.11 node2=10.0.5.12 node3=10.0.5.31 options linknumber=2</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="modifying_the_link_addresses_in_a_cluster_with_a_single_link" remap="_modifying_the_link_addresses_in_a_cluster_with_a_single_link">
<title>M$o$d$i$f$y$i$n$g$ t$h$e$ l$i$n$k$ a$d$d$r$e$s$s$e$s$ i$n$ a</title>
<simpara>I$f$ y$o$u$r$ c$l$u$s$t$e$r$ u$s$e$s$ o$n$l$y$ o$n$e$ l$i$n$k$ a$n$d$ y$o$u$ w$a$n$t$ t$o$ m$o$d$i$f$y$ t$h$a$t$ l$i$n$k$ t$o$ uI$n$ t$h$i$s$ e$x$a$m$p$l$e$, t$h$e$ o$r$i$g$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$d$d$ a$ n$e$w$ l$i$n$k$ w$i$t$h$ t$h$e$ n$e$w$ a</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.11 node2=10.0.5.12 node3=10.0.5.31 options linknumber=2</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ o$r$i</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 1</literal></literallayout>
</listitem>
</orderedlist>
<simpara>N$o$t$e$ t$h$a$t$ y$o$u$ c$a$n$n$o$t$ s$p$e$c$i$f$y$ a$d$d$r$e$s$s$e$s$ t$h$a$t$ a$r$e$ c$u$r$r$T$h$i$s$ m$e$a$n$s$, f$o$r$ e$x$a$m$p$l$e$, t$h$a$t$ i$f$ y$o$u$ h$a$v$e$ a$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ w$i$t$h$ o$n$e$ l$i$n$k$ a$n$d$ y$o$u$ w$a$n$t$ t$o$ c$h$a$n$g$e$ t$h$e$ a$d$d$r$e$s$s$ f$o$r$ o$n$e$ n$o$d$e$ o$n$l$y$, y$o$u$ c$I$n$s$t$e$a$d$, y$o$u$ c$a$n$ a$d$d$ a$ t$e$m$p$o$r$a$r$y$ l$i$n$k$ b$e$f$o$r$e$ r$e$m$o$v$i$n$g$ t$h$e$ e$x$i$s$t$i$n$g$ l$i$n$k$ a$n$d$ a$d$d$i</simpara>
<simpara>I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ l$i$n$k$ f$o$r$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ i$s$ l$i$n$k$ 1, w$h$i$c$h$ u$s$e$s$ t$h$e$ a$d$d$r$e$s$s$ 10.0.</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ w$o$u$l$d$ l$i$k$e$ t$o$ c$h$a$n$g$e$ t$h$e$ a$d$d$r$e</simpara>
</listitem>
</itemizedlist>
<simpara>T$o$ u$p$d$a$t$e$ o$n$l$y$ o$n$e$ o$f$ t$h$e$ a$d$d$r$e$s$s$e$s$ f$o$r$ a$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ w</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$d$d$ a$ n$e$w$ t$e$m$p$o$r$a$r$y$ l$i$n$k$ t$o$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$, u$s$i$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.13 node2=10.0.5.14 options linknumber=2</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ o$r$i</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 1</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ n$e$w$, m$o$d</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.11 node2=10.0.5.31 options linknumber=1</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ t$e$m$p$o$r$a$r$y</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 2</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="modifying_the_link_options_for_a_link_in_a_cluster_with_a_single_link" remap="_modifying_the_link_options_for_a_link_in_a_cluster_with_a_single_link">
<title>M$o$d$i$f$y$i$n$g$ t$h$e$ l$i$n$k$ o$p$t$i$o$n$s$ f$o$r$ a$ l$i$n$k$ </title>
<simpara>I$f$ y$o$u$r$ c$l$u$s$t$e$r$ u$s$e$s$ o$n$l$y$ o$n$e$ l$i$n$k$ a$n$d$ y$o$u$ w$a$n$t$ t$o$ m$o$d$i$f$y$ t$h$e$ o$p$t$i$o$n$s$ f$o$r$ t$h$a$t$ l$i$n$k$ b$u$t$ y$o$u$ d$o$ n$o$t$ w$a$n$t$ t$o$ c$h$a$n$g$e$ t$h$e$ </simpara>
<simpara>I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ l$i$n$k$ f$o$r$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$ i$s$ l$i$n$k$ 1, w$h$i$c$h$ u$s$e$s$ t$h$e$ a$d$d$r$e$s$s$ 10.0.</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ w$o$u$l$d$ l$i$k$e$ t$o$ c$h$a$n$g$e$ t$h$e$ l$i$n$k$ <literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$o$ m$o$d$i$f$y$ t$h$e$ l$i$n$k$ </simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$d$d$ a$ n$e$w$ t$e$m$p$o$r$a$r$y$ l$i$n$k$ t$o$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$, u$s$i$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.13 node2=10.0.5.14 options linknumber=2</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ o$r$i</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 1</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ b$a$c$k$ t$h$e$ o$r$i$g$i$n$a$l$ l$i$n$k$ w$i</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link add node1=10.0.5.11 node2=10.0.5.12 options linknumber=1 link_priority=11</literal></literallayout>
</listitem>
<listitem>
<simpara>R$e$m$o$v$e$ t$h$e$ t$e$m$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link remove 2</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="modifying_a_link_when_adding_a_new_link_is_not_possible" remap="_modifying_a_link_when_adding_a_new_link_is_not_possible">
<title>M$o$d$i$f$y$i$n$g$ a$ l$i$n$k$ w$h$e$n$ a$d$d$i$n$g$ a$</title>
<simpara>I$f$ f$o$r$ s$o$m$e$ r$e$a$s$o$n$ a$d$d$i$n$g$ a$ n$e$w$ l$i$n$k$ i$s$ n$o$t$ p$o$s$s$i$b$l$e$ i$n$ y$o$u$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ a$n$d$ y$o$u$r$ o$n$l$y$ o$p$t$i$o$n$ i$s$ t$o$ m$o$d$i$f$y$ a$ s$i$n$g$l$e$ e$x$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ p$r$o$c$e$d$u$r$e$ u$p$d$a$t$e$s$ l$i$n$k$ n$u$m$b$e$r$ 1 i$n$ t$h$e$ c$l$u$s$t$e<literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$t$o$p$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster stop --all</literal></literallayout>
</listitem>
<listitem>
<simpara>U$p$d$a$t$e$ t$h$e$ l$i$n$k$ a$d$d$r$e</simpara>
<simpara>T$h$e$ <literal>p$c$s$ c$l$u$s$t$e$r$ l$i$n$k$ u$p$d$a$t$e$</literal> c$o$m$m$a$n$d$ d$o$e$s$ n$o$t$ r$e$q$u$i$r$e$ t$h$a$t$ y$I$n$s$t$e$a$d$, y$o$u$ c$a$n$ s$p$e$c$i$f$y$ o$n$l$y$ T$h$i$s$ e$x$a$m$p$l$e$ m$o$d$i$f$i$e$s$ t$h$e$ a$d$d$r$e$s$s$e$s$ f$o$r$ <literal>n$o$d$e$1</literal> a$n$d$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster link update 1 node1=10.0.5.11 node3=10.0.5.31 options link_priority=11</literal></literallayout>
<simpara>T$o$ r$e$m$o$v$e$ a$n$ o$p$t$i$o$n$, y$o$u$ c$a$n$ s$e$t$ t$h$e$ o$p$t$i$o$n$ t$o$ a<literal><emphasis></emphasis></literal></simpara>
</listitem>
<listitem>
<simpara>R$e$s$t$a$r$t$ t$h$</simpara>
<literallayout class="monospaced">[root@node1 ~] # <literal>pcs cluster start --all</literal></literallayout>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="proc_configuring-large-clusters-clusternode-management">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ l$a$r$g$e$ c$l$u$s$t$</title>
<simpara>I$f$ t$h$e$ c$l$u$s$t$e$r$ y$o$u$ a$r$e$ d$e$p$l$o$y$i$n$g$ c$o$n$s$i$s$t$s$ o$f$ a$ l$a$r$g$e$ n$u$m$b$e$r$ o$f$ n$o$d$e$s$ a$n$d$ m$a$n$y$ r$e$s$o$u$r$c$e$s$, y$o$u$ m$a$y$ n</simpara>
<variablelist>
<varlistentry>
<term>T$h$e$ <literal>c$l$u$s$t$e$r$-i$p$c$-l$i$m$i$t</literal></term>
<listitem>
<simpara>T$h$e$ <literal>c$l$u$s$t$e$r$-i$p$c$-l$i$m$i$t$</literal> c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ i$s$ t$h$e$ m$a$x$i$m$u$m$ I$P$C$ m$e$s$s$a$g$e$ b$aW$h$e$n$ a$ l$a$r$g$e$ n$u$m$b$e$r$ o$f$ r$e$s$o$u$r$c$e$s$ a$r$e$ c$l$e$a$n$e$d$ u$p$ o$r$ o$t$h$e$r$w$i$s$e$ m$o$d$i$f$i$e$d$ s$i$m$u$l$t$a$n$e$o$u$T$h$i$s$ c$o$u$l$d$ c$a$u$s$e$ s$l$o$w$e$r$ c$l$i$e$n$t$s$ t$o$ b$e$ e$v$i$c$t$e$d$ i$f$ t$h$e$ P$a$c$e$m$a$k$e$r$ s$e$r$v$i$c$e$ d$o$e$s$ n$o$t$ h$a$v$e$ t$i$m$e$ t$o$ p$r$o$c$e$s$s</simpara>
<simpara>T$h$e$ r$e$c$o$m$m$e$n$d$e$d$ v$a$l$u$e$ o$f$ <literal>c$l$u$s$t$e$r$-i$p$c$-l$i$m$i$t$</literal> f$o$r$ u$s$e$ i$n$ l$a$r$g$e$ c$l$u$s$t$e$r$s$ i$s$ t$h$e$ n$u$m$bT$h$i$s$ v$a$l$u$e$ c$a$n$ b$e$ r$a$i$s$e$d$ i$f$ y$o$u$ s$e$e$ "E$v$i$c$t$i$n$g$ c$l$i$e$n$t$" m$e</simpara>
<simpara>Y$o$u$ c$a$n$ i$n$c$r$e$a$s$e$ t$h$e$ v$a$l$u$e$ o$f$ <literal>c$l$u$s$t$e$r$-i$p$c$-l$i$m$i$t$</literal> f$r$o$m$ i$t$s$ d$e$f$a$u<literal></literal>F$o$r$ e$x$a$m$p$l$e$, f$o$r$ a$ t$e$n$-n$o$d$e$ c$l$u$s$t$e$r$ w$i$t$h$ 200 r$e$s$o$u$r$c$e$s$ y$o$u$ c$a$n$ s$e$t$ t$h$e$ v$a$l$u$e<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set cluster-ipc-limit=2000</literal></literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>T$h$e$ <literal>P$C$M$K$_i$p$c$_b$u$f$f$e$r$</literal> P$a</term>
<listitem>
<simpara>O$n$ v$e$r$y$ l$a$r$g$e$ d$e$p$l$o$y$m$e$n$t$s$, i$n$t$e$r$n$a$l$ P$a$c$e$m$a$k$e$r$ m$e$s$s$a$g$W$h$e$n$ t$h$i$s$ o$c$c$u$r$s$, y$o$u$ w$i$l$l$ s$e$e$ a$ m$e$s$s$a$g$e$ i$n$ t$h$e$</simpara>
<literallayout class="monospaced"><literal>Compressed message exceeds <emphasis>X</emphasis><emphasis></emphasis><emphasis></emphasis></literal>% o$f$ c$o$n$f$i$g$u$r$e$d$ I$P$C$ l$i$m$i$t$ (X$ b$y$t$e$s$); c$o$n$s$i$d$e$r$ s$e$</literallayout>
<simpara>W$h$e$n$ y$o$u$ s$e$e$ t$h$i$s$ m$e$s$s$a$g$e$, y$o$u$ c$a$n$ i$n$c$r$e$a$s$e$ t$h$e$ v$a$l$u$e$ o$f$ <literal>P$C$M$K$_i$p$c$_b$u$f$f$e$r$</literal> i$n$ t<literal></literal>F$o$r$ e$x$a$m$p$l$e$, t$o$ i$n$c$r$e$a$s$e$ t$h$e$ v$a$l$u$e$ o$f$ <literal>P$C$M$K$_i$p$c$_b$u$f$f$e$r$</literal> f$r$o$m$ i$t$s$ d$e$f$a$u$l$t$ v$a$l$u$e$ t$o$ 13396332 b$y$t$e$s$, c$h$a$n$g$e$ t$h$e$ u$n$c$o$m$m$e$n$t$e$d$ <literal>P$C$M$K$_</literal><literal></literal></simpara>
<literallayout class="monospaced"><literal>PCMK_ipc_buffer=13396332</literal></literallayout>
<simpara>T$o$ a$p$p$l$y$ t$h$i$s$ c$h$a$n$g$e$, r$u$n$ t</simpara>
<literallayout class="monospaced"># <literal>systemctl restart pacemaker</literal></literallayout>
</listitem>
</varlistentry>
</variablelist>
</section>
</chapter>
<chapter xml:id="assembly_cluster-permissions-configuring-and-managing-high-availability-clusters">
<title>S$e$t$t$i$n$g$ u$s$e$r$ p$e$r$m$i$s$s$i$o$n$s$ f</title>
<simpara>Y$o$u$ c$a$n$ g$r$a$n$t$ p$e$r$m$i$s$s$i$o$n$ f$o$r$ s$p$e$c$i$f$i$c$ u$s$e$r$s$ o$t$h$e$r$ t$h$a$n$<literal></literal>T$h$e$r$e$ a$r$e$ t$w$o$ s$e$t$s$ o$f$ p$e$r$m$i$s$s$i$o$n$s$ t$h$a$t$ y$</simpara>
<itemizedlist>
<listitem>
<simpara>P$e$r$m$i$s$s$i$o$n$s$ t$h$a$t$ a$l$l$o$w$ i$n$d$i$v$i$d$u$a$l$ u$s$e$r$s$ t$o$ m$a$n$a$g$e$ t$h$e$ c$l$u$s$t$e$r$ t$h$r$o$u$g$h$ t$h$e$ W$e$b<literal role="command"></literal>C$o$m$m$a$n$d$s$ t$h$a$t$ c$o$n$n$e$c$t$ t$o$ n$o$d$e$s$ o$v$e$r$ a$ n$e$t$w$o$r$k$ i$n$c$l$u$d$e$ c$o$m$m$a$n$d$s$ t$o$ s$e$</simpara>
</listitem>
<listitem>
<simpara>P$e$r$m$i$s$s$i$o$n$s$ f$o$r$ l$o$c$a$l$ u$s$e$r$s$ t$o$ a$l$l$o$w$ r$e$a$d$-o$n$l$y$ o$r$ r$e$a$C$o$m$m$a$n$d$s$ t$h$a$t$ d$o$ n$o$t$ r$e$q$u$i$r$e$ c$o$n$n$e$c$t$i$n$g$ o$v$e$r$ a$ n$e$t$w$o$r$k$ i$n$c$l$u$d$e$ c$o$m$m$a$n$d$s$ t$h$a$t$ e$d$i$t$ t$h$e$ c$l$u$s$t$e$r</simpara>
</listitem>
</itemizedlist>
<simpara>I$n$ s$i$t$u$a$t$i$o$n$s$ w$h$e$r$e$ b$o$t$h$ s$e$t$s$ o$f$ p$e$r$m$i$s$s$i$o$n$s$ h$a$v$e$ b$e$e$n$ a$s$s$i$g$n$e$d$, t$h$e$ p$e$r$m$i$s$s$i$o$n$s$ f$o$r$ c$o$m$m$a$n$d$s$ t$h$a$t$ c$o$n$n$e$c$t$ o$v$e$r$ a$ n$e$t$w$o$r$k$ a$r$e$M$o$s$t$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$s$ d$o$ n$o$t$ r$e$q$u$i$r$e$ n$e$t$w$o$r$k$ a$c$c$e$s$s$ a$n$d$ i$n$ t$h$o$</simpara>
<section xml:id="proc_setting-cluster-access-over-network-cluster-permissions">
<title>S$e$t$t$i$n$g$ p$e$r$m$i$s$s$i$o$n$s$ f$o$r$ n$o$d</title>
<simpara>T$o$ g$r$a$n$t$ p$e$r$m$i$s$s$i$o$n$ f$o$r$ s$p$e$c$i$f$i$c$ u$s$e$r$s$ t$o$ m$a$n$a$g$e$ t$h$e$ c$l$u$s$t$e$r$ t$h$r$o$u$g$h$ t$h$e$ W$e$b$ U$I$ a$n$d$ t$o$ r$u$n$ <literal role="command">p$c$s$</literal> c$o$m$m$<literal></literal>T$h$i$s$ m$u$s$t$ b$e$ d$o$n$e$ o$n$ e$v$e$r$y$</simpara>
</section>
<section xml:id="proc_setting-local-cluster-permissions-cluster-permissions">
<title>S$e$t$t$i$n$g$ l$o$c$a$l$ p$e$r$m$i$</title>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ a$c$l$</literal> c$o$m$m$a$n$d$ t$o$ s$e$t$ p$e$r$m$i$s$s$i$o$n$s$ f$o$r$ l$o$c$a$l$ u$s$e$r$s$ t$o$ a$l$l$o$w$ r$e$a$d$-o$n$l$y$ o$r$ r$e$a$d$-w$r$</simpara>
<simpara>B$y$ d$e$f$a$u$l$t$, A$C$L$s$ a$rW$h$e$n$ A$C$L$s$ a$r$e$ n$o$t$ e$n$a$b$l$e$d$, t$h$e$ r$o$o$t$ u$s$e$r$ a$n$d$ a$n$y$ u$s$e$r$ w$h$o$ i$s$ a$ m$e$m$b$e$r$ o$f$ t$h$e$ g$r$o$u$p$ <literal>h$a$c$l$i$e$n$t$</literal> o$n$ a$l$l$ n$o$d$e$s$ h$a$s$ f$u$l$l$ l$o$c$a$l$ r$e$a$d$/w$r<literal></literal>W$h$e$n$ A$C$L$s$ a$r$e$ e$n$a$b$l$e$d$, h$o$w$e$v$e$r$, e$v$e$n$ u$s$e$r$s$ w$h$o$ a$r$e$ m$e$m$b$e$r$s$ o$f$ t$h$e$ <literal>h$a$c$l$i$e$n$t$</literal> g$r$o$u$p$ h$</simpara>
<simpara>S$e$t$t$i$n$g$ p$e$r$m$i$s$s$i$o$n$s$ f$o$r$ l$o$c$a$l$ u$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>E$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ a$c$l$ r$o$l$e$ c$r$e$a$t$e$…</literal> c$o$m$m$a$n$d$ t$o$ c$r$e$a$t$e$ a$ <emphasis>r$o$l$e</emphasis></simpara>
</listitem>
<listitem>
<simpara>A$s$s$i$g$n$ t$h$e$ r$o$l$e$ y$o$u$ c$r$e$a$t$e$d$ t$o$ a$ u$s$e$r$ w$i$t$h<literal role="command"></literal>I$f$ y$o$u$ a$s$s$i$g$n$ m$u$l$t$i$p$l$e$ r$o$l$e$s$ t$o$ t$h$e$ s$a$m$e$ u$s$e$r$, a$n$y$ <literal>d$e$n$y$</literal> p$e$r$m<literal></literal><literal></literal></simpara>
</listitem>
</orderedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ p$r$o$c$e$d$u$r$e$ p$r$o$v$i$d$e$s$ r$e$a$d$-o$n$l$y$ a$c$c$e$s$s$ f$o$r$ <literal></literal>N$o$t$e$ t$h$a$t$ i$t$ i$s$ a$l$s$o$ p$o$s$s$i$b$l$e$ t$o$ r$e$s$t$r$i$c$t$ a$c$c$e$s$s$ t$o$ c</simpara>
<warning>
<simpara>I$t$ i$s$ i$m$p$o$r$t$a$n$t$ t$o$ p$e$r$f$o$r$m$ t$h$i$s$ p$r$o$c$e$d$u$r$e$ a$s$ r$o$o$t$ o$r$ t$o$ s$a$v$e$ a$l$l$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ u$p$d$a$t$e$s$ t$o$ O$t$h$e$r$w$i$s$e$, y$o$u$ c$a$n$ l$o$c$k$ y$o$u$r$s$e$l$f$ o$u$t$ F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$a$v$i$n$g$ c$o$n$f$i$g$u$r$a$t$i$o$n$ u$p$d$a$t$e$s$ t$o$ a$ w$o$r$k$i$n$g$ f$i$l$<link linkend="proc_configure-testfile-pcs-operation"></link></simpara>
</warning>
<orderedlist numeration="arabic">
<listitem>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ r$e$q$u$i$r$e$s$ t$h$a$t$ t$h$e$ u$s$e$r$ <literal>r$o$u$s$e$r$</literal> e$x$i$s$t$s$ o$n$ t$h$e$ l$o$c$a$l$ s$y$s$t$e$m$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>adduser rouser</literal>
# <literal>usermod -a -G haclient rouser</literal></literallayout>
</listitem>
<listitem>
<simpara>E$n$a$b$l$e$ P$a$c$e$m$a$k$e$r$ A$C$L$s$ w$i$t$h$ t$h$<literal role="command"></literal></simpara>
<literallayout class="monospaced"># <literal>pcs acl enable</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ r$o$l$e$ n$a$m$e$d$ <literal>r$e$a$d$-o$n$l$y$</literal> w$i$t$h$ r$e$a$</simpara>
<literallayout class="monospaced"># <literal>pcs acl role create read-only description="Read access to cluster" read xpath /cib</literal></literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ u$s$e$r$ <literal>r$o$u$s$e$r$</literal> i$n$ t$h$e$ p$c$s$ A$C$L$ s$y$s$t$e$m$ a$n$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs acl user create rouser read-only</literal></literallayout>
</listitem>
<listitem>
<simpara>V$i$e$w$ t$h$e$ c$u$r$</simpara>
<literallayout class="monospaced"># <literal>pcs acl</literal>
User: rouser
  Roles: read-only
Role: read-only
  Description: Read access to cluster
  Permission: read xpath /cib (read-only-read)</literallayout>
</listitem>
<listitem>
<simpara>O$n$ e$a$c$h$ n$o$d$e$ w$h$e$r$e$ <literal>r$o$u$s$e$r$</literal> w$i$l$l$ r$u$n$ <literal>p$c$s$</literal> c$o$m$m$a$n$d$s$, l$o$g$ i$n$ a$s$ <literal>r$o$</literal><literal></literal>T$h$i$s$ i$s$ r$e$q$u$i$r$e$d$ i$n$ o$r$d$e$r$ t$o$ r$u$n$ c$e$r$t$a$i$n$ <literal>p$c$s$</literal> c$o$m$m$a$<literal></literal></simpara>
<literallayout class="monospaced">[rouser ~]$ <literal>pcs client local-auth</literal></literallayout>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_resource-monitoring-operations-configuring-and-managing-high-availability-clusters">
<title>R$e$s$o$u$r$c$e$ m$o$n$i$t$o$r</title>
<simpara>T$o$ e$n$s$u$r$e$ t$h$a$t$ r$e$s$o$u$r$c$e$s$ r$e$m$a$i$n$ h$e$a$l$t$h$y$, y$o$u$ c$a$n$ a$d$d$ a$ m$o$I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$ f$o$r$ a$ r$e$s$o$u$r$c$e$, b$y$ d$e$f$a$u$l$t$ t$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ w$i$l$l$ c$r$e$a$t$e$ aI$f$ t$h$e$ r$e$s$o$u$r$c$e$ a$g$e$n$t$ d$o$e$s$ n$o$t$ p$r$o$v$i$d$e$ a$ d$e$f$a$u$l$t$ m$o$n$i$t$o$r$i$n$g$ i$n$t$e$r$v$a$l$, t$h$e$ p$c$s$ c$o$m$m$a$</simpara>
<simpara><xref linkend="tb-resource-operation-HAAR"/> s$u$m$m$a$r$i$z$e$s$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ o$f$ a$ r$e$</simpara>
<table xml:id="tb-resource-operation-HAAR" frame="all" rowsep="1" colsep="1">
<title>P$r$o$p$e$r$t$i$e$s$ o$f$ </title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="25*"/>
<colspec colname="col_2" colwidth="75*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>i$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>U$n$i$q$u$e$ n$a$m$e$ f$o$rT$h$e$ s$y$s$t$e$m$ a$s$s$i$g$n$s$ t$h$i$s$ w$h$e$n$ y$o</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>n$a$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ a$c$t$i$o$n$ t$C$o$m$m$o$n$ v$a$l$u$e$s$: <literal>m$o$n$i$</literal><literal></literal><literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>i$n$t$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ s$e$t$ t$o$ a$ n$o$n$z$e$r$o$ v$a$l$u$e$, a$ r$e$c$u$r$r$i$n$g$ o$p$e$r$a$t$i$o$n$ i$s$ c$r$e$a$t$A$ n$o$n$z$e$r$o$ v$a$l$u$e$ m$a$k$e$s$ s$e$n$s$e$ o$n$l$y$ w$h$e$n$ t$h<literal></literal><literal></literal>A$ r$e$c$u$r$r$i$n$g$ m$o$n$i$t$o$r$ a$c$t$i$o$n$ w$i$l$l$ b$e$ e$x$e$c$u$t$e$d$ i$m$m$e$d$i$a$t$e$l$y$ a$f$t$e$r$ a$ r$e$s$o$u$r$c$e$ s$t$a$r$t$ c$o$m$p$l$e$t$e$s$, a$n$d$ s$u$b$s$e$q$u$e$n$t$ F$o$r$ e$x$a$m$p$l$e$, i$f$ a$ m$o$n$i$t$o$r$ a$c$t$i$o$n$ w$i$t$h$ <literal>i$n$t$e$r$v$a$l$=20s$</literal> i$s$ e$x$e$c$u$t$e$d$ a$t$ 01:00:00, t$h$e$ n$e$x$t$ m$o$n$i$t$o$r$ a$c$t$i$o$n$ d$o$e$s$ n$o$t$ </simpara><simpara>I$f$ s$e$t$ t$o$ z$e$r$o$, w$h$i$c$h$ i$s$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$, t$h$i$s$ p$a$r$a$m$e$t$e$r$ a$l$l$o$w$s$ y$o$u$ t$o$ p$r$o$vF$o$r$ e$x$a$m$p$l$e$, i$f$ t$h$e$ <literal>i$n$t$e$r$v$a$l$</literal> i$s$ s$e$t$ t$o$ z$e$r$o$, t$h$e$ <literal>n$a$m$e$</literal> o$f$ t$h$e$ o$p$e$r$a$t$i$o$n$ i$s$ s$e$t$ t$o$ <literal>s$t$a$r$t$</literal>, a$n$d$ t$h$e$ <literal>t$i$m$e$o$u$t$</literal> v$a$l$u$e$ i$s$ A$ <literal>m$o$n$i$t$o$r$</literal> o$p$e$r$a$t$i$o$n$ w$i$t$h$ a$ z$e$r$o$ i$n$t$e$r$v$a$l$ a$l$l$o$w$s$ y$o$u$ t$o$ s$e$t$ t$h$e$ <literal>t$i$m$e$o$u$t$</literal>/<literal>o$n$-f$a$i$l$</literal>/<literal>e$n$a$b$l$e$d$</literal> v$a$l$u$e$s$ f$o$r$ t$h$e$ p$r$o$b$e$s$ t$h$a$t$ P$a$c$e$m$a$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>t$i$m$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ t$h$e$ o$p$e$r$a$t$i$o$n$ d$o$e$s$ n$o$t$ c$o$m$p$l$e$t$e$ i$n$ t$h$e$ a$m$o$u$n$t$ o$f$ t$i$m$e$ s$e$t$ b$y$ t$h$i$s$T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ i$s$ t$h$e$ v$a$l$u$e$ o$f$ <literal>t$i$m$e$o$u$t$</literal> i$f$ s$e$t$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$</literal>I$f$ y$o$u$ f$i$n$d$ t$h$a$t$ y$o$u$r$ s$y$s$t$e$m$ i$n$c$l$u$d$e$s$ a$ r$e$s$o$u$r$c$e$ t$h$a$t$ r$e$q$u$i$r$e$s$ m$o$r$e$ t$i$m$e$ t$h$a$n$ t$h$e$ s$y$s$t$e$m$ a$l$l$o$w$s$ t$o$ p$e$r$f$o$r$m$ a$n$ o$p$e$r$a$t$i$o$n$ (s$u$c$h$ a$s$ <literal>s$t$a$r$t$</literal>, <literal>s$t$o</literal><literal></literal></simpara><simpara>T$h$e$ <literal>t$i$m$e$o$u$t$</literal> v$a$l$u$e$ i$s$ n$o$t$ a$ d$e$l$a$y$ o$f$ a$n$y$ k$i$n$d$, n$o$r$ d$o$e$s$ t$h$e$ c$l$u$s$t$e$r$ w$a$i$t$ t$h$e$ e$n$t$i$r$e$ t$i$m$e$o$u$t$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>o$n$-f$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ a$c$t$i$o$n$ t$o$ t$a$k$e$ i$f$ t$h$i$A$l$l$o$w$e$d$ </simpara><simpara>* <literal>i$g$n$o$r$e$</literal> - P$r$e$t$e$n$d$ t$h$e$ r$e$s</simpara><simpara>* <literal>b$l$o$c$k$</literal> - D$o$ n$o$t$ p$e$r$f$o$r$m$ a$n$y$ f$u$r$t$h$e$r$</simpara><simpara>* <literal>s$t$o$p$</literal> - S$t$o$p$ t$h$e$ r$e$s$o$u$r$c$e$ a$n$d$ d$o</simpara><simpara>* <literal>r$e$s$t$a$r$t$</literal> - S$t$o$p$ t$h$e$ r$e$s$o$u$r$c$e$ a$n$d$ s$t$a$r$t$ i$t$ a$g$</simpara><simpara>* <literal>f$e$n$c$e$</literal> - S$T$O$N$I$T$H$ t$h$e$ n$o$d$e$ o$n$ w$h$</simpara><simpara>* <literal>s$t$a$n$d$b$y$</literal> - M$o$v$e$ <emphasis>a$l$l$</emphasis> r$e$s$o$u$r$c$e$s$ a$w$a$y$ f$r$o$m$ t$h$e$</simpara><simpara>* <literal>d$e$m$o$t$e$</literal> - W$h$e$n$ a$ <literal>p$r$o$m$o$t$e$</literal> a$c$t$i$o$n$ f$a$i$l$s$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$, t$h$e$ r$e$s$o$uW$h$e$n$ a$ <literal>m$o$n$i$t$o$r$</literal> a$c$t$i$o$n$ f$a$i$l$s$ f$o$r$ a$ r$e$s$o$u$r$c$e$, i$f$ <literal>i$n$t$e$r$v$a$l$</literal> i$s$ s$e$t$ t$o$ a$ n$o$n$z$e$r$o$ v$a$l$u$e$ a$n$d$ <literal>r$o$l$e$</literal> i$s$<literal></literal></simpara><simpara>T$h$e$ d$e$f$a$u$l$t$ f$o$r$ t$h$e$ <literal>s$t$o$p$</literal> o$p$e$r$a$t$i$o$n$ i$s$ <literal>f$e$n$c$e$</literal> w$h$e$n$<literal></literal>A$l$l$ o$t$h$e$r$ o$p$e$r$a$t$i$o$n$s$ d<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>e$n$a$b</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ <literal>f$a$l$s$e$</literal>, t$h$e$ o$p$e$r$a$t$i$o$n$ i$s$ t$r$e$a$t$eA$l$l$o$w$e$d$ v$a$l$u$e$s$<literal></literal><literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<section xml:id="proc_configuring-resource-monitoring-operations-resource-monitoring-operations">
<title>C$o$n$f$i$g$u$r$i$n$g$ r$e$s$o$u$r$c$e$ m$</title>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$s$ w$h$e$n$ y$o$u$ c$r$e</simpara>
<literallayout class="monospaced">pcs resource create <emphasis>resource_id</emphasis> <emphasis>standard:provider:type|type</emphasis> [<emphasis>resource_options</emphasis>] [op <emphasis>operation_action</emphasis> <emphasis>operation_options</emphasis> [<emphasis>operation_type</emphasis> <emphasis>operation_options</emphasis>]...]</literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ a$n$ <literal>I$P$a$d</literal>T$h$e$ n$e$w$ r$e$s$o$u$r$c$e$ i$s$ c$a$l$l$e$d$ <literal>V$i$r$t$u$a$l$I$P$</literal> w$i$t$h$ a$n$ I$P$ a$d$d$r$e$s$s<literal></literal>A$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$ w$i$l$l$ b$e$ p</simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.99 cidr_netmask=24 nic=eth2 op monitor interval=30s</literal></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ a$d$d$ a$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$ t$o$ a$n$ e</simpara>
<literallayout class="monospaced">pcs resource op add <emphasis>resource_id</emphasis> <emphasis>operation_action</emphasis> [<emphasis>operation_properties</emphasis>]</literallayout>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ d$e$l$e$t$e$ a$</simpara>
<literallayout class="monospaced">pcs resource op remove <emphasis>resource_id</emphasis> <emphasis>operation_name</emphasis> <emphasis>operation_properties</emphasis></literallayout>
<note>
<simpara>Y$o$u$ m$u$s$t$ s$p$e$c$i$f$y$ t$h$e$ e$x$a$c$t$ o$p$e$r$a$t$i$o$n$ p$r$o$p$e$r$t$i$e$s$ </simpara>
</note>
<simpara>T$o$ c$h$a$n$g$e$ t$h$e$ v$a$l$u$e$s$ o$f$ a$ m$o$n$i$t$o$r$i$n$g$ o$p$t$F$o$r$ e$x$a$m$p$l$e$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ <literal>V$i$r$t$u$a$l$</literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.99 cidr_netmask=24 nic=eth2</literal></literallayout>
<simpara>B$y$ d$e$f$a$u$l$t$, t$h$i$s$ c$o$m$m$a$n$d$ c$r$e</simpara>
<literallayout class="monospaced">Operations: start interval=0s timeout=20s (VirtualIP-start-timeout-20s)
            stop interval=0s timeout=20s (VirtualIP-stop-timeout-20s)
            monitor interval=10s timeout=20s (VirtualIP-monitor-interval-10s)</literallayout>
<simpara>T$o$ c$h$a$n$g$e$ t$h$e$ s$t$o$p$ t$i$m$e$o$u$t$ o$p$e$r$a$t$i$o$n$,</simpara>
<literallayout class="monospaced"># <literal>pcs resource update VirtualIP op stop interval=0s timeout=40s</literal>

# <literal>pcs resource show VirtualIP</literal>
 Resource: VirtualIP (class=ocf provider=heartbeat type=IPaddr2)
  Attributes: ip=192.168.0.99 cidr_netmask=24 nic=eth2
  Operations: start interval=0s timeout=20s (VirtualIP-start-timeout-20s)
              monitor interval=10s timeout=20s (VirtualIP-monitor-interval-10s)
              stop interval=0s timeout=40s (VirtualIP-name-stop-interval-0s-timeout-40s)</literallayout>
</section>
<section xml:id="proc_configuring-global-resource-operation-defaults-resource-monitoring-operations">
<title>C$o$n$f$i$g$u$r$i$n$g$ g$l$o$b$a$l$ r$e$s$o$u$</title>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.3, y$o$u$ c$a$n$ c$h$a$n$g$e$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$<literal></literal>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ a$ g$l$o$b$a$l$ d$e$f$a$u$l$t$ o$f$ a$ <literal>t$i$m$e$o$u$t$</literal> v$a$</simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults update timeout=240s</literal></literallayout>
<simpara>T$h$e$ o$r$i$g$i$n$a$l$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ o$p$ d$e$f$a$u$l$t$s$ <emphasis>n$a$m$e$</emphasis>=<emphasis>v$a$l$u$e$</emphasis></literal> c$o$m$m$a$n$d$, w$h$i$c$h$ s$e$t$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$o$n$ d$e$f$a$u$l$t$s$ f$o$r$ a$l$l$ r$e$s$o$u$r$c$e$s$ i$n$ p$rH$o$w$e$v$e$r$, <literal>p$c$s$ r$e$s$o$u$r$c$e$ o$p$ d$e$f$a$u$l$t$s$ u$p$d$a$t$e$</literal> i$s$ n$o$w</simpara>
<section xml:id="overriding_resource_specific_operation_values" remap="_overriding_resource_specific_operation_values">
<title>O$v$e$r$r$i$d$i$n$g$ r$e$s$o$u$r$c$e$-s$p$e$c</title>
<simpara>N$o$t$e$ t$h$a$t$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ w$i$l$l$ u$s$e$ t$h$e$ g$l$o$b$a$l$ d$e$f$a$u$l$t$ o$n$l$y$ w$h$e$n$ t$h$e$ oB$y$ d$e$f$a$u$l$t$, r$e$s$o$u$r$c$e$ a$g$e$n$t$s$ d$e$f$i$n$e$ t$h$e$ <literal>t$</literal>F$o$r$ t$h$e$ g$l$o$b$a$l$ o$p$e$r$a$t$i$o$n$ t$i$m$e$o$u$t$ v$a$l$u$e$ t$o$ b$e$ h$o$n$o$r$e$d$, y$o$u$ m$u$s$t$ c$r$e$a$t$e$ t$h$e$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ w$i$t$h$o$u$t$ t$h$e$ <literal>t$i$m$e$o$u$t$</literal> o$p$t$i$o$n$ e$x$p$l$i$c$i<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource update VirtualIP op monitor interval=10s</literal></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, a$f$t$e$r$ s$e$t$t$i$n$g$ a$ g$l$o$b$a$l$ d$e$f$a$u$l$t$ o$f$ a$ <literal>t$i$m$e$o$u$t$</literal> v$a$l$u$e$ o$f$ 240 s$e$c$o$n$d$s$ f$o$r$ a$l$l$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$s$ a$n$d$ u$p$d$a$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ <literal>V$i$r$t$u$a$l$I$P$</literal> t$o$ r$e$m$o$v$e$ t$h$e$ t$i$m$e$o$u$t$ v$a$l$u$e$ f$o$r$ t<literal></literal><literal></literal><literal></literal><literal></literal><literal></literal>T$h$e$ g$l$o$b$a$l$ d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ t$i$m$e$o$u$t$ o$p$e$r$a$t$i$o$n$s$ i$s$ a$p$p$l$i$e$d$ h$e$r$e$ o$n$l$y$ o$n$ t$h$e$ <literal>m$o$n$i$t$o$r$</literal> o$p$e$r$a$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource show VirtualIP</literal>
 Resource: VirtualIP (class=ocf provider=heartbeat type=IPaddr2)
   Attributes: ip=192.168.0.99 cidr_netmask=24 nic=eth2
   Operations: start interval=0s timeout=20s (VirtualIP-start-timeout-20s)
               monitor interval=10s (VirtualIP-monitor-interval-10s)
               stop interval=0s timeout=40s (VirtualIP-name-stop-interval-0s-timeout-40s)</literallayout>
</section>
<section xml:id="changing_the_default_value_of_a_resource_operation_for_sets_of_resources_rhel_8_3_and_later" remap="_changing_the_default_value_of_a_resource_operation_for_sets_of_resources_rhel_8_3_and_later">
<title>C$h$a$n$g$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ a$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$o$n$</title>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.3, y$o$u$ c$a$n$ c$r$e$a$t$e$ m$u$l$t$i$p$l$e$ s$e$t$s$ o$f$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$o$n$ d$e$f$a$u$l$t$s$ w$i$t$h$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ o$p$ d$e$f$a$u$l$t$s$ </literal><literal></literal>I$n$ R$H$E$L$ 8.3, o$n$l$y$ <literal>r$e$s$o$u$r$c$e$</literal> a$n$d$ o$p$e$r$a$t$i$o$n$ e$x$p$r$e$s$s$i$o$n$s$, i$n$c$l$u$d$i$n$g$ <literal>a$n$d$</literal>, <literal>o$r$</literal> a$n$d$ p$a$r$e$n$tI$n$ R$H$E$L$ 8.4 a$n$d$ l$a$t$e$r$, a$l$l$ o$f$ t$h$e$ o$t$h$e$r$ r$u$l$e$ e$x$p$r$e$s$s$i$o$n$s$ s</simpara>
<simpara>W$i$t$h$ t$h$i$s$ c$o$m$a$n$d$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ d$e$f$a$u$l$t$ r$e$s$o$u$r$c$e$ o$p$e$r$a$F$o$r$ e$x$a$m$p$l$e$, i$t$ i$s$ n$o$w$ p$o$s$s$i$b$l$e$ t$o$ c$o$n$f$i$g$u$r$e$ i$m$p$l$i$c$i$t$ <literal>p$o$d$m$a$n$</literal> r$e$s</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ a$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 90s<literal></literal>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, <literal>::p$o$d$m$a$n$</literal> m$e$a$n$s$ a$ r$e$s$o$u$r$c$e$ o$f$ a$n$y<literal></literal></simpara>
<simpara>T$h$e$ <literal>i$d$</literal> o$p$t$i$o$n$, w$h$i$c$h$ n$a$m$e$s$ t$h$e$ s$e$t$ o$f$ r$e$s$o$u$r$c$e$ I$f$ y$o$u$ d$o$ n$o$t$ s$e$t$ t$h$i$s$ o$p$t$i$o$n$, <literal>p$c$s$</literal> w$i$l$l$S$e$t$t$i$n$g$ t$h$i$s$ v$a$l$u$e$ a$l$l$o$w$s$ y$o$u$ t$o$ p$r$o</simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults set create id=podman-timeout meta timeout=90s rule resource ::podman</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ a$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 1<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults set create id=stop-timeout meta timeout=120s rule op stop</literal></literallayout>
<simpara>I$t$ i$s$ p$o$s$s$i$b$l$e$ t$o$ s$e$t$ t$h$e$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ f$o$r$ a$ s$p$e$c$i$f$i$cT$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$e$t$s$ a$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 120s$ f$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults set create id=podman-stop-timeout meta timeout=120s rule resource ::podman and op stop</literal></literallayout>
</section>
<section xml:id="displaying_currently_configured_resource_operation_default_values" remap="_displaying_currently_configured_resource_operation_default_values">
<title>D$i$s$p$l$a$y$i$n$g$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ r$e$</title>
<simpara>T$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ o$p$ d$e$f$a$u$l$t$s$</literal> c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ a$ l$i$s$t$ o$f$ c$u$r$r$e$n$t$l$y$ c$o$n$f$i$g$u$r$e$d$ d$e$f$a$u</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ d$e$f$a$u$l$t$ o$p$e$r$a$t$i$o$n$ v$a$l$u$e$s$ f$o$r$ a$ c$l$u$s$t$e$r$ w$h$i$c$h$ h$a$s$ b$e$e$n$ c$o$n$f$i$g$u$r$e$d$ w$i$t$h$ a$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 90s$ f$o$r$ a$l$l$ o$p$e$r$a$t$i<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults</literal>
Meta Attrs: podman-timeout
  timeout=90s
  Rule: boolean-op=and score=INFINITY
    Expression: resource ::podman</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ d$i$s$p$l$a$y$s$ t$h$e$ d$e$f$a$u$l$t$ o$p$e$r$a$t$i$o$n$ v$a$l$u$e$s$ f$o$r$ a$ c$l$u$s$t$e$r$ w$h$i$c$h$ h$a$s$ b$e$e$n$ c$o$n$f$i$g$u$r$e$d$ w$i$t$h$ a$ d$e$f$a$u$l$t$ t$i$m$e$o$u$t$ v$a$l$u$e$ o$f$ 120s$ f$o$r$ t$h$e$ <literal>s$t$o$p$</literal> o$p$e$r$a$t$i<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs resource op defaults</literal>
Meta Attrs: podman-stop-timeout
  timeout=120s
  Rule: boolean-op=and score=INFINITY
    Expression: resource ::podman
    Expression: op stop</literallayout>
</section>
</section>
<section xml:id="proc_configuring-multiple-monitoring-operations-resource-monitoring-operations">
<title>C$o$n$f$i$g$u$r$i$n$g$ m$u$l$t$i$p$l$e$ m$</title>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ s$i$n$g$l$e$ r$e$s$o$u$r$c$e$ w$i$t$h$ a$s$ m$a$n$y$ m$o$n$i$I$n$ t$h$i$s$ w$a$y$ y$o$u$ c$a$n$ d$o$ a$ s$u$p$e$r$f$i$c$i$a$l$ h$e$a$l$t$h$ c$h$e$c$k$ e$v$e$r$y$ m$i$n$u$t$e$ a$n$d</simpara>
<note>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ m$u$l$t$i$p$l$e$ m$o$n$i$t$o$r$ o$p$e$r$a$t$i$o$n$s$, y$o$u$ m$u$s$t$ e$n$s$u$r$e$ t$h$a</simpara>
</note>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$d$d$i$t$i$o$n$a$l$ m$o$n$i$t$o$r$i$n$g$ o$p$e$r$a$t$i$o$n$s$ f$o$r$ a$ r$e$s$o$u$r$c$e$ t$h$a$t$ s$u$p$p$o$r$t$s$ m$o$r$e$ i$n$<literal><emphasis></emphasis></literal></simpara>
<simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ c$o$n$f$i$g$u$r$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ <literal>I$P$a$d$d$r$2</literal> r$e$s$o$u$r$c$e$, b$y$ d$e$f$a$u$l$t$ t$h$i$s$ c$r$e$a$t$e$s$ a$ m$o$n$i$t$o$r$i</simpara>
<literallayout class="monospaced"># <literal>pcs resource create VirtualIP ocf:heartbeat:IPaddr2 ip=192.168.0.99 cidr_netmask=24 nic=eth2</literal></literallayout>
<simpara>I$f$ t$h$e$ V$i$r$t$u$a$l$ I$P$ s$u$p$p$o$r$t$s$ a$ d$i$f$f$e$r$e$n$t$ c$h$e$c$k$ w$i$t$h$ a$ d$e$p$t$h$ o$f$ 10, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$a$u$s$e$s$ P$a$c$e$m$a$k$e$r$ t$o$ p$e$r$f$o$r$m$ t$h$e$ m$o$r$e$ a$d$(A$s$ n$o$t$e$d$, y$o$u$ s$h$o$u$l$d$ n$o$t$ c$o$n$f$i$g$u$r$e$ t$h$e$ a$d$d$i$t$i$o$n$a$l$ m$o$n$i$t$o$r$i</simpara>
<literallayout class="monospaced"># <literal>pcs resource op add VirtualIP monitor interval=60s OCF_CHECK_LEVEL=10</literal></literallayout>
</section>
</chapter>
<chapter xml:id="assembly_controlling-cluster-behavior-configuring-and-managing-high-availability-clusters">
<title>P$a$c$e$m$a$k$e$r$ c$l$u$s$t</title>
<simpara>C$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$s$ c$o$n$t$r$o$l$ h$o$w$ t$h$e$ c$l$u$s$t$e$r$ b$e$h$a$v$e$s$ w$h$e$n$ c$o$n$f$r$o$n$t$e$d</simpara>
<section xml:id="ref_cluster-properties-options-controlling-cluster-behavior">
<title>S$u$m$m$a$r$y$ o$f$ c$l$u$s$t$e$r$ p$r$o$</title>
<simpara><xref linkend="tb-clusterprops-HAAR"/> s$u$m$m$a$r$i$e$s$ t$h$e$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$s$, s$h$o$w$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$s$ o$f$ t$h$e$ p$</simpara>
<simpara>T$h$e$r$e$ a$r$e$ a$d$d$i$t$i$o$n$a$l$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$s$e$ p$r$o$p$e$r$t$i$e$s$, s$e$e$ <link linkend="ref_advanced-fence-device-properties-configuring-fencing">A$d$v</link></simpara>
<note>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ p$r$o$p$e$r$t$i$e$s$ d$e$s$c$r$i$b$e$d$ i$n$ t$h$i$s$ t$a$b$l$e$, t$h$e$r$e$ a$r$e$ a$d$d$i$t$i$o$n$a$F$o$r$ t$h$e$s$e$ p$r$o$p$e$r$t$i$e$s$, i$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ y$o$u$ n$o$</simpara>
</note>
<table xml:id="tb-clusterprops-HAAR" frame="all" rowsep="1" colsep="1">
<title>C$l$u$s$t$e$r$ P$r</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="29*"/>
<colspec colname="col_2" colwidth="29*"/>
<colspec colname="col_3" colwidth="43*"/>
<thead>
<row>
<entry align="left" valign="top">O$p$t$</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>b$a$t$c$h$-</literal></simpara></entry>
<entry align="left" valign="top"><simpara>0</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ r$e$s$o$u$r$c$e$ a$c$t$i$o$n$s$ t$h$a$t$ t$h$e$ c$l$u$s$tT$h$e$ "c$o$r$r$e$c$t$" v$a$l$u$e$ w$i$l$l$ d$e$p$e$n$d$ o$n$ t$h$e$ s$p$e$e$d$ a$n$d$ lT$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ 0 m$e$a$n$s$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ d$y$n$a$m$i$c$a$l$l$y</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$i$g$r$a$t$i$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>-1 (u$n$l$i$m$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ m$i$g$r$a$t$i$o$n$ j$o$b$s$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ i$s$ a</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>n$o$-q$u$o$r$u$m</literal></simpara></entry>
<entry align="left" valign="top"><simpara>s$t$</simpara></entry>
<entry align="left" valign="top"><simpara>W$h$a$t$ t$o$ d$o$ w$h$e$n$ t$h$e$ c$l$u$s$t$e$r$A$l$l$o$w$e$d$ </simpara><simpara>* i$g$n$o$r$e$ - c$o$n$t$i$n$u$e$ a$l$l$ r$</simpara><simpara>* f$r$e$e$z$e$ - c$o$n$t$i$n$u$e$ r$e$s$o$u$r$c$e$ m$a$n$a$g$e$m$e$n$t$, b$u$t$ d$o$ n$o$t$ r$e$c$o$v$e$r$ r$e</simpara><simpara>* s$t$o$p$ - s$t$o$p$ a$l$l$ r$e$s$o$u$r$c$e$s$ i$n$ t$h$e$ a</simpara><simpara>* s$u$i$c$i$d$e$ - f$e$n$c$e$ a$l$l$ n$o$d$e$s$ i$n$ t$h$e$ a</simpara><simpara>* d$e$m$o$t$e$ - i$f$ a$ c$l$u$s$t$e$r$ p$a$r$t$i$t$i$o$n$ l$o$s$e$s$ q$u$o$r$u$m$, d$e$m$o$t$e$ a$n$y$ p$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$y$m$m$e$t$r$i$c</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ r$e$s$o$u$r$c$e$s$ c$a$n$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$u$s$t$e$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>R$o$u$n$d$ t$r$i$p$ d$e$l$a$y$ o$v$e$r$ t$h$e$ n$e$t$w$o$r$k$ (T$h$e$ "c$o$r$r$e$c$t$" v$a$l$u$e$ w$i$l$l$ d$e$p$e$n$d$ o$n$ t$h$e$ s$p$e$e$d$ a$n$d$ l</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$p$-o$r$p$h$a$n$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ d$e$l$e$t$e$d$ r$e$s</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$p$-o$r$p$h$a$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ d$e$l$e$t$e$d$ a$c$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$a$r$t$-f$a$i$l$u$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>t$r$</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ a$ f$a$i$l$u$r$e$ t$o$ s$t$a$r$t$ a$ r$e$s$o$u$r$c$e$ o$n$ a$ p$a$r$t$i$c$u$l$a$W$h$e$n$ s$e$t$ t$o$ <literal>f$a$l$s$e$</literal>, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ d$e$c$i$d$e$ w$h$e$t$h$e$r$ t$o$ t$r$y$ s$t$a$r$t$i$n$g$ o$n$ t$h$e$ s$a$m$e$ n$o$d$e$ a$g$a$i$nF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$e$t$t$i$n$g$ t$h$e$ <literal>m$i$g$r$a$t$i$o$n$-t$h$r$e$s$h$o$l$d$</literal> o$p$t$i$o$n$ f$o$<link linkend="proc_configuring-resource-meta-options-configuring-cluster-resources"></link></simpara><simpara>S$e$t$t$i$n$g$ <literal>s$t$a$r$t$-f$a$i$l$u$r$e$-i$s$-f$a$t$a$l$</literal> t$o$ <literal>f$a$l$s$e$</literal> i$n$c$u$r$s$ t$h$e$ r$i$s$k$ t$h$a$t$ t$h$i$s$ w$i$l$l$ a$l$l$o$w$ o$n$e$ f$a$u$l$t$y$ nT$h$i$s$ i$s$ w$h$y$ <literal>s$t$a$r$t$-f$a$i$l$u$r$e$-i$s$-</literal>T$h$e$ r$i$s$k$ o$f$ s$e$t$t$i$n$g$ <literal>s$t$a$r$t$-f$a$i$l$u$r$e$-i$s$-f$a$t$a$l$=f$a$l$s$e$</literal> c$a$n$ b$e$ m$i$t$i$g$a$t$e$d$ b$y$ s$e$t$t$i$n$g$ a$ l$o$w$ m$i$g$r$a$t$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$e$-e$r$r$o$r$-s$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>-1 (a$l$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ s$c$h$e$d$u$l$e$r$ i$n$p$u$t$s$ r$U$s$e$d$ w$h$e$n$ r$e$p$o$r$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$e$-w$a$r$n$-s$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>-1 (a$l$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ s$c$h$e$d$u$l$e$r$ i$n$p$u$t$s$ r$e$U$s$e$d$ w$h$e$n$ r$e$p$o$r$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$e$-i$n$p$u$t$-s$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>-1 (a$l$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$b$e$r$ o$f$ "n$o$r$m$a$l$" s$c$h$e$U$s$e$d$ w$h$e$n$ r$e$p$o$r$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$u$s$t$e$r$-i$n$f$r</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>T$h$e$ m$e$s$s$a$g$i$n$g$ s$t$a$c$k$ o$n$ w$h$i$c$h$ P$a$c$eU$s$e$d$ f$o$r$ i$n$f$o$r$m$a$t$i$o$n$a$l$ a$n$d$ d$i$a$g$n$o$s$t$i$c$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>d$c$-v$e$r</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>V$e$r$s$i$o$n$ o$f$ P$a$c$e$m$a$k$e$r$ o$n$ t$h$e$ c$l$u$s$t$e$r$U$s$e$d$ f$o$r$ d$i$a$g$n$o$s$t$i$c$ p$u$r$p$o$s$e$s</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>c$l$u$s$t$e$r$-r$e$c$h$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>15 m$i$n$u</simpara></entry>
<entry align="left" valign="top"><simpara>P$o$l$l$i$n$g$ i$n$t$e$r$v$a$l$ f$o$r$ t$i$m$e$-b$a$s$e$d$ c$h$a$n$g$e$s$ t$o$ o$p$t$i$oA$l$l$o$w$e$d$ v$a$l$u$e$s$: Z$e$r$o$ d$i$s$a$b$l$e$s$ p$o$l$l$i$n$g$, p$o$s$i$t$i$v$e$ v$a$l$u$e$s$ a$r$e$ a$n$ i$n$t$e$r$v$a$l$ i$n$N$o$t$e$ t$h$a$t$ t$h$i$s$ v$a$l$u$e$ i$s$ t$h$e$ m$a$x$i$m$u$m$ t$i$m$e$ b$e$t$w$e$e$n$ c$h$e$c$k$s$; i$f$ a$ c$l$u$s$t$e$r$ e$v$e$n$t$ o$c$c$u$r$s$ s$o$o$n$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$a$i$n$t$e$n$a$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>f$a$l</simpara></entry>
<entry align="left" valign="top"><simpara>M$a$i$n$t$e$n$a$n$c$e$ M$o$d$e$ t$e$l$l$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ g$o$ t$o$ a$ "h$a$n$d$s$ o$f$f$" m$o$d$e$, a$n$d$ W$h$e$n$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$ i$s$ c$o$m$p$l$e$t$e$d$, t$h$e$ c$l$u$s$t$e$r$ d$o$e$s$ a$ s$a$n$i$t$y$ c$h$e$c$k$ o$f$ t$h$e$ c$u$r$r$e$n$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$h$u$t$d$o$w$n$-e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>20m$i</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ t$i$m$e$ a$f$t$e$r$ w$h$i$c$h$ t$o$ g$i$v$e$ u$p$ t$r$y$i$n$g$ t$o$ s$A$d$v$a$n$c$e$d$ u</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$t$o$p$-a$l$l$-r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>f$a$l</simpara></entry>
<entry align="left" valign="top"><simpara>S$h$o$u$l$d$ t$h$e$ c$l$u$s$t$e$r$ s$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>e$n$a$b$l$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>f$a$l</simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ t$h$e$ c$l$u$s$t$e$r$ c$a$n$ u$s$e$ a$c$c$e$s$s$ c$o$n$t$r<literal role="command"></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$l$a$c$e$m$e$n$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>d$e$f$a</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$n$d$i$c$a$t$e$s$ w$h$e$t$h$e$r$ a$n$d$ h$o$w$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ t$a$k$e$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$s$ i$n$t</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$r$i$o$r$i$t$y$-f$e$n</literal></simpara></entry>
<entry align="left" valign="top"><simpara>0 (d$i$s$a$b</simpara></entry>
<entry align="left" valign="top"><simpara>(R$H$E$L$ 8.3 a$n$d$ l$a$t$e$r$) A$l$l$o$w$s$ y$o$u$ t$o$ c$o$n$f$i$g$u$r$e$ a$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$ s$o$ t$h$a$t$ i$n$ a$ s$p$l$i$t$-b$r$a$i$n$ s$i$t$u$a$t$i$o$</simpara><simpara>T$h$e$ <literal>p$r$i$o$r$i$t$y$-f$e$n$c$i$n$g$-d$e$l$a$y$</literal> p$r$o$p$e$r$t$y$T$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ f$o$r$ t$h$i$s$ p$rI$f$ t$h$i$s$ p$r$o$p$e$r$t$y$ i$s$ s$e$t$ t$o$ a$ n$o$n$-z$e$r$o$ v$a$l$u$e$, a$n$d$ t$h$e$ <literal>p$r$i$o$r$i$t$y$</literal> m$e$t$a$-a$t$t$r$i$b$u$t$e$ i$s$ c$o$n$f$i$g$u$r$e$d$ f$o$r$ a$t$ l$e$a$s$t$ o$n$e$ r$e$s$o$u$r$c$e$, t$h$e$n$ i$n$ a$ s$p$l$i$t$-b$r$a$i$n$ s$i$t</simpara><simpara>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ s$e$t$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ d$e$f$a$u$l$t$s$ p$r$i$o$r$i$t$y$=1</literal> a$n$d$ <literal>p$c$s$ p$r$o$p$e$r$t$y$ s$e$t$ p$r$i$o$r$i$t$y$-f$e$n$c$i$n$g$-d$e$l$a$y$=15s$</literal> a$n$d$ n$o$ o$t$h$e$r$ p$r$i$o$r$i$t$i$e$s$ a$r$e$ s$e$t$, t$h$e$n$ t$h$e$ n$o$d$e$ r$u$n$n$I$f$ a$ p$a$r$t$i$c$u$l$a$r$ r$e$s$o$u$r$c$e$ i$s$ m$o$r$e$ i$m$p$o$r$t$a$n$t$ t$h$a$n$ t$h$</simpara><simpara>T$h$e$ n$o$d$e$ r$u$n$n$i$n$g$ t$h$e$ m$a$s$t$e$r$ r$o$l$e$ o$f$ a$ p$r$o$m$o$t$a$b$l$e$ c$l$o$n$e$ g$e$t$s$ a$n$ e$x$t$r$a$ 1</simpara><simpara>A$n$y$ d$e$l$a$y$ s$e$t$ w$i$t$h$ t$h$e$ <literal>p$r$i$o$r$i$t$y$-f$e$n$c$i$n$g$-d$e$l$a$y$</literal> p$r$o$p$e$r$t$y$ w$i$l$l$ b$e$ a$d$d$e$d$ t$o$ a$n$y$ d$e$l$a$y$ f<literal></literal><literal></literal>T$h$i$s$ b$e$h$a$v$i$o$r$ a$l$l$o$w$s$ s$o$m$e$ d$e$l$a$y$ w$h$e$n$ b$o$t$h$ n$o$d$e$s$ h$a$v$e$ e$q$u$a$l$ p$r$i$o$r$i$t$y$, o$r$ b$o$t$h$ n$o$d$e$s$ n$e$e$d$ t$o$ b$e$ f$e$n$c$e$d$ f$o$r$ s$o$m$e$ r$e$a$s$o$n$ <literal></literal>I$f$ u$s$e$d$ i$n$ c$o$m$b$i$n$a$t$i$o$n$, i$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ y$o$u$ s$e$t$ t$h$e$ <literal>p$r$i$o$r$i$t$y$-f$e$n$c$i$n$g$-d$e$l$a$y$</literal> p$r$o$p$e$r$t$y$ t$o$ a$ v$a$l$u$e$ t$h$a$t$ i$s$ s$i$g$n$i$f$i$c$a$n$t$l$y$ g$r$e$a$t$e$r$ t$h$a$n$ t$h$e$ m$a$x$i$m$u$m$ d$e$l$a$y$ f<literal></literal><literal></literal></simpara><simpara>O$n$l$y$ f$e$n$c$i$n$g$ s$c$h$e$d$u$l$e$d$ b$y$ P$a$c$e$m$a$k$e$r$ i$t$s$e$l$f$<literal></literal>F$e$n$c$i$n$g$ s$c$h$e$d$u$l$e$d$ b$y$ e$x$t$e$r$n$a$l$ c$o$d$e$ s$u$c$h$ a$s$ <literal>d$l$m$_c$o$n$t$r$o$l$d$</literal> w$i$l$l$ n$o$t$ </simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="setting-cluster-properties-controlling-cluster-behavior">
<title>S$e$t$t$i$n$g$ a$n$d$ r$e$m$o$v$i$n$g$ </title>
<simpara>T$o$ s$e$t$ t$h$e$ v$a$l$u$e$ o$f$ a$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$,<emphasis role="strong"><phrase role="application"></phrase></emphasis></simpara>
<literallayout class="monospaced">pcs property set <emphasis>property</emphasis>=<emphasis>value</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$o$ s$e$t$ t$h$e$ v$a$l$u$e$ o$f$ <literal>s$y$m$m$e$t$r$i$c$-c$l$u$s$t$</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set symmetric-cluster=false</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ r$e$m$o$v$e$ a$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ f$r$o$m$ t$h$e$ c$o$n$</simpara>
<literallayout class="monospaced">pcs property unset <emphasis>property</emphasis></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ r$e$m$o$v$e$ a$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ f$r$o$m$ a$ c$o$n$f$i$g$u$r$a$t$i$o$n$ b$y$ l$e<literal role="command"></literal>T$h$i$s$ r$e$s$t$o$r$e$s$ t$h$a$t$ p$r$o$p$e$r$t$F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ p$r$e$v$i$o$u$s$l$y$ s$e$t$ t$h$e$ <literal>s$y$m$m$e$t$r$i$c$-c$l$u$s$t$e$r$</literal> p$r$o$p$e$r$t$y$ t$o$ <literal>f$a$l$s$e$</literal>, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ v$a$l$u$e$ y$o$u$ h$a$v$e$ <literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set symmetic-cluster=</literal></literallayout>
</section>
<section xml:id="proc_querying-cluster-property-settings-controlling-cluster-behavior">
<title>Q$u$e$r$y$i$n$g$ c$l$u$s$t$e$r$ p$</title>
<simpara>I$n$ m$o$s$t$ c$a$s$e$s$, w$h$e$n$ y$o$u$ u$s$e$ t$h$e$ <literal role="command">p$c$s$</literal> c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ v$a$l$u$e$s$ o$f$ t$h$e$ v$a$r$i$o$u$s$ c$l$u$s$<literal role="command"></literal><literal role="command"></literal>I$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$s$, <literal role="command">p$c$s$ l$i$s$t$</literal> i$s$ t$h$e$ f$o$r$m$a$t$ u$s$e$d$ t$o$ d$i$s$p$l$a$y$ a$n$ e$n$t$i$r$e$ l$i$s$t$ o$f$ a$l$l$ s$e$t$t$i$n$g$s$ f$o$r$ m$o$r$e$ t$h$a$n$ o$n$<literal role="command"></literal></simpara>
<simpara>T$o$ d$i$s$p$l$a$y$ t$h$e$ v$a$l$u$e$s$ o$f$ t$h$e$ p$r$o$p$e$r$t$y$ s$e$t$t$i$n$g$s$ t$h$a$t$ h$a$v$e$ b$e$e$n$ <emphasis role="strong"><phrase role="application"></phrase></emphasis></simpara>
<literallayout class="monospaced">pcs property list</literallayout>
<simpara>T$o$ d$i$s$p$l$a$y$ a$l$l$ o$f$ t$h$e$ v$a$l$u$e$s$ o$f$ t$h$e$ p$r$o$p$e$r$t$y$ s$e$t$t$i$n$g$s$ f$o$r$ t$h$e$ c$l$u$s$t$e$r$, i$n$c$l$u$d$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$s$ o$f$</simpara>
<literallayout class="monospaced">pcs property list --all</literallayout>
<simpara>T$o$ d$i$s$p$l$a$y$ t$h$e$ c$u$r$r$e$n$t$ v$a$l$u$e$ o$f$ a$ s$p$e$c$i$f$i$c$ c$l$u$s$t</simpara>
<literallayout class="monospaced">pcs property show <emphasis>property</emphasis></literallayout>
<simpara>F$o$r$ e$x$a$m$p$l$e$, t$o$ d$i$s$p$l$a$y$ t$h$e$ c$u$r$r$e$n$t$ v$a$l$u$e$ o$f$ t$h$e$ <literal>c$l$u$s$t$e$r$-i$n$f$r$a</literal></simpara>
<literallayout class="monospaced"># <literal>pcs property show cluster-infrastructure</literal>
Cluster Properties:
 cluster-infrastructure: cman</literallayout>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$a$l$ p$u$r$p$o$s$e$s$, y$o$u$ c$a$n$ d$i$s$p$l$a$y$ a$ l$i$s$t$ o$f$ a$l$l$ o$f$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$s$ f$o$r$ t$h$e$ p$r$o$p$e$r$t$i$e$s$, w$h$e$t$h$e$r$ t$h$</simpara>
<literallayout class="monospaced">pcs property [list|show] --defaults</literallayout>
</section>
</chapter>
<chapter xml:id="assembly_configuring-resources-to-remain-stopped-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ r$e$s$o$u$r$c$e$s$ t$o$ r$e$m$a$i$n$ s$t$o$p$p$e$d$ o$n$ c$l</title>
<simpara>W$h$e$n$ a$ c$l$u$s$t$e$r$ n$o$d$e$ s$h$u$t$s$ d$o$w$n$, P$a$c$e$m$a$k$e$r$’s$ d$e$f$a$u$l$t$ r$e$s$p$o$n$s$e$ i$s$ t$o$ s$t$o$p$ a$l$l$ r$e$s$o$u$r$c$e$s$ r$u$n$n$i$n$g$ o$n$ A$s$ o$f$ R$H$E$L$ 8.2, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ P$a$c$e$m$a$k$e$r$ s$o$ t$h$a$t$ w$h$e$n$ a$ n$o$d$e$ s$h$u$t$s$ d$o$w$n$ c$l$e$a$n$l$y$, t$h$e$ r$e$s$o$u$r$c$e$s$ a$t$t$a$c$h$e$d$ t$o$ t$h$e$ n$o$d$e$ w$i$l$l$ b$e$ l$o$c$k$e$d$ t$o$ t$h$e$ n$T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ p$o$w$e$r$ d$o$w$n$ n$o$d$e$s$ d$u$r$i$n$g$ m$a$i$n$t$e$n$a$n$c$e$ w$i$n$d$o$w$s$ w$h$e$n$ s$e$r$v$i$c$e$ o$u$t$a$g$e$s$ a$r$e$ a$c$c$e$p$t$a$b$l$</simpara>
<section xml:id="ref_cluster-properties-shutdown-lock-configuring-resources-to-remain-stopped">
<title>C$l$u$s$t$e$r$ p$r$o$p$e$r$t$i$e$s$ t$o$ c$o$n$f$i$g$u$r$e$ r$e$s$o$u$r$c$e$s$ t$o</title>
<simpara>T$h$e$ a$b$i$l$i$t$y$ t$o$ p$r$e$v$e$n$t$ r$e$s$o$u$r$c$e$s$ f$r$o$m$ f$a$i$l$i$n$g$ o$v$e$r$ o$n$ a$ c$l$e$a$n$ n$o$d$e$ s$h$u$t$d$o$w$</simpara>
<variablelist>
<varlistentry>
<term><literal>s$h$u$t$d$o$w</literal></term>
<listitem>
<simpara>W$h$e$n$ t$h$i$s$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ i$s$ s$e$t$ t$o$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ <literal>f$a$l$s$e$</literal>, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ rW$h$e$n$ t$h$i$s$ p$r$o$p$e$r$t$y$ i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal>, r$e$s$o$u$r$c$e$s$ t$h$a$t$ a$r$e$ a$c$t$i$v$e$ o$n$ t$h$e$ n$o$d$e$s$ b$e$i$n$g$ c$l$e$a$n$l$y$ s$h$u$t$ d$o$w$n$ a$r$e$ u$n$a$b$</simpara>
<simpara>T$h$e$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$</literal> p$r$o$p$e$r$t$y$ w$i$l$l$ w$o$r$k$ f$o$r$ e$i$t$h$e$r$ c$l$u$s$t$e</simpara>
<simpara>I$f$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$</literal> i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal>, y$o$u$ c$a$n$ r$e$m$o$v$e$ t$h$e$ l$o$c$k$ o$n$ o$n$e$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ w$h$e$n$ a$ n$o$d$e$ i$s$ d$o$w$n$ s$o$ t$h$a$t$ t$h$e$ r$e$s$o$u$r</simpara>
<simpara><literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$f$r$e$s$h$ <emphasis>r$e$</emphasis><emphasis></emphasis></literal></simpara>
<simpara>N$o$t$e$ t$h$a$t$ o$n$c$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ u$n$l$o$c$k$e$d$, t$h$e$ c$l$u$s$t$Y$o$u$ c$a$n$ c$o$n$t$r$o$l$ t$h$e$ l$i$k$e$l$i$h$o$o$d$ o$f$ t$h$i$s$ o$c$c$u$r$r$i$n$g$ b$y$ u$s$i$n$g$ s$t$i$c$k$i</simpara>
<note>
<simpara>A$ m$a$n$u$a$l$ r$e$f$r$e$s$h$ w$i$l$l$ w$o$r$k$ w$i$t$h$ r$e$m$o$t$e$ n$o$d$e$s$ o$n$l$y$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ s$t$o$p$ p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> c$o$m$m$a$</simpara>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ <emphasis>r$e$m$o$t$e</emphasis></literal></simpara>
</listitem>
</orderedlist>
<simpara>Y$o$u$ c$a$n$ t$h$e$n$ p$e$r$f$o$r$m$ a$ m$a$n$u$a$l$ r$e</simpara>
</note>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>s$h$u$t$d$o$w$n$-l$</literal></term>
<listitem>
<simpara>W$h$e$n$ t$h$i$s$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ i$s$ s$e$t$ t$o$ a$ t$i$m$e$ o$t$h$e$r$ t$h$a$n$ t$h$e$ d$e$f$a$u$l$t$ v$a$l$u$e$ o$f$ 0, r$e$s$o$u$r$c$e$s$ w$i$l$l$ b$e$ a$v$a$i$l$a$b$l$e$ f$o$r$ r$e$c$o$v$e$r$y$ o$n$ o</simpara>
<note>
<simpara>T$h$e$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$-l$i$m$i$t$</literal> p$r$o$p$e$r$t$y$ w$i$l$l$ w$o$r$k$ w$i$t$h$ r$e$m$o$t$e$ n$o$d</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">s$y$s$t$e$m$c$t$l$ s$t$o$p$ p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> c$o$m$m$a$</simpara>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ <emphasis>r$e$m$o$t$e</emphasis></literal></simpara>
</listitem>
</orderedlist>
<simpara>A$f$t$e$r$ y$o$u$ r$u$n$ t$h$e$s$e$ c$o$m$m$a$n$d$s$, t$h$e$ r$e$s$o$u$r$c$e$s$ t$h$a$t$ h$a$d$ b$e$e$n$ r$u$n$n$i$n$g$ o$n$ t$h$e$ r$e$m$o$t$e$ n$o$d$e$ w$i$l$l$ b$e$ a$v$a$i$l$a$b$l$e$ f$o$r$ r$e$c$o$v<literal></literal></simpara>
</note>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="proc_setting-shutdown-lock-configuring-resources-to-remain-stopped">
<title>S$e$t$t$i$n$g$ t$h$e$ s$h$u$t$d$o$w$n$-l$o</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$e$t$s$ t$h$e$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$</literal> c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ t$o$ <literal>t$r$u$e$</literal> i$n$ a$n$ e$x$a$m$p$l$e$ c$l$u$s$t$e$rT$h$i$s$ e$x$a$m$p$l$e$ c$l$u$s$t$e$r$ c$o$n$s$i$s$t$s$ o$f$ t$h$r$e$e$ n$o$d$e$s$: <literal>z$1.e$x$a$m$p</literal><literal></literal><literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$e$t$ t$h$e$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$</literal> p$r$o$p$e$r$t$y$ t$o$ t<literal></literal>I$n$ t$h$i$s$ e$x$a$m$p$l$e$ t$h$e$ <literal>s$h$u$t$d$o$w$n$-l$o$c$k$-l$i$m$i$t$</literal> p$r$o$p$e</simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs property set shutdown-lock=true</literal>
[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs property list --all | grep shutdown-lock</literal>
 shutdown-lock: true
 shutdown-lock-limit: 0</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ oI$n$ t$h$i$s$ e$x$a$m$p$l$e$, r$e$s$o$u$r$c$e$s$ <literal>t$h$i$r$d$</literal> a$n$d$ <literal>f$i$f$</literal><literal></literal></simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs status</literal>
...
Full List of Resources:
...
 * first	(ocf::pacemaker:Dummy):	Started z3.example.com
 * second	(ocf::pacemaker:Dummy):	Started z2.example.com
 * third	(ocf::pacemaker:Dummy):	Started z1.example.com
 * fourth	(ocf::pacemaker:Dummy):	Started z2.example.com
 * fifth	(ocf::pacemaker:Dummy):	Started z1.example.com
...</literallayout>
</listitem>
<listitem>
<simpara>S$h$u$t$ d$o$w$n$ <literal>z$1.e$x$a$m$p$l$e$.c$o$m$</literal>, w$h$i$c$h$ w$i$l$l$ s$t$o$p$ t$h$e$ r$e$s</simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~] <literal># pcs cluster stop z1.example.com</literal>
Stopping Cluster (pacemaker)...
Stopping Cluster (corosync)...</literallayout>
</listitem>
<listitem>
<simpara>R$u$n$n$i$n$g$ t$h$e$ <literal>p$c$s$ s$t$a$t$u$s$</literal> c$o$m$m$a$n$d$ s$h$o$w$s$ t$h$a$t$ n$o$d$e$ <literal>z$1.e$x$a$m$p$l$e$.c$o$m$</literal> i$s$ o$f$f$l$i$n$e$ a$n$d$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs status</literal>
...

Node List:
 * Online: [ z2.example.com z3.example.com ]
 * OFFLINE: [ z1.example.com ]

Full List of Resources:
...
 * first	(ocf::pacemaker:Dummy):	Started z3.example.com
 * second	(ocf::pacemaker:Dummy):	Started z2.example.com
 * third	(ocf::pacemaker:Dummy):	Stopped z1.example.com (LOCKED)
 * fourth	(ocf::pacemaker:Dummy):	Started z3.example.com
 * fifth	(ocf::pacemaker:Dummy):	Stopped z1.example.com (LOCKED)

...</literallayout>
</listitem>
<listitem>
<simpara>S$t$a$r$t$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ a$g$a$i$n$ o$n$ <literal>z$1.e$x$a$m$p$l$e$.</literal>L$o$c$k$e$d$ r$e$s$o$u$r$c$e$s$ s$h$o$u$l$d$ g$e$t$ s$t$a$r$t$e$d$ o$n$ t$h$a$t$ n$o$d$e$, a$l$t$h$o$u$g$h$ o$n$c$e$ t$h$e$y$ s$t</simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs cluster start z1.example.com</literal>
Starting Cluster...</literallayout>
</listitem>
<listitem>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$, r$e$s$o$u$c$e$s$ <literal>t$h$i$r$d$</literal> a$n$d$ <literal>f$i$f$t$h$</literal> a$r<literal></literal></simpara>
<literallayout class="monospaced">[<link xlink:href="mailto:root@z3.example.com">root@z3.example.com</link> ~]# <literal>pcs status</literal>
...

Node List:
 * Online: [ z1.example.com z2.example.com z3.example.com ]

Full List of Resources:
..
 * first	(ocf::pacemaker:Dummy):	Started z3.example.com
 * second	(ocf::pacemaker:Dummy):	Started z2.example.com
 * third	(ocf::pacemaker:Dummy):	Started z1.example.com
 * fourth	(ocf::pacemaker:Dummy):	Started z3.example.com
 * fifth	(ocf::pacemaker:Dummy):	Started z1.example.com

...</literallayout>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_configuring-node-placement-strategy-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ n$o$d$e$ p$</title>
<simpara>P$a$c$e$m$a$k$e$r$ d$e$c$i$d$e$s$ w$h$e$r$e$ t$o$ p$l$a$c$e$ a$ r$e$s$o$u$r$c$e$ a$c$c$o$r$d$i$n$g$ t$T$h$e$ r$e$s$o$u$r$c$e$ w$i$l$l$ b$e$ a$l$l$o$c$a$t$e$d$ t$o$ t$h$e$ n$o$d$e$ w$h$e$T$h$i$s$ a$l$l$o$c$a$t$i$o$n$ s$c$o$r$e$ i$s$ d$e$r$i$v$e$d$ f$r$o$m$ a$ c$o$m$b$i$n$a$t$i$o$n$ o$f$ f$a$c$t$o$r$s$, i$n$c$l$u$d$i$n$g$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$i$n$t$s$, <literal>r$e$s$o$u$r$c$e$-s$t$i$c$k$i</literal></simpara>
<simpara>I$f$ t$h$e$ r$e$s$o$u$r$c$e$ a$l$l$o$c$a$t$i$o$n$ s$c$o$r$e$s$ o$n$ a$l$l$ t$h$e$ n$o$d$e$s$ a$r$e$ e$q$u$a$l$, b$y$ t$h$e$ d$e$f$a$u$l$t$ p$l$a$c$e$m$e$n$t$ s$t$r$a$t$e$g$y$ P$a$c$e$m$a$k$e$r$I$f$ t$h$e$ n$u$m$b$e$r$ o$f$ r$e$s$o$u$r$c$e$s$ o$n$ e$a$c$h$ n$o$d$e$ i$s$ e$q$u$a$l$, t$h$e$ f$i$r$s$t$ e$l$i$g$i$b$l$e$ n$o</simpara>
<simpara>O$f$t$e$n$, h$o$w$e$v$e$r$, d$i$f$f$e$r$e$n$t$ r$e$s$o$u$r$c$e$s$ u$s$e$ s$i$g$n$i$f$i$c$a$n$t$l$y$ d$i$f$f$e$r$e$n$t$ p$r$Y$o$u$ c$a$n$n$o$t$ a$l$w$a$y$s$ b$a$l$a$n$c$e$ t$h$e$ l$o$a$d$ i$d$e$a$l$l$y$ b$y$ t$a$k$i$n$g$ i$n$t$o$ a$c$c$o$uI$n$ a$d$d$i$t$i$o$n$, i$f$ r$e$s$o$u$r$c$e$s$ a$r$e$ p$l$a$c$e$d$ s$u$c$h$ t$h$a$t$ t$h$e$i$r$ c$o$m$b$i$n$e$d$ r$e$q$u$i$r$e$m$e$n$t$s$ e$x$c$e$e$d$ t$h$e$ p$r$o$v$i$d$e$d$ c$a$p$a$c$T$o$ t$a$k$e$ t$h$e$s$e$ f$a$c$t$o$r$s$ i$n$t$o$ a$c$c$o$u$n$t$, P$a$c$e$m$a$k$e$r$ a$l$l$o$w$s</simpara>
<itemizedlist>
<listitem>
<simpara>t$h$e$ c$a$p$a$c$i$t$y$ a$ p$a$r$t$i$c$</simpara>
</listitem>
<listitem>
<simpara>t$h$e$ c$a$p$a$c$i$t$y$ a$ p$a$r$t$i$c$u$l$</simpara>
</listitem>
<listitem>
<simpara>a$n$ o$v$e$r$a$l$l$ s$t$r$a$t$e$g$y$ f$o$r$ p$</simpara>
</listitem>
</itemizedlist>
<section xml:id="configuring-utilization-attributes-configuring-node-placement-strategy">
<title>U$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$s$ a</title>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$a$p$a$c$i$t$y$ t$h$a$t$ a$ n$o$d$e$ p$r$o$v$i$d$e$s$ o$r$ a$ r$e$s$o$u$r$c$e$ r$e$q$u$i$r$e$s$, y<emphasis></emphasis>Y$o$u$ d$o$ t$h$i$s$ b$y$ s$e$t$t$i$n$g$ a$ u$t$i$l$i$z$a$t$i$o$n$ v$a$r$i$a$b$l$e$ f$o$r$ a$ r$e$s$o$u$r$c$e$ a$n$d$ a$s$s$i$g$n$i$n$g$ a$ v$a$l$u$e$ t$o$ t$h$a$t$ v$a$r$i$a$b$l$e$ t$o$ i$n$d$i$c$a$t$e$ w$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$ r$e$q$u$i$r$e$s$, a$n$d$ t$h$e$n$ s$e</simpara>
<simpara>Y$o$u$ c$a$n$ n$a$m$e$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$s$ a$c$c$o$r$d$i$n$g$ t$o$ y$o$u$r$ p$r$e$f$e$r$e$n$c$e$s$ a$n$d$ d$e$T$h$e$ v$a$l$u$e$s$ o$f$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$</simpara>
<section xml:id="configuring_node_and_resource_capacity" remap="_configuring_node_and_resource_capacity">
<title>C$o$n$f$i$g$u$r$i$n$g$ n$o$d$e$ a$n$d$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$ o$f$ C$P$U$ c$a$p$a$c$i$<literal></literal>I$t$ a$l$s$o$ c$o$n$f$i$g$u$r$e$s$ a$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$ o$f$ R$A$M$ c$a$p$a$c$i$t$<literal></literal>I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>N$o$d$e$ 1 i$s$ d$e$f$i$n$e$d$ a$s$ p$r$o$v$i$d$i$n$g$ a$ C$P$U$ c$a$p$a$c$i$t$</simpara>
</listitem>
<listitem>
<simpara>N$o$d$e$ 2 i$s$ d$e$f$i$n$e$d$ a$s$ p$r$o$v$i$d$i$n$g$ a$ C$P$U$ c$a$p$a$c$i$t$y</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced"># <literal>pcs node utilization node1 cpu=2 memory=2048</literal>
# <literal>pcs node utilization node2 cpu=4 memory=2048</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ s$p$e$c$i$f$i$e$s$ t$h$e$ s$a$m$e$ u$t$i$l$i$z$a$t$i$o$n$ a$t$I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>r$e$s$o$u$r$c$e$ <literal>d$u$m$m$y$-s$m$a$l$l$</literal> r$e$q$u$i$r$e$s$ a$ C$P$U$ c$a$p$a$c$</simpara>
</listitem>
<listitem>
<simpara>r$e$s$o$u$r$c$e$ <literal>d$u$m$m$y$-m$e$d$i$u$m$</literal> r$e$q$u$i$r$e$s$ a$ C$P$U$ c$a$p$a$c</simpara>
</listitem>
<listitem>
<simpara>r$e$s$o$u$r$c$e$ <literal>d$u$m$m$y$-l$a$r$g$e$</literal> r$e$q$u$i$r$e$s$ a$ C$P$U$ c$a$p$a$c$</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced"># <literal>pcs resource utilization dummy-small cpu=1 memory=1024</literal>
# <literal>pcs resource utilization dummy-medium cpu=2 memory=2048</literal>
# <literal>pcs resource utilization dummy-large cpu=3 memory=3072</literal></literallayout>
<simpara>A$ n$o$d$e$ i$s$ c$o$n$s$i$d$e$r$e$d$ e$l$i$g$i$b$l$e$ f$o$r$ a$ r$e$s$o$u$r$c$e$ i$f$ i$t$ h$a$s$ s$u$f$f$i$c$i$e$n$t$ f$r$e$e$ c$a$p$a$c$i$t$y$ t$o$ s$a$t$i$s$</simpara>
</section>
<section xml:id="configuring_placement_strategy" remap="_configuring_placement_strategy">
<title>C$o$n$f$i$g$u$r$i$n$g$ p$l$a$c</title>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ c$o$n$f$i$g$u$r$e$d$ t$h$e$ c$a$p$a$c$i$t$i$e$s$ y$o$u$r$ n$o$d$e$s$ p$r$o$v$i$d$e$ a$n$d$ t$h$e$ c$a$p$a$c$i$t$i$e$s$ y$o$u$r$ r$e$s$o$u$r$c$e$s$ r$e$q$u$i$r$e$, y$o$u$ n$e$e$d$ t$o$ s$<literal></literal></simpara>
<simpara>F$o$u$r$ v$a$l$u$e$s$ a$r$e$ a$v$a$i$l$a$b$l$e$ f$o$r$ t$h$e$ <literal>p$l$a$c$</literal></simpara>
<itemizedlist>
<listitem>
<simpara><literal>d$e$f$a$u$l$t$</literal> — U$t$i$l$i$z$a$t$i$o$n$ v$a$l$u$e$s$ a$r$e$ n$oR$e$s$o$u$r$c$e$s$ a$r$e$ a$l$l$o$c$a$t$e$d$ a$c$c$o$r$I$f$ s$c$o$r$e$s$ a$r$e$ e$q$u$a$l$, r$e$s$o$u$r$c$e$s$ a$r$e$ e$v$</simpara>
</listitem>
<listitem>
<simpara><literal>u$t$i$l$i$z$a$t$i$o$n$</literal> — U$t$i$l$i$z$a$t$i$o$n$ v$a$l$u$e$s$ a$r$e$ t$a$k$e$n$ i$n$t$o$ a$c$c$o$u$n$t$ o$n$l$y$ w$h$e$n$ d$e$c$i$d$i$n$g$ w$h$e$t$h$e$r$ a$ n$o$d$e$ i$s$ c$o$n$s$i$d$e$r$e$d$ e$l$i$g$i$b$L$o$a$d$-b$a$l$a$n$c$i$n$g$ i$s$ s$t$i$l$l$ d$o$n$e$ b$a$s$e$d$ o$n$ t$h$e$ n$u$m$</simpara>
</listitem>
<listitem>
<simpara><literal>b$a$l$a$n$c$e$d$</literal> — U$t$i$l$i$z$a$t$i$o$n$ v$a$l$u$e$s$ a$r$e$ t$a$k$e$n$ i$n$t$o$ a$c$c$o$u$n$t$ w$h$e$n$ d$e$c$i$d$i$n$g$ w$h$e$t$h$e$r$ a$ n$o$d$e$ i$s$ e$l$i$g$i$b$l$e$ t$o$ s$e$r$v$e$ a$ r$e$s$o$u$r$c$e$ a$n$d$ w$h$e$n$ l$o$a$</simpara>
</listitem>
<listitem>
<simpara><literal>m$i$n$i$m$a$l$</literal> — U$t$i$l$i$z$a$t$i$o$n$ v$a$l$u$e$s$ a$r$e$ t$a$k$e$n$ i$n$t$o$ a$c$c$o$u$n$t$ o$n$l$y$ w$h$e$n$ d$e$cF$o$r$ l$o$a$d$-b$a$l$a$n$c$i$n$g$, a$n$ a$t$t$e$m$p$t$ i$s$ m$a$d$e$ t$o$ c$o$n$c$e$n$t$r$a$t$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ o$n$ a$s$ f$e$w$ n$o$d$e$s$ a$s$ p$o</simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ v$a$l$u<literal></literal><literal></literal>A$f$t$e$r$ r$u$n$n$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$, P$a$c$e$m$a$k$e$r$ w$i$l$l$ e$n$s$u$r$e$ t$h$e$ l$o$a$d$ f$r$o$m$ y$o$u$r$ r$e$s$o$u$r$c$e$s$ w$i$l$l$ b$e$ d$i$s$t$r$i$b$u$t$e$d$ e$v$e$n$l$y$</simpara>
<literallayout class="monospaced"># <literal>pcs property set placement-strategy=balanced</literal></literallayout>
</section>
</section>
<section xml:id="pacemaker-resource-allocation-configuring-node-placement-strategy">
<title>P$a$c$e$m$a$k$e$r$ r$e$s$o$u$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$u$b$s$e$c$t$i$o$n$s$ s$u$m$m$a$r$i$z$e$ h$</simpara>
<section xml:id="node_preference" remap="_node_preference">
<title>N$o$d$e$ P$r$e$</title>
<simpara>P$a$c$e$m$a$k$e$r$ d$e$t$e$r$m$i$n$e$s$ w$h$i$c$h$ n$o$d$e$ i$s$ p$r$e$f$e$r$r$e$d$ w$h$e$n$ a$l$l$o$c$a$t$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$ w$i$t$h$ t$h$e$ h$i$g$h$e$s$t$ n$o$d$e$ w$N$o$d$e$ w$e$i$g$h$t$ i$s$ a$ s$c$o$r$e$ m$a$i$n$t$a$i$n$e$d$ b$y$ t$h$e$ </simpara>
</listitem>
<listitem>
<simpara>I$f$ m$u$l$t$i$p$l$e$ n$o$d$e$s$ h$a$v$e$ t$</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ t$h$e$ <literal>p$l$a$c$e$m$e$n$t$-s$t$r$a$t$e$g$y$</literal> c$l$u$s$t$e$r$ p$r$o$<literal></literal><literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$ t$h$a$t$ h$a$s$ t$h$e$ l$e$a$s$t$ n$u$m$b$e$r$ o$f$ a$l$l$o$c$</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ n$u$m$b$e$r$s$ o$f$ a$l$l$o$c$a$t$e$d$ r$e$s$o$u$r$c$e$s$ a$r$e$ e$q$u$a$l$, t$h$e$ f$i$r$s$t$ e$l$</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ <literal>p$l$a$c$e$m$e$n$t$-s$t$r$a$t$e$g$y$</literal> c$l$u$s<literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$ t$h$a$t$ h$a$s$ t$h$e$ m$o$s$t$ f$r$e$e$ c$a$</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ f$r$e$e$ c$a$p$a$c$i$t$i$e$s$ o$f$ t$h$e$ n$o$d$e$s$ a$r$e$ e$q$u$a$l$, t$h$e$ n$o$d$e$ t$h$a$t$ h$a$s$ t$h$e$ l$</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ f$r$e$e$ c$a$p$a$c$i$t$i$e$s$ o$f$ t$h$e$ n$o$d$e$s$ a$r$e$ e$q$u$a$l$ a$n$d$ t$h$e$ n$u$m$b$e$r$ o$f$ a$l$l$o$c$a$t$e$d$ r$e$s$o$u$r$c$e$s$ i$s</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ <literal>p$l$a$c$e$m$e$n$t$-s$t$r$a$t$e$g$y$</literal> c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ i$s$ <literal>m$i$n$i$m$a$l$</literal>, t$h$e$ f$i$r$s$t</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
<section xml:id="node_capacity" remap="_node_capacity">
<title>N$o$d$e$ C$a$</title>
<simpara>P$a$c$e$m$a$k$e$r$ d$e$t$e$r$m$i$n$e$s$ w$h$i$c$h$ n$o$d$e$ h$a$s$ t$h$e$ m$o$s$t$ f$r$e$e$ c$a</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ o$n$l$y$ o$n$e$ t$y$p$e$ o$f$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$ h$a$s$ b$e$e$n$ d$e$f$i$n$e$</simpara>
</listitem>
<listitem>
<simpara>I$f$ m$u$l$t$i$p$l$e$ t$y$p$e$s$ o$f$ u$t$i$l$i$z$a$t$i$o$n$ a$t$t$r$i$b$u$t$e$s$ h$a$v$e$ b$e$e$n$ d$e$f$i$n$e$d$, t$h$e$n$ t$h$e$ n$o$d$e$ t$h$a$t$ i$s$ n$u$mF$o$r$ e$x$a</simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ N$o$d$e$A$ h$a$s$ m$o$r$e$ f$r$e$e$ C$P$U$s$, a$n$d$ N$o$d$e$B$ h$a$s$ m$o$r$e$ f$r$e$e$ m$e$</simpara>
</listitem>
<listitem>
<simpara>I$f$ N$o$d$e$A$ h$a$s$ m$o$r$e$ f$r$e$e$ C$P$U$s$, w$h$i$l$e$ N$o$d$e$B$ h$a$s$ m$o$r$e$ f$r$e$e$ m$e$m$o$r$y</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
<section xml:id="resource_allocation_preference" remap="_resource_allocation_preference">
<title>R$e$s$o$u$r$c$e$ A$l$l$o$c$a$t</title>
<simpara>P$a$c$e$m$a$k$e$r$ d$e$t$e$r$m$i$n$e$s$ w$h$i$c$h$ r$e$s$o$u$r$c$e$ i$s$ a$l$l$o$c$a$t$e$d$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ r$e$s$o$u$r$c$e$ t$h$a$t$ h$a$s$ t$h$e$ h$i$g$h$e$s$t$ p$Y$o$u$ c$a$n$ s$e$t$ a$ r$e$s$o$u$r$c$e$’s$ p$r$i$o$r$i$t$y$ w$</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ p$r$i$o$r$i$t$i$e$s$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ e$q$u$a$l$, t$h$e$ r$e$s$o$u$r$c$e$ t$h$a$t$ h$a$s$ t$h$e$ h$i$g$h$e$s$t$ s$c$o$r$e$ o$n$ t$h$e$ n$</simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ r$e$s$o$u$r$c$e$ s$c$o$r$e$s$ o$n$ t$h$e$ n$o$d$e$s$ w$h$e$r$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ r$u$n$n$i$n$g$ a$r$e$ e$q$u$a$l$ o$r$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$r$e$ n$o$t$ r$u$n$n$I$f$ t$h$e$ r$e$s$o$u$r$c$e$ s$c$o$r$e$s$ o$n$ t$h$e$ p$r$e$f$e$r$r$e$d$ n$o$d$e$ a$r$e$ e$q$u$a$l$ i$n$ t$h$i$s$ c$a$s$e$, t$h$e$ f$i$r</simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="resource-placement-strategy-guidelines-configuring-node-placement-strategy">
<title>R$e$s$o$u$r$c$e$ p$l$a$c$e$m$e$n$t$ s$</title>
<simpara>T$o$ e$n$s$u$r$e$ t$h$a$t$ P$a$c$e$m$a$k$e$r$’s$ p$l$a$c$e$m$e$n$t$ s$t$r$a$t$e$g$y$ f$o$r$ r$e$s$o$u$r$c$e$s$ w$o$r$k$s$ m$o$s$t$ e$f$f$e$c$t$i$v$e$l$y$, y$o$u$ s$h$o$u$l</simpara>
<itemizedlist>
<listitem>
<simpara>M$a$k$e$ s$u$r$e$ t$h$a$t$ y$o$u$ h$a$v$e$ s$u$f$f$i$</simpara>
<simpara>I$f$ t$h$e$ p$h$y$s$i$c$a$l$ c$a$p$a$c$i$t$y$ o$f$ y$o$u$r$ n$o$d$e$s$ i$s$ b$e$i$n$g$ u$s$e$d$ t$o$ n$e$a$r$ m$a$x$i$m$u$m$ u$n$d$e$r$ E$v$e$n$ w$i$t$h$o$u$t$ t$h$e$ u$t$i$l$i$z$a$t$i$o$n$ f$e$a$t$u$r$e$, y$o$u$ m$a$y$ s$t$a$r$t$ t$o</simpara>
</listitem>
<listitem>
<simpara>B$u$i$l$d$ s$o$m$e$ b$u$f$f$e$r$ i$n$t$o$ t$h$e$ c$a$p$a$b$i$l$i$t$i</simpara>
<simpara>A$d$v$e$r$t$i$s$e$ s$l$i$g$h$t$l$y$ m$o$r$e$ n$o$d$e$ r$e$s$o$u$r$c$e$s$ t$h$a$n$ y$o$u$ p$h$y$s$i$c$a$l$l$y$ h$a$v$e$, o$n$ t$h$e$ a$s$s$u$m$p$t$i$o$n$ t$h$e$ t$h$a$t$ a$ P$a$c$e$m$a$k$e$r$ r$e$s$oT$h$i$s$ p$r$a$c$t$i$c$e$ i$s$ s$o$m$e$t$i$m$</simpara>
</listitem>
<listitem>
<simpara>S$p$e$c$i$f$y$ r$e$s$o$u$r$c</simpara>
<simpara>I$f$ t$h$e$ c$l$u$s$t$e$r$ i$s$ g$o$i$n$g$ t$o$ s$a$c$r$i$f$i$c$e$ s$e$r$v$i$c$e$s$, i$t$ E$n$s$u$r$e$ t$h$a$t$ r$e$s$o$u$r$c$e$ p$r$i$o$r$i$t$i$e$s$ a$r$e$ p$r$o$p$e$r$l$y$ s$e$t$ s$o$ t$h$a$t$ y$</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="node-utilization-resource-agent-configuring-node-placement-strategy">
<title>T$h$e$ N$o$d$e$U$t$i$l$i$z$a$t$i$o</title>
<simpara>T$h$e$ N$o$d$e$U$t$i$l$i$z$a$t$i$o$n$ a$g$e$n$t$ c$a$n$ d$e$t$e$c$t$ t$h$e$ s$y$s$t$e$m$ p$a$r$a$m$e$t$e$r$s$ o$f$ a$v$a$i$l$a$b$l$e$ C$P$U$, h$o$s$t$ m$e$m$o$r$y$ a$v$a$i$l$a$Y$o$u$ c$a$n$ r$u$n$ t$h$e$ a$g$e$n$t$ a$s$ a$ c$l$o$n$e$ r$e$s$o$u$r$c$e$ t$o$ h$a$v$e$ i$t$ a$u$t$o$m$a$</simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>N$o$d$e$U$t$i$l$i$z$a$t$i$o$n$</literal> r$e$s$o$u$r$c$e$ a$g$e$n$t$ a$n$d$ t$h$e$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$ f$<literal role="command"></literal></simpara>
</section>
</chapter>
<chapter xml:id="assembly_configuring-virtual-domain-as-a-resource-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ v$i$r$t$u$a$l$ d</title>
<simpara>Y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ a$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ t$h$a$t$ i$s$ m$a$n$a$g$e$d$ b$y$ t$h$e$ <literal>l$i$b$v$i$r$t$</literal> v$i$r$t$u$a$l$i$z$a$t$i$o$n$ f$r$a$m$e$w$o$r$k$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$<literal role="command"></literal><literal></literal></simpara>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ a$s$ a$ r$e$s$o$u$r$c$e$, t$a$k$e</simpara>
<itemizedlist>
<listitem>
<simpara>A$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ s$h$o$u$l$d$ b$e$ s$t$o$p$p$e$d$ b$e$f$o$r$e$ y$o$</simpara>
</listitem>
<listitem>
<simpara>O$n$c$e$ a$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ i$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$, i$t$ s$h$o$u$l$d$ n$o$t$ b$e$ s$t$a$r$t$e$d$</simpara>
</listitem>
<listitem>
<simpara>D$o$ n$o$t$ c$o$n$f$i$g$u$r$e$ a$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ t$h$a$t$ y$o$u$ h$a$v$e$ c$o$n$f$i$g$u$r$e$d$ a$</simpara>
</listitem>
<listitem>
<simpara>A$l$l$ n$o$d$e$s$ a$l$l$o$w$e$d$ t$o$ r$u$n$ a$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ m$u$s$t$ h$a$v$e$ a$c$c$e$s$s$ t$o$ t$h$e$ n$e$c$e$s$s$a$r$y$ c$</simpara>
</listitem>
</itemizedlist>
<simpara>I$f$ y$o$u$ w$a$n$t$ t$h$e$ c$l$u$s$t$e$r$ t$o$ m$a$n$a$g$e$ s$e$r$v$i$c$e$s$ w$i$t$h$i$n$ t$h$e$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ i$t$</simpara>
<section xml:id="ref_virtual-domain-resource-options-configuring-virtual-domain-as-a-resource">
<title>V$i$r$t$u$a$l$ d$o$m$a$i$n$ r$e</title>
<simpara><xref linkend="tb-virtdomain-options-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$ y$o$u$ c$a$n$ c$o$n$<literal></literal></simpara>
<table xml:id="tb-virtdomain-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ O$p$t$i$o$n$s$ f$o$r$ V$i$r$</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="38*"/>
<colspec colname="col_2" colwidth="25*"/>
<colspec colname="col_3" colwidth="38*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>c$o$n$</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>(r$e$q$u$i$r$e$d$) A$b$s$o$l$u$t$e$ p$a$t$h$ t$o$ t$h$e$ <literal>l$i$b$v$i$r$t$</literal> c$o$n$f$i$g</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>h$y$p$e$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>S$y$s$t$e$m$ d$e</simpara></entry>
<entry align="left" valign="top"><simpara>H$y$p$e$r$v$i$s$o$r$ U$R$I$ tY$o$u$ c$a$n$ d$e$t$e$r$m$i$n$e$ t$h$e$ s$y$s$t$e$m$’s$ d$e$f$a$u$l$t$ U$R$I$ b$y$ r<literal role="command"></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>f$o$r$c$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>0</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$l$w$a$y$s$ f$o$r$c$e$f$u$l$l$y$ s$h$u$t$ d$o$w$n$ ("d$e$sT$h$e$ d$e$f$a$u$l$t$ b$e$h$a$v$i$o$r$ i$s$ t$o$ r$e$s$o$r$t$ t$o$ a$ f$o$r$c$e$f$u$l$ s$h$u$t$d$o$w$n$ o$nY$o$u$ s$h$o$u$l$d$ s$e$t$ t$h$i$s$ t$o$ <literal>t$r$u$e$</literal> o$n$l$y$ i$f$ y$o$u$r$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ (o$r$ y$o$u$r$ v$i$r$t$u</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$i$g$r$a$t$i$o$n$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>S$y$s$t$e$m$ d$e</simpara></entry>
<entry align="left" valign="top"><simpara>T$r$a$n$s$p$o$r$t$ u$s$e$d$ t$o$ c$o$n$n$e$c$t$ t$o$ t$h$e$ r$e$m$oI$f$ t$h$i$s$ p$a$r$a$m$e$t$e$r$ i$s$ o$m$i$t$t$e$d$, t$h$e$ r$e$s$o$u$r$c$e$ w$i$l$l$ u$s$e$ <literal>l$i$b$v$i$r$t$</literal>'s$ d$e$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$i$g$r$a$t$i$o$n$_n$e$t</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>U$s$e$ a$ d$e$d$i$c$a$t$e$d$ m$i$gT$h$e$ m$i$g$r$a$t$i$o$n$ U$R$I$ i$s$ c$o$m$p$o$s$e$d$ b$y$ a$d$d$i$n$g$ t$h$i$s$ p$a$r$a$mI$f$ t$h$e$ n$o$d$e$ n$a$m$e$ i$s$ a$ f$u$l$l$y$ q$u$a$l$i$f$i$e$d$ d$o$m$a$i$n$ n$a$m$e$ (F$Q$D$N$), i$n$s$e$r$t$ t$h$e$ s$u$f$f$E$n$s$u$r$e$ t$h$a$t$ t$h$i$s$ c$o$m$p$o$s$e$d$ h$o$s$t$ n$a$m$e$ i$s$ l$o$c$a$l$l$y$ r$e$s$o$l$v$a$b$l$e$ a$n$d$ t$h$e$ a$s$s$o$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$o$n$i$t$o$r$_</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>T$o$ a$d$d$i$t$i$o$n$a$l$l$y$ m$o$n$i$t$o$r$ s$e$r$v$i$c$e$s$ w$i$t$h$i$n$ t$h$e$ v$i$r$t$u$a$l$ d$o$m$a$i$n$, a$<emphasis>N$o$t$e$</emphasis>: W$h$e$n$ m$o$n$i$t$o$r$ s$c$r$i$p$t$s$ a$r$e$ u$s$e$d$, t$h$e$ <literal>s$t$a$r$t$</literal> a$n$d$ <literal>m$i$g$r$a$t$e$_f$r$o$m$</literal> o$p$e$r$a$t$i$o$n$s$ w$i$l$l$ c$B$e$ s$u$r$e$ t$o$ s$e$t$ t$h$e$ t$i$m$e$o$u$t$ o$f$ t$h$e$s$e$ o$p$e$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>a$u$t$o$s$e$t$_u$t$i$l$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>t$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ s$e$t$ t$o$ <literal>t$r$u$e$</literal>, t$h$e$ a$g$e$n$t$ w$i$l$l$ d$e$t$e$c$t$ t$h$e$ n$u$m$b$e$r$ o$f$ <literal>d$o$m$a$i$n$U$</literal>'s$ <literal>v$C$P$U$</literal>s$ f$r$o$m$ <literal>v$i$r$s$h$</literal>, a$n$d$ p$u$t$ i$t$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>a$u$t$o$s$e$t$_u$t$i$l$i$z$a$</literal></simpara></entry>
<entry align="left" valign="top"><simpara><literal>t$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ s$e$t$ i$t$ t$r$u$e$, t$h$e$ a$g$e$n$t$ w$i$l$l$ d$e$t$e$c$t$ t$h$e$ n$u$m$b$e$r$ o$f$ <literal>M$a$x$ m$e$m$o$r$y$</literal> f$r$o$m$ <literal>v$i$r$s$h$</literal>, a$n$d$ p$u$t$ i$t$ i$n$t$o$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>m$i$g$r$a$t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>r$a$n$d$o$m$ h$</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$i$s$ p$o$r$t$ w$i$l$l$ b$e$ u$s$e$d$ i$n$ t<literal></literal>I$f$ u$n$s$e$t$, t$h$e$ p$o$r$t$ w$i$l$l$ b$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$n$a$p$</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>P$a$t$h$ t$o$ t$h$e$ s$n$a$p$s$h$o$t$ d$i$r$e$c$t$o$r$y$ w$h$e$r$e$ t$h$e$ v$iW$h$e$n$ t$h$i$s$ p$a$r$a$m$e$t$e$r$ i$s$ s$e$t$, t$h$e$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$’s$ R$A$M$ s$t$a$t$e$ w$i$l$l$ b$e$ sI$f$ o$n$ s$t$a$r$t$ a$ s$t$a$t$e$ f$i$l$e$ i$s$ p$r$e$s$e$n$t$ f$o$r$ t$h$e$ d$o$m$a$i$n$, t$h$e$ d$o$m$a$i$n$ w$i$l$l$ b$e$ r$e$s$t$o$rT$h$i$s$ o$p$t$i$o$n$ i$s$ i$n$c$o$m$p$a$t$i$b$l$e$ w$i<literal></literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$, y$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ t$h$e$ <literal>a$l$l$o$w$-m$i$g$r$a$t$e$</literal>W$h$e$n$ t$h$i$s$ o$p$t$i$o$n$ i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal>, t$h$e$ r$e$s$o$u$r$c$e$ c$W$h$e$n$ t$h$i$s$ o$p$t$i$o$n$ i$s$ s$e$t$ t$o$ <literal>f$a$l$s$e$</literal>, w$h$i$c$h$ i$s$ t$h$e$ d$e$f$a$u$l$t$ s$t$a$t$e$, t$h$e$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ w$i$l$l$ b$e$ s$h$u$t$ d$o$w$n$ o$n$ t$h$e$ f$i$r$s$t$</simpara>
</section>
<section xml:id="proc_creating-virtual-domain-resource-configuring-virtual-domain-as-a-resource">
<title>C$r$e$a$t$i$n$g$ t$h$e$ v$i$r$t$u$a$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ t$o$ c$r$e$a$t$e$ a$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$ i$n$ a$ c</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>T$o$ c$r$e$a$t$e$ t$h$e$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$ a$g$e$n$t$ f$o$r$ t$h$e$ m$a$n$a$g$e$m$e$n$t$ o$f$ t$h$e$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$, P$a$c$e$m$a$k$e$r$ r$e$<literal></literal>F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ c$r$e$a$t$e$d$ a$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$ n$a$m$e$d$ <literal>g$u$e$s$t$1</literal>, d$u$m$p$ t$h$e$ <literal>x$m$l$</literal> f$i$l$e$ t$o$ a$ f$i$l$e$ s$o$m$e$Y$o$u$ c$a$n$ u$s$e$ a$ f$i$l$e$ n$a$m$e$ o$f$ y$o$u$r$ c$h$o$o$s$i$n$g$; t$h$i$s$ e$x<literal></literal></simpara>
<literallayout class="monospaced"># <literal>virsh dumpxml guest1 &gt; /etc/pacemaker/guest1.xml</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$p$y$ t$h$e$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$’s$ <literal>x$m$l$</literal> c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$ t$o$ a$l$l$ o$f$ t$h$e$ o$t$h$e$r$ c$l$u$s$t$e$r$ n$o$d$e$s$ t$h$</simpara>
</listitem>
<listitem>
<simpara>E$n$s$u$r$e$ t$h$a$t$ a$l$l$ o$f$ t$h$e$ n$o$d$e$s$ a$l$l$o$w$e$d$ t$o$ r$u$n$ t$h$e$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ h$a$v$e$ a$c$c$e$s</simpara>
</listitem>
<listitem>
<simpara>S$e$p$a$r$a$t$e$l$y$ t$e$s$t$ t$h$a$t$ t$h$e$ v$i$r$t$u$a$l$ d$o$m$a$i$n$ c$a$n$ s$t$a$r$t$ a$n$d$ s$t$o$</simpara>
</listitem>
<listitem>
<simpara>I$f$ i$t$ i$s$ r$u$n$n$i$n$g$, s$h$u$t$ d$oP$a$c$e$m$a$k$e$r$ w$i$l$l$ s$t$a$r$t$ t$h$e$ n$o$d$e$ w$h$e$n$ i$tT$h$e$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$ s$h$o$u$l$d$ n$o$t$ b$e$ c$o$n$f$i$g$u$r$e$d$ t$o$ </simpara>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ t$h$e$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$ w$i$<literal role="command"></literal>F$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$<literal></literal><literal></literal>S$i$n$c$e$ t$h$e$ <literal>a$l$l$o$w$-m$i$g$r$a$t$e$</literal> o$p$t$i$o$n$ i$s$ s$e$t$ t$o$ <literal>t$r$u$e$</literal> a$ <literal>p$c$s$ m$o$v$e$ V$M$ <emphasis>n</emphasis></literal></simpara>
<simpara>I$n$ t$h$i$s$ e$x$a$m$p$l$e$ <literal>m$i$g$r$a$t$i$o$n$_t$</literal><literal></literal>N$o$t$e$ t$h$a$t$ f$o$r$ S$S$H$ m$i$g$r$a$t$i$o$n$ t$o$ w$o$r$k$ p$r$o$p$e$r$l$y$, k$e</simpara>
<literallayout class="monospaced"># <literal>pcs resource create VM VirtualDomain config=/etc/pacemaker/guest1.xml migration_transport=ssh meta allow-migrate=true</literal></literallayout>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_configuring-cluster-quorum-configuring-and-managing-high-availability-clusters">
<title>C$l$u$s$t$e$r$</title>
<simpara>A$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ A$d$d$-O$n$ c$l$u$s$t$e$r$ u$s$e$s$ t$h$e$ <literal>v$o$t$e$q$u$o$r$u$m$</literal> s$eA$ n$u$m$b$e$r$ o$f$ v$o$t$e$s$ i$s$ a$s$s$i$g$n$e$d$ t$o$ e$a$c$h$ s$y$s$t$e$m$ i$n$ t$h$e$ c$l$u$s$t$e$r$, a$n$d$ c$l$u$s$t$e$r$ o$p$e$r$a$t$i$o$nT$h$e$ s$e$r$v$i$c$e$ m$u$s$t$ b$e$ l$o$a$d$e$d$ i$n$t$o$ a$l$l$ n$o$d$e$s$ o$r$ n$o$n$e$; i$f$ i$t$ i$s$ l$o$a$d$e$d$ i$n$t$o$ a$ s$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ a$n$d$ o$p$e$r$a$t$i$o$n$ o$f$ t$h$e$ <literal>v$</literal><literal role="command"></literal></simpara>
<section xml:id="ref_quorum-options-configuring-cluster-quorum">
<title>C$o$n$f$i$g$u$r$i$n$g$ q$u</title>
<simpara>T$h$e$r$e$ a$r$e$ s$o$m$e$ s$p$e$c$i$a$l$ f$e$a$t$u$r$e$s$ o$f$ q$u$o$r$u$m$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$h$a$t$ y$o$u$ c$a$n$ s$e$t$ <literal role="command"></literal><xref linkend="tb-quorumoptions-HAAR"/> s$u$m$m$a$r$i$z$e$s$ t$h$</simpara>
<table xml:id="tb-quorumoptions-HAAR" frame="all" rowsep="1" colsep="1">
<title>Q$u$o$r$u$m$ O</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="44*"/>
<colspec colname="col_2" colwidth="56*"/>
<thead>
<row>
<entry align="left" valign="top">O$p$t$</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>a$u$t$o$_t$i$e$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$e$n$ e$n$a$b$l$e$d$, t$h$e$ c$l$u$s$t$e$r$ c$a$n$ s$u$f$f$e$r$ u$p$ t$o$ 50% o$f$ t$h$e$ n$o$d$e$s$ f$a$i$l$iT$h$e$ c$l$u$s$t$e$r$ p$a$r$t$i$t$i$o$n$, o$r$ t$h$e$ s$e$t$ o$f$ n$o$d$e$s$ t$h$a$t$ a$r$e$ s$t$i$l$l$ i$n$ c$o$n$t$a$c$t$ w$i$t$h$ t$h$e$ <literal>n$o$d$e$i$d$</literal> c$o$n$f$i$g$u$r$e$d<literal></literal><literal></literal>T$h$e$ o$t$h$e$r$ n$o$d$e$s$ w$i$l</simpara><simpara>T$h$e$ <literal role="option">a$u$t$o$_t$i$e$_b$r$e$a$k$e$r$</literal> o$p$t$i$o$n$ i$s$ p$r$i$n$c$i$p$a$l$l$y$ u$s$e$d$ f$o$r$ c$l$u$s$t$e$r$s$ w$i$t$h$ a$n$ e$v$e$n$ n$u$m$b$e$r$ o$f$ n$o$F$o$r$ m$o$r$e$ c$o$m$p$l$e$x$ f$a$i$l$u$r$e$s$, s$u$c$h$ a$s$ m$u$l$t$i$p$l$e$, u$n$e$v$e$n$ s$p$l$i$t$s$, i$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d<link linkend="assembly_configuring-quorum-devices-configuring-cluster-quorum"></link></simpara><simpara>T$h$e$ <literal role="option">a$u$t$o$_t$i$e$_b$r$e$a$k$e$r$</literal> o$p$t$i$o$n$ i$s$ i$n$c$o$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>w$a$i$t$_f$o</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$e$n$ e$n$a$b$l$e$d$, t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ b$e$ q$u$o$r$a$t$e$ f$o$r$ t$h$e$ f$i$r$s$t$ t$i$m$e$ o$n$l$y$ a$f$t$e$r$ a</simpara><simpara>T$h$e$ <literal role="option">w$a$i$t$_f$o$r$_a$l$l$</literal> o$p$t$i$o$n$ i$s$ p$r$i$m$a$r$i$l$y$ u$s$e$d$ f$o$r$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$s$ a$n$d$ f$o$r$ e$v$e$n$-n$o$d$e$ c<literal></literal></simpara><simpara>T$h$e$ <literal role="option">w$a$i$t$_f$o$r$_a$l$l$</literal> o$p$t$i$o$n$ i$s$ a$u$t$o$m$a$t$i$c$a$l$l$y$ e$n$a$b$l$e$d$ w$h$e$n$ a$ c$l$u$s$t$e$r$ h$a$s$ t$w$o$ n$o$d$e$s$,<literal role="option"></literal>Y$o$u$ c$a$n$ o$v$e$r$r$i$d$e$ t$h$i$s$ b$y$ e$x$p$l$i$c$i$t$l<literal role="option"></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>l$a$s$t$_m$a$n$_s</literal></simpara></entry>
<entry align="left" valign="top"><simpara>W$h$e$n$ e$n$a$b$l$e$d$, t$h$e$ c$l$u$s$t$e$r$ c$a$n$ d$y$n$a$m$i$c$a$l$l$y$ r$e$c$a$l$c$u$l$a$t$e$ <literal>e$x$p$e$c</literal>Y$o$u$ m$u$s$t$ e$n$a$b$l$e$ <literal>w$a$i$t$_f$o$r$_a$l$l$</literal> w$h$eT$h$e$ <literal>l$a$s$t$_m$a$n$_s$t$a$n$d$i$n$g$</literal> o$p$t$i$o$n$ i$s$ i$n$c$o</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>l$a$s$t$_m$a$n$_s$t$a$n$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ t$i$m$e$, i$n$ m$i$l$l$i$s$e$c$o$n$d$s$, t$o$ w$a$i$t$ b$e$f$o$r$e$ r$e$c$a$l$c$u$l$a$t$i$n$g$ <literal>e$x$p$e$</literal></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>F$o$r$ f$u$r$t$h$e$r$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ c$o$n$f$i$g$u$r$i$n$g$ a$n$d$ u$s$i$n$g$ t<literal role="command"></literal></simpara>
</section>
<section xml:id="proc_modifying-quorum-options-configuring-cluster-quorum">
<title>M$o$d$i$f$y$i$n$g$ q$u$o</title>
<simpara>Y$o$u$ c$a$n$ m$o$d$i$f$y$ g$e$n$e$r$a$l$ q$u$o$r$u$m$ o$p$t$i$o$n$s$ f$o$r$ y$o$u$r$ c$l$<literal role="command"></literal>E$x$e$c$u$t$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$ r$e$q$u$i$r$e$s$ F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ q$u$o$r$u$m$ o$p$t$i$o$n$s$,<literal role="command"></literal></simpara>
<simpara>T$h$e$ f$o$r$m$a$t$ o$f$ t$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ u$p$d$</literal></simpara>
<literallayout class="monospaced">pcs quorum update [auto_tie_breaker=[0|1]] [last_man_standing=[0|1]] [last_man_standing_window=[<emphasis>time-in-ms</emphasis>] [wait_for_all=[0|1]]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$e$r$i$e$s$ o$f$ c$o$m$m$a$n$d$s$ m$o$d$i$f$i$e$s$ t$h$e$ <literal>w$a$i$t$_f$o$r$_a$l$l$</literal> q$u$o$r$u$mN$o$t$e$ t$h$a$t$ t$h$e$ s$y$s$t$e$m$ d$o$e$s$ n$o$t$ a$l$l$o$w$ y$o$u$ t$o$ e$x$e$c$u$t$e$ t</simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum update wait_for_all=1</literal>
Checking corosync is not running on nodes...
Error: node1: corosync is running
Error: node2: corosync is running

[root@node1:~]# <literal>pcs cluster stop --all</literal>
node2: Stopping Cluster (pacemaker)...
node1: Stopping Cluster (pacemaker)...
node1: Stopping Cluster (corosync)...
node2: Stopping Cluster (corosync)...

[root@node1:~]# <literal>pcs quorum update wait_for_all=1</literal>
Checking corosync is not running on nodes...
node2: corosync is not running
node1: corosync is not running
Sending updated corosync.conf to nodes...
node1: Succeeded
node2: Succeeded

[root@node1:~]# <literal>pcs quorum config</literal>
Options:
  wait_for_all: 1</literallayout>
</section>
<section xml:id="proc_displaying-quorum-configuration-status-configuring-cluster-quorum">
<title>D$i$s$p$l$a$y$i$n$g$ q$u$o$r$u$m$ c$o$n$f$</title>
<simpara>O$n$c$e$ a$ c$l$u$s$t$e$r$ i$s$ r$u$n$n$i$n$g$, y$o$u$ c$a$n$ e$n$t$e$r$ t$h$e$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$o$w$s$ t</simpara>
<literallayout class="monospaced">pcs quorum [config]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$o$w$s$ t$</simpara>
<literallayout class="monospaced">pcs quorum status</literallayout>
</section>
<section xml:id="proc_running-inquorate-clusters-configuring-cluster-quorum">
<title>R$u$n$n$i$n$g$ i$n$q$u$o$r</title>
<simpara>I$f$ y$o$u$ t$a$k$e$ n$o$d$e$s$ o$u$t$ o$f$ a$ c$l$u$s$t$e$r$ f$o$r$ a$ l$o$n$g$ p$e$r$i$o$d$ o$f$ t$i$m$e$ a$n$d$ t$h$e$ l$o$s$s$ o$f$ t$h$o$s$e$ n$o$d$e$s$ w$o$u$l$d$ c$a$u$s$e$ q$u$o$r$u$m$ l$o$s$s$, y$o$u$ c$a$n$ c$h$a$n$g$e$ t$h$e<literal></literal><literal role="command"></literal>T$h$i$s$ a$l$l$o$w$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ c$o$n$t$i$n$u$e$ o$p$e$r$a</simpara>
<warning>
<simpara>C$h$a$n$g$i$n$g$ t$h$e$ e$x$p$e$c$t$e$d$ v$o$t$e$s$ i$n$ a$ l$i$v$e$ c$l$u$s$t$e$rI$f$ l$e$s$s$ t$h$a$n$ 50% o$f$ t$h$e$ c$l$u$s$t$e$r$ i$s$ r$u$n$n$i$n$g$ b$e$c$a$u$s$e$ y$o$u$ h$a$v$e$ m$a$n$u$a$l$l$y$ c$h$a$n$g$e$d$ t$h$e$ e$x$p$e$c$t$e$d$ v$o$t$e$s$, t$h$e$n$ t$h$e$ o$t$h$e$r$ n$o$d$e$s$ i$n$ t$h$e$ c$l$u$s$t$e$r$ c$I$f$ y$o$u$ c$h$a$n$g$e$ t$h$i$s$ v$a$l$u$e$, y$o$u$ s$h$o$u$l$d$ e$n$s$u$r$e$ t$h$a$t$<literal></literal></simpara>
</warning>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ e$x$p$e$c$t$e$d$ v$o$t$e$s$ i$n$T$h$i$s$ a$f$f$e$c$t$s$ t$h$e$ l$i$v$e$ c$l$u$s$t$e$r$ o$n$l$y$ a$n$d$ d$o$e$s$ n$o$t$ c$h$a$n$g$e$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$; t$h$e$ v$a$l$u$e$ o$f$ <literal>e$x$p$e$c$t$e</literal></simpara>
<literallayout class="monospaced">pcs quorum expected-votes <emphasis>votes</emphasis></literallayout>
<simpara>I$n$ a$ s$i$t$u$a$t$i$o$n$ i$n$ w$h$i$c$h$ y$o$u$ k$n$o$w$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ i$s$ i$n$q$u$o$r$a$t$e$ b$u$t$ y$o$u$ w$a$n$t$ t$h$e$ c$l$u$s$t$e$r$ t$o$ p$r$o$c$e$e$d$ w$i$t$h$ r$e$s$o$u$r$c$e$ m$a$n$a$g$e$m$e$n$t$, y$o$u$ c$a$n$ u$<literal role="command"></literal></simpara>
<note>
<simpara>T$h$i$s$ c$o$m$m$a$n$d$ s$h$o$u$l$d$ b$e$ u$s$e$dB$e$f$o$r$e$ i$s$s$u$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$, i$t$ i$s$ i$m$p$e$r$a$t$i$v$e$ t$h$a$t$ y$o$u$ e$n$s$u$r$e$ t$h$a$t$ n$o$d$e$s$ t$h$a$t$ a$r$e$ n$o$t$ c$u$r$r$e$n</simpara>
</note>
<literallayout class="monospaced"># <literal>pcs quorum unblock</literal></literallayout>
</section>
<section xml:id="assembly_configuring-quorum-devices-configuring-cluster-quorum">
<title>Q$u$o$r$u$m$ d</title>
<simpara>Y$o$u$ c$a$n$ a$l$l$o$w$ a$ c$l$u$s$t$e$r$ t$o$ s$u$s$t$a$i$n$ m$o$r$e$ n$o$d$e$ f$a$i$l$u$r$e$s$ t$h$a$n$ s$t$a$n$d$a$r$d$ q$u$o$r$u$m$ r$u$l$e$s$ a$l$l$o$w$s$ b$y$ c$o$n$f$i$g$u$r$i$n$g$ a$A$ q$u$o$r$u$m$ d$e$v$i$c$e$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ f$o$r$ c$l$u$s$tW$i$t$h$ t$w$o$-n$o$d$e$ c$l$u$s$t$e$r$s$, t$h$e$ u$s$e$ o$f$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ c$a$n$ b$e$t$t$e$r$ d$e$t$e$</simpara>
<simpara>Y$o$u$ m$u$s$t$ t$a$k$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ i$n$t$o$ a$c$c$o$u$n$t$</simpara>
<itemizedlist>
<listitem>
<simpara>I$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$h$a$t$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ b$e$ r$u$n$ o$n$ a$ d$i$f$f$e$r$e$n$t$ p$h$y$s$i$c$a$l$ n$e$t$w$o$rI$d$e$a$l$l$y$, t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ h$o$s$t$ s$h$o$u$l$d$ b$e$ i$n$ a$ s$e$p$a$r$a$t$e$ r$a$c$k$ t$h$a$n$ t$h$e$ m$a$i$n$ c$l$u$s$t$e$r$, o$r$ a$t$ l$e$a$s$t$ o$n$ a$ </simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$n$o$t$ u$s$e$ m$o$r$e$ t$h$a$n$ o$n$e$ q$u$o$r$u$m$ d$e$v$i$</simpara>
</listitem>
<listitem>
<simpara>A$l$t$h$o$u$g$h$ y$o$u$ c$a$n$n$o$t$ u$s$e$ m$o$r$e$ t$h$a$n$ o$n$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ i$n$ a$ c$l$u$s$t$e$r$ a$t$ t$h$e$ s$a$m$e$ t$i$m$e$, a$ s$iE$a$c$h$ c$l$u$s$t$e$r$ u$s$i$n$g$ t$h$a$t$ q$u$o$r$u$m$ d$e$v$i$c$e$ c$a$n$ u$s$e$ d$i$f$f$e$r$e$n$t$ a$l$g$o$r$i$t$h$m$s$ a$n$d$ q$u$o$r$F$o$r$ e$x$a$m$p$l$e$, a$ s$i$n$g$l$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ c$a$n$ b$e$ u$s$e$d$ b$y$ o$n$e$ c$l$u$s$t$e$r$ w$i$t$h$ a$n$ <literal>f$f$s$p$l$i$t$</literal> (f$i$f$t$y$/f$i$f$t$y$ s$p$l$i$t$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>A$ q$u$o$r$u$m$ d$e$v$i$c$e$ s$h$o$u$l$d$ n$o$t$ b$e$ r$u$n$ o</simpara>
</listitem>
</itemizedlist>
<section xml:id="proc_installing-quorum-device-packages-configuring-quorum-devices">
<title>I$n$s$t$a$l$l$i$n$g$ q$u$o$r$u$m$</title>
<simpara>C$o$n$f$i$g$u$r$i$n$g$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ f$o$r$ a$ c$l$u$s$t$e$r$ r$e$q$u$i$r$e$</simpara>
<itemizedlist>
<listitem>
<simpara>I$n$s$t$a$l$l$ <literal>c$o$r$o$s$y$n$c$-q$d$e$v$i$c$e$</literal> o$n$ t$h$e$ n$</simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>yum install corosync-qdevice</literal>
[root@node2:~]# <literal>yum install corosync-qdevice</literal></literallayout>
</listitem>
<listitem>
<simpara>I$n$s$t$a$l$l$ <literal>p$c$s$</literal> a$n$d$ <literal>c$o$r$o$s$y$n$c$-q$n$e$t$d$</literal> </simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>yum install pcs corosync-qnetd</literal></literallayout>
</listitem>
<listitem>
<simpara>S$t$a$r$t$ t$h$e$ <literal>p$c$s$d$</literal> s$e$r$v$i$c$e$ a$n$d$ e$n$a$b$l$e$ <literal>p$c$s$d$</literal> a$t$ s$y$s</simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>systemctl start pcsd.service</literal>
[root@qdevice:~]# <literal>systemctl enable pcsd.service</literal></literallayout>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_configuring-quorum-device-configuring-quorum-devices">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$ q</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ a$ q$u$o$r$uI$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ n$o$d$e$ u$s$e$d$ f$o$r$ a$ q$u$o$r$u$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ m$o$d$e$l$ i$s$ <literal>n$e$t$</literal>, w$h$i$c$h$ i$s$ c$uT$h$e$ <literal>n$e$t$</literal> m$o$d$e$l$ s$u$p$p$o$r$t$s$ t$h$e$</simpara>
<itemizedlist>
<listitem>
<simpara><literal>f$f$s$p$l$i$t$</literal>: f$i$f$t$y$-T$h$i$s$ p$r$o$v$i$d$e$s$ e$x$a$c$t$l$y$ o$n$e$ v$o$t$e$ t$o$ t$h$e$ p$a$r$t$i$t$i$o$n$ </simpara>
</listitem>
<listitem>
<simpara><literal>l$m$s$</literal>: l$a$s$t$-m$a$n$I$f$ t$h$e$ n$o$d$e$ i$s$ t$h$e$ o$n$l$y$ o$n$e$ l$e$f$t$ i$n$ t$h$e$ c$l$u$s$t$e$r$ t$h$a$t$ c$a$n$ s<literal></literal></simpara>
<warning>
<simpara>T$h$e$ L$M$S$ a$l$g$o$r$i$t$h$m$ a$l$l$o$w$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ r$e$m$a$i$n$ q$u$o$r$a$t$e$ e$v$e$n$ w$i$t$h$ o$n$l$y$ o$n$e$ r$e$m$a$i$n$i$n$g$ n$o$d$e$, b$u$t$ i$t$ a$l$s$o$ m$e$a$n$s$ t$h$a$t$L$o$s$i$n$g$ c$o$n$n$e$c$t$i$o$n$ w$i$t$h$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ m$e$a$n$s$ l$o$s$i$n$g$ n$u$m$b$e$r$_o$f$_n$o$d$e$s$ - 1 v$o$t$e$s$, w$h$i$c$h$ m$e$a$n$s$ t$h$a$t$ o$n$l$y$ a$ c$l$u$s$t$e$r$ w$i$t$h$ a$l$l$ n$o$d$</simpara>
</warning>
<simpara>F$o$r$ m$o$r$e$ d$e$t$a$i$l$e$d$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ i$m$p$l$e$m$e$n$t$a$t$i$o$n$ o$f$ t$h$e$s$<literal></literal></simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>T$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$r$e<literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ c$o$n$f$i$g$u$r$e$s$ a$ q$u$o$r$u$m$ d$e$v$i$c$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ t$h$e$ n$o$d$e$ t$h$a$t$ y$o$u$ w$i$l$l$ u$s$e$ t$o$ h$o$s$t$ y$o$u$r$ q$u$o$r$u$m$ d$e$v$i$c$e$, c$o$n$f$i$T$h$i$s$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$d$ s$t$a$r$t$s$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ m$o$d$e$<literal></literal></simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>pcs qdevice setup model net --enable --start</literal>
Quorum device 'net' initialized
quorum device enabled
Starting quorum device...
quorum device started</literallayout>
<simpara>A$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$T$h$i$s$ s$h$o$u$l$d$ s$h$o$w$ t$h$a$t$ t$h$e$ <literal>c$o$r$o$s$y$n$c$-q$n$e$t$d$</literal> d$a$e$m$o$n$ i$s$ r$u$n$n$i$n$g$ a$n$d$, T$h$e$ <literal role="option">--f$u$l$l$</literal> c$o$m$m$a$n$d$ o$p$t$i$o$n$ p$r$o</simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>pcs qdevice status net --full</literal>
QNetd address:                  *:5403
TLS:                            Supported (client certificate required)
Connected clients:              0
Connected clusters:             0
Maximum send/receive size:      32768/32768 bytes</literallayout>
</listitem>
<listitem>
<simpara>E$n$a$b$l$e$ t$h$e$ p$o$r$t$s$ o$n$ t$h$e$ f$i$r$e$w$a$l$l$ n$e$e$d$e$d$ b$y$ t$h$e$ <literal>p$c$s$d$</literal> d$a$e$m$o$n$ a$n$d$ t$h$e$ <literal>n$e$t$</literal> q$u$o$r$u$m$ d$e$v$i$c$e$ b$y$ e$n$a<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>firewall-cmd --permanent --add-service=high-availability</literal>
[root@qdevice:~]# <literal>firewall-cmd --add-service=high-availability</literal></literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ o$n$e$ o$f$ t$h$e$ n$o$d$e$s$ i$n$ t$h$e$ e$x$i$s$t$i$n$g$ c$l$u$s$t$e$r$, a$u$t$h$e$n$t$i$c$a$t$e$ u$s$e$r$ <literal>h$a</literal>T$h$i$s$ a$l$l$o$w$s$ <literal>p$c$s$</literal> o$n$ t$h$e$ c$l$u$s$t$e$r$ t$o$ c$o$n$n$e$c$t$ t$o$ <literal>p$c$s$</literal> o$n$ t$h$e$ <literal>q$d$e$v$i$c$e$</literal> h$o$s$t$, b$u$t$ d$o$e$s$ n$o$t<literal></literal><literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node1:~] # <literal>pcs host auth qdevice</literal>
Username: hacluster
Password:
qdevice: Authorized</literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$</simpara>
<simpara>B$e$f$o$r$e$ a$d$d$i$n$g$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$, y$o$u$ c$a$n$ c$h$e$c$k$ t$h$e$ c$u$r$r$e$n$t$ c$o$n$f$i$g$u$r$a$t$T$h$e$ o$u$t$p$u$t$ f$o$r$ t$h$e$s$e$ c$o$m$m$a$n$d$s$ i$n$d$i$c$a$t$e$s$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ i$s$ n$o$t$ y$e$t$ u$s$i$n$g$ a$ q$u$o$r$u$m$ d$e$v$i$c$e<literal></literal><literal></literal></simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum config</literal>
Options:</literallayout>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum status</literal>
Quorum information
------------------
Date:             Wed Jun 29 13:15:36 2016
Quorum provider:  corosync_votequorum
Nodes:            2
Node ID:          1
Ring ID:          1/8272
Quorate:          Yes

Votequorum information
----------------------
Expected votes:   2
Highest expected: 2
Total votes:      2
Quorum:           1
Flags:            2Node Quorate

Membership information
----------------------
    Nodeid      Votes    Qdevice Name
         1          1         NR node1 (local)
         2          1         NR node2</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ a$d$d$s$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ t$h$a$t$ yY$o$u$ c$a$n$n$o$t$ u$s$e$ m$o$r$e$ t$h$a$n$ o$n$e$ q$u$o$r$u$m$ d$e$v$i$H$o$w$e$v$e$r$, o$n$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ c$a$n$ b$e$ u$s$e$d$ b$y$ sT$h$i$s$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$ c$o$n$f$i$g$u$r$e$s$ t$h$e$ q$u$o$r$u$m$<literal></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ o$p$t$i$o$n$s$ f$o$r$ t$h$e$ q$u$o$r<literal></literal></simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum device add model net host=qdevice</literal> \
<literal>algorithm=ffsplit</literal>
Setting up qdevice certificates on nodes...
node2: Succeeded
node1: Succeeded
Enabling corosync-qdevice...
node1: corosync-qdevice enabled
node2: corosync-qdevice enabled
Sending updated corosync.conf to nodes...
node1: Succeeded
node2: Succeeded
Corosync configuration reloaded
Starting corosync-qdevice...
node1: corosync-qdevice started
node2: corosync-qdevice started</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ s$t$a$t</simpara>
<simpara>F$r$o$m$ t$h$e$ c$l$u$s$t$e$r$ s$i$d$e$, y$o$u$ c$a$n$ e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m</simpara>
<simpara>T$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ c$o$n$f$i$g$</literal> s$h$o$w$s$ t$h$e$ q$u$o$r$u$m$ </simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum config</literal>
Options:
Device:
  Model: net
    algorithm: ffsplit
    host: qdevice</literallayout>
<simpara>T$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ s$t$a$t$u$s$</literal> c$o$m$m$a$n$d$ s$h$o$w$s$ t$h$e$ q$u$o$r$u$m$ r$u$n$t$i$m$e$ s$t$a$T$h$e$ m$e$a$n$i$n$g$s$ o$f$ o$f$ t$h$e$ <literal>Q$d$e$v$i$c$e$</literal> m$e$m$b$e$r$s$h$i$p$ i$n$f$o$r$m$a$t$i$o$n$ s$t$a</simpara>
<itemizedlist>
<listitem>
<simpara><literal>A$/N$A$</literal> — T$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ i$s$ a$l$i$v$e$ o$r$ n$o$t$ a$l$i$v$e$, i$n$d$i$c$a$t$i$n$g$ w$h$e$t$h$e$r<literal></literal><literal></literal>T$h$i$s$ s$h$o$u$l$d$ a$l$w$a$y$s$ i$n$d$i$c$a$t$e$ t$h$a$t$</simpara>
</listitem>
<listitem>
<simpara><literal>V$/N$V$</literal> — <literal>V$</literal> i$s$ s$e$t$ w$h$e$n$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$I$n$ t$h$i$s$ e$x$a$m$p$l$e$, b$o$t$h$ n$o$d$e$s$ a$r$e$ s$e$t$ t$o$ <literal>V$</literal> s$i$n$c$e$ tI$f$ t$h$e$ c$l$u$s$t$e$r$ w$e$r$e$ t$o$ s$p$l$i$t$ i$n$t$o$ t$w$o$ s$i$n$g$l$e$-n$o$d$e$ c$l$u$s$t$e$r$s$, o$n$e$ o$f$ t$h$e$ n$o$d$<literal></literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara><literal>M$W$/N$M$W$</literal> — T$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ <literal>m$a$s$t$e$r$_ w$</literal>B$y$ d$e$f$a$u$l$t$ t$h$e$ f$l$a$g$ i$s$ n$o$t$ s$e$t$ a$n$d$ t$h$e$ v<literal></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal>m$a$s$t$e$r$_w$i$n$s$</literal> f$l$a$g$ s$e$e$ t$h$e$ <literal>v$o$</literal></simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum status</literal>
Quorum information
------------------
Date:             Wed Jun 29 13:17:02 2016
Quorum provider:  corosync_votequorum
Nodes:            2
Node ID:          1
Ring ID:          1/8272
Quorate:          Yes

Votequorum information
----------------------
Expected votes:   3
Highest expected: 3
Total votes:      3
Quorum:           2
Flags:            Quorate Qdevice

Membership information
----------------------
    Nodeid      Votes    Qdevice Name
         1          1    A,V,NMW node1 (local)
         2          1    A,V,NMW node2
         0          1            Qdevice</literallayout>
<simpara>T$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ d$e$v$i$c$e$ s$t$a$t$u$s$</literal> s$h$o$w$s$ t$h$</simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum device status</literal>
Qdevice information
-------------------
Model:                  Net
Node ID:                1
Configured node list:
    0   Node ID = 1
    1   Node ID = 2
Membership node list:   1, 2

Qdevice-net information
----------------------
Cluster name:           mycluster
QNetd host:             qdevice:5403
Algorithm:              ffsplit
Tie-breaker:            Node with lowest node ID
State:                  Connected</literallayout>
<simpara>F$r$o$m$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ s$i$d$e$, y$o$u$ c$a$n$ e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ s$t$a$t$u$s$ c$o$m$m<literal></literal></simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>pcs qdevice status net --full</literal>
QNetd address:                  *:5403
TLS:                            Supported (client certificate required)
Connected clients:              2
Connected clusters:             1
Maximum send/receive size:      32768/32768 bytes
Cluster "mycluster":
    Algorithm:          ffsplit
    Tie-breaker:        Node with lowest node ID
    Node ID 2:
        Client address:         ::ffff:192.168.122.122:50028
        HB interval:            8000ms
        Configured node list:   1, 2
        Ring ID:                1.2050
        Membership node list:   1, 2
        TLS active:             Yes (client certificate verified)
        Vote:                   ACK (ACK)
    Node ID 1:
        Client address:         ::ffff:192.168.122.121:48786
        HB interval:            8000ms
        Configured node list:   1, 2
        Ring ID:                1.2050
        Membership node list:   1, 2
        TLS active:             Yes (client certificate verified)
        Vote:                   ACK (ACK)</literallayout>
</listitem>
</itemizedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_managing-quorum-device-service-configuring-quorum-devices">
<title>M$a$n$a$g$i$n$g$ t$h$e$ Q$u$o$r$u$</title>
<simpara>P$C$S$ p$r$o$v$i$d$e$s$ t$h$e$ a$b$i$l$i$t$y$ t$o$ m$a$n$a$g$e$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ s$e$r$v$i$c$e$ o$n$ t$h$e$ l$o$c$a$l$ h$o$s<literal role="command"></literal>N$o$t$e$ t$h$a$t$ t$h$e$s$e$ c$o$m$m$a$n$d$s$ a$f$f$e$c$t$ o$n$l<literal></literal></simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>pcs qdevice start net</literal>
[root@qdevice:~]# <literal>pcs qdevice stop net</literal>
[root@qdevice:~]# <literal>pcs qdevice enable net</literal>
[root@qdevice:~]# <literal>pcs qdevice disable net</literal>
[root@qdevice:~]# <literal>pcs qdevice kill net</literal></literallayout>
</section>
<section xml:id="proc_managing-quorum-device-settingsconfiguring-quorum-devices">
<title>M$a$n$a$g$i$n$g$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$e$c$t$i$o$n$s$ d$e$s$c$r$i$b$e$ t$h$e$ P$C$S$ c$o$m$m$a$n$d$s$ t$h$a$t$ y$o$u$ c$a$n$ u$</simpara>
<section xml:id="s3-changeqdevice-HAAR">
<title>C$h$a$n$g$i$n$g$ q$u$o$r$u$m$ d</title>
<simpara>Y$o$u$ c$a$n$ c$h$a$n$g$e$ t$h$e$ s$e$t$t$i$n$g$ o$f$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ w$i$t<literal role="command"></literal></simpara>
<warning>
<simpara>T$o$ c$h$a$n$g$e$ t$h$e$ <literal>h$o$s$t$</literal> o$p$t$i$o$n$ o$f$ q$u$o$r$u$m$ d$e$v$i$c$e$ m$o$d$e$l$ <literal>n$e$t$</literal>, u$s$e$ t$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ d$e$v$i$c$e$ r$e$m$o$v$e$</literal> a$n$d$ t$h$e$ <literal role="command">p$c$s$ q$u$o$r$u$m$ d$e$v$i$c$e$ a$d$d$</literal> c$o$m$</simpara>
</warning>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$h$a$n$g$e$s$ t$h$e$ q$<literal></literal></simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum device update model algorithm=lms</literal>
Sending updated corosync.conf to nodes...
node1: Succeeded
node2: Succeeded
Corosync configuration reloaded
Reloading qdevice configuration on nodes...
node1: corosync-qdevice stopped
node2: corosync-qdevice stopped
node1: corosync-qdevice started
node2: corosync-qdevice started</literallayout>
</section>
<section xml:id="removing_a_quorum_device" remap="_removing_a_quorum_device">
<title>R$e$m$o$v$i$n$g$ a$ q$u$</title>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ r$e$m$o$v$e$ a$ q$u$o$r$u$m$</simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum device remove</literal>
Sending updated corosync.conf to nodes...
node1: Succeeded
node2: Succeeded
Corosync configuration reloaded
Disabling corosync-qdevice...
node1: corosync-qdevice disabled
node2: corosync-qdevice disabled
Stopping corosync-qdevice...
node1: corosync-qdevice stopped
node2: corosync-qdevice stopped
Removing qdevice certificates from nodes...
node1: Succeeded
node2: Succeeded</literallayout>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ r$e$m$o$v$e$d$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$, y$o$u$ s$h$o$u$l$d$ s$e$e$ t$h$e$ f$o$l$l$o$w$i$n$g$</simpara>
<literallayout class="monospaced">[root@node1:~]# <literal>pcs quorum device status</literal>
Error: Unable to get quorum status: corosync-qdevice-tool: Can't connect to QDevice socket (is QDevice running?): No such file or directory</literallayout>
</section>
<section xml:id="destroying_a_quorum_device" remap="_destroying_a_quorum_device">
<title>D$e$s$t$r$o$y$i$n$g$ a$ q$</title>
<simpara>T$o$ d$i$s$a$b$l$e$ a$n$d$ s$t$o$p$ a$ q$u$o$r$u$m$ d$e$v$i$c$e$ o$n$ t$h$e$ q$u$o$r$u$m$ d$e$v$i$c$e$ h$o$s$t$ a$n$d$ d$e$l$e$t$e$</simpara>
<literallayout class="monospaced">[root@qdevice:~]# <literal>pcs qdevice destroy net</literal>
Stopping quorum device...
quorum device stopped
quorum device disabled
Quorum device 'net' configuration files removed</literallayout>
</section>
</section>
</section>
</chapter>
<chapter xml:id="assembly_configuring-pacemaker-alert-agents_configuring-and-managing-high-availability-clusters">
<title>T$r$i$g$g$e$r$i$n$g$ s$c$r$i$p$t$s$ f</title>
<simpara>A$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ i$s$ a$n$ e$v$e$n$t$-d$r$i$v$e$n$ s$y$s$t$e$m$, w$h$e$r$e$ a$n$ e$v$e$n$t$ m$i$g$h$t$ b$e$ a$ r$e$s$o$u$r$c$e$ o$r$ n$o$dY$o$u$ c$a$n$ c$o$n$f$i$g$u$r$e$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ a$l$e$r$t$s$ t$o$ t$a$k$e$ s$o$m$e$ e$x$t$e$r$n$a$l$ a$c$t$i$o$n$ w$h$e$n$ a$ c$l$u$s$t$e$r$ e$v$e$n$t$ o$c$c$u$r$s$ b$y$ m$e$a$n$s$ o$f$ a$l$e$r$t$ a$g$e$n$t$s$, w$h$i$c$h$ a$r$e$ e$x$t$e$r$n$a$l$ p$r$o$g$r$a$m$s</simpara>
<simpara>T$h$e$ c$l$u$s$t$e$r$ p$a$s$s$e$s$ i$n$f$o$r$m$a$t$i$o$n$ a$b$o$u$t$ t$h$e$ e$v$e$n$t$ t$o$ t$A$g$e$n$t$s$ c$a$n$ d$o$ a$n$y$t$h$i$n$g$ w$i$t$h$ t$h$i$s$ i$n$f$o$r$m$a$t$i$o$n$, s$u$c$h$ a$s$ s$e$n$d$ a$n$ e$m$a$i$l$ </simpara>
<itemizedlist>
<listitem>
<simpara>P$a$c$e$m$a$k$e$r$ p$r$o$v$i$d$e$s$ s$e$v$e$r$a$l$ s$a$m$p$l$e$ a$l$e$r$t$ a$g$e$n$t$s$, w$h$i$c$h$ a$r$e$ i$n<literal></literal>T$h$e$s$e$ s$a$m$p$l$e$ s$c$r$i$p$t$s$ m$a$y$ b$e$ c$o$p$i$e$d$ a$n$d$ u$s$e$d$ a$s$ i$s$, o$r$ t$h$e$y$ m$a$y$ b$e$ u$R$e$f$e$r$ t$o$ t$h$e$ s$o$u$r$c$e$ c$o$d$e$ o$f$ t$h$e$ s$a$m$p$l$e$ a$g$e$n$t$s$ f$o$r$ </simpara>
</listitem>
<listitem>
<simpara>I$f$ t$h$e$ s$a$m$p$l$e$ a$l$e$r$t$ a$g$e$n$t$s$ d$o$ n$o$t$ m$e$e$t$ y$o$u$r$ n$e$e$d$s$, y$o$u$ c$a$n$ w$r$i$t$e$ y</simpara>
</listitem>
</itemizedlist>
<section xml:id="using-sample-alert-agents-configuring-pacemaker-alert-agents">
<title>I$n$s$t$a$l$l$i$n$g$ a$n$d$ c$o$n$f$i$g$u$r$i$</title>
<simpara>W$h$e$n$ y$o$u$ u$s$e$ o$n$e$ o$f$ t$h$e$ s$a$m$p$l$e$ a$l$e$r$t$ a$g$e$n$t$s$, y$o$u$ s$h$o$u$l$d$ r$e$v$i$eT$h$e$s$e$ s$a$m$p$l$e$ a$g$e$n$t$s$ a$r$e$ p$r$o$v$i$d$e$d$ a$s$ a$ s$t$a$r$t$i$n$g$ p$o$i$n$t$ f$o$r$ c$N$o$t$e$ t$h$a$t$ w$h$i$l$e$ R$e$d$ H$a$t$ s$u$p$p$o$r$t$s$ t$h$e$ i$n$t$e$r$f$a$c$e$s$ t$h$a$t$ t$h$e$ a$l$e$r$t$ a$g$e$n$t$s$ s$c$r$i$p$t$s$ u$s$e$ t$o$ c$o$m$m$u$n$i$c$a$t$e$ w</simpara>
<simpara>T$o$ u$s$e$ o$n$e$ o$f$ t$h$e$ s$a$m$p$l$e$ a$l$e$r$t$ a$g$e$n$t$s$, y$o$u$ m$u$s$t$ i$n$s$t$aF$o$r$ e$x$a$m$p$l$e$, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ i$n$s$t$a$l$l$s$ t$h$e$ <literal>a$l$e</literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>install --mode=0755 /usr/share/pacemaker/alerts/alert_file.sh.sample /var/lib/pacemaker/alert_file.sh</literal></literallayout>
<simpara>A$f$t$e$r$ y$o$u$ h$a$v$e$ i$n$s$t$a$l$l$e$d$ t$h$e$ s$c$r$i$p$t$, y$o$u$ c$a$n$ c</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$l$e$r$t$ t$h$a$t$ u$s$e$s$ t$h$e$ i$n$s$t$a$l$l<literal></literal>A$l$e$r$t$ a$g$e$n$t$s$ r$u$n$ a$s$ t$h$e$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal>, w$h$i$c</simpara>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ t$h$e$ l$o$g$ f$i$l$e$ <literal>p$c$m$k$_a$l$e$r$t$_f$i$l$e$.l$</literal>I$t$ t$h$e$n$ c$r$e$a$t$e$s$ t$h$e$ a$l$e$r$t$ a$g$e$n$t$ a$n$d$ a$d$d$s$ t$h$e$ p$</simpara>
<literallayout class="monospaced"># <literal>touch /var/log/pcmk_alert_file.log</literal>
# <literal>chown hacluster:haclient /var/log/pcmk_alert_file.log</literal>
# <literal>chmod 600 /var/log/pcmk_alert_file.log</literal>
# <literal>pcs alert create id=alert_file description="Log events to a file." path=/var/lib/pacemaker/alert_file.sh</literal>
# <literal>pcs alert recipient add alert_file id=my-alert_logfile value=/var/log/pcmk_alert_file.log</literal></literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ i$n$s$t$a$l$l$s$ t$h$e$ <literal>a$l$e$r$t$_s$n$m$p$.s$h$.s$a$m$p$l$e$</literal> s$c$r$i$p$t$ a$s$ <literal>a$l$e$r$t$_s$n$m$p$.s$h$</literal> a$n$d$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$l$e$r$t$ t<literal></literal>B$y$ d$e$f$a$u$l$t$, t$h$e$ s$c$r$i$p$t$ w$i$l$l$ s$e$n$d$ a$l$l$ e$v$e$n$t$s$ e$x$c$e$p$t$ s$uT$h$i$s$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ t$h$e$ t$i$m$e$s$A$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ a$l$e$r$t$, t$h$i$s$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$ r$e$c$i$p$i$e$n</simpara>
<literallayout class="monospaced"># <literal>install --mode=0755 /usr/share/pacemaker/alerts/alert_snmp.sh.sample /var/lib/pacemaker/alert_snmp.sh</literal>
# <literal>pcs alert create id=snmp_alert path=/var/lib/pacemaker/alert_snmp.sh meta timestamp-format="%Y-%m-%d,%H:%M:%S.%01N"</literal>
# <literal>pcs alert recipient add snmp_alert value=192.168.1.2</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: snmp_alert (path=/var/lib/pacemaker/alert_snmp.sh)
  Meta options: timestamp-format=%Y-%m-%d,%H:%M:%S.%01N.
  Recipients:
   Recipient: snmp_alert-recipient (value=192.168.1.2)</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ i$n$s$t$a$l$l$s$ t$h$e$ <literal>a$l$e$r$t$_s$m$t$p$.s$h$</literal> a$g$e$n$t$ a$n$d$ t$h$e$n$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$l$e$r$t$ t$h$a$tA$f$t$e$r$ c$o$n$f$i$g$u$r$i$n$g$ t$h$e$ a$l$e$r$t$, t$h$i$s$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$ r</simpara>
<literallayout class="monospaced"># <literal>install --mode=0755 /usr/share/pacemaker/alerts/alert_smtp.sh.sample /var/lib/pacemaker/alert_smtp.sh</literal>
# <literal>pcs alert create id=smtp_alert path=/var/lib/pacemaker/alert_smtp.sh options email_sender=donotreply@example.com</literal>
# <literal>pcs alert recipient add smtp_alert value=admin@example.com</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: smtp_alert (path=/var/lib/pacemaker/alert_smtp.sh)
  Options: email_sender=<link xlink:href="mailto:donotreply@example.com">donotreply@example.com</link>
  Recipients:
   Recipient: smtp_alert-recipient (value=<link xlink:href="mailto:admin@example.com">admin@example.com</link>)</literallayout>
</section>
<section xml:id="creating_a_cluster_alert" remap="_creating_a_cluster_alert">
<title>C$r$e$a$t$i$n$g$ a$ c$l$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ c$r$eT$h$e$ o$p$t$i$o$n$s$ t$h$a$t$ y$o$u$ c$o$n$f$i$g$u$r$e$ a$r$e$ a$g$e$n$t$-s$p$e$c$i$f$i$c$ c$o$n$f$i$g$u$r$a$t$i$o$n$ v$a$l$u$e$s$ t$h$a$t$ a$r$e$ p$a$s$s$e$d$ t$o$ t$h$e$ I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$ v$a$l$u$e$ f$o$r$ <literal></literal></simpara>
<literallayout class="monospaced">pcs alert create path=<emphasis>path</emphasis> [id=<emphasis>alert-id</emphasis>] [description=<emphasis>description</emphasis>] [options [<emphasis>option</emphasis>=<emphasis>value</emphasis>]...] [meta [<emphasis>meta-option</emphasis>=<emphasis>value</emphasis>]...]</literallayout>
<simpara>M$u$l$t$i$p$l$e$ a$l$e$r$t$ a$g$e$n$t$s$ m$a$y$ b$e$ c$o$n$f$i$g$u$r$e$d$; t$h$e$ c$l$u$s$A$l$e$r$t$ a$g$e$n$t$s$ w$i$l$l$ b$e$ c$a$l$l$e$d$T$h$e$y$ w$i$l$l$ b$e$ c$a$l$l$e$d$ f$o$r$ e$v$e$n$t$s$ i$n$v$o$l$v$i$n$g$ P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ n$o</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$r$e$a$t$e$s$ a$ s$i$m$p$l$e$ a$l$e$r$t$ t$h$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert create id=my_alert path=/path/to/myscript.sh</literal></literallayout>
</section>
<section xml:id="displaying_modifying_and_removing_cluster_alerts" remap="_displaying_modifying_and_removing_cluster_alerts">
<title>D$i$s$p$l$a$y$i$n$g$, m$o$d$i$f$y$i$n$g$, a$n$d$ r</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$h$o$w$s$ a$l$l$ c$o$n$f$i$g$u$r$e$d$ a$l$e$r$t$s$ a$l$o</simpara>
<literallayout class="monospaced">pcs alert [config|show]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ u$p$d$a$t$e$s$ a$n$ e$x$i$s$t$i$n$g$ a$l$<emphasis></emphasis></simpara>
<literallayout class="monospaced">pcs alert update <emphasis>alert-id</emphasis> [path=<emphasis>path</emphasis>] [description=<emphasis>description</emphasis>] [options [<emphasis>option</emphasis>=<emphasis>value</emphasis>]...] [meta [<emphasis>meta-option</emphasis>=<emphasis>value</emphasis>]...]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ a$n$ a$l$e$r$t$ w<emphasis></emphasis></simpara>
<literallayout class="monospaced">pcs alert remove <emphasis>alert-id</emphasis></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ r$u$n$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ d$e$l$e$t$e$</literal> c$o$m$m$a$n$d$, w$h$i$c<literal></literal>B$o$t$h$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ d$e$l$e$t$e$</literal> a$n$d$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ r$e$m$o$v$e$</literal> c$o$m$m$a$n$d$s$ a$l$l$</simpara>
</section>
<section xml:id="configuring_alert_recipients" remap="_configuring_alert_recipients">
<title>C$o$n$f$i$g$u$r$i$n$g$ a$l$e</title>
<simpara>U$s$u$a$l$l$y$ a$l$e$r$t$s$ a$r$e$ d$i$r$e$c$t$eT$h$u$s$ e$a$c$h$ a$l$e$r$t$ m$a$y$ b$e$ a$d$d$i$t$i$o$n$a$l$l$y$ c$o$n$f$iT$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ c$a$l$l$ t$h$e$ a$g$e$n$t$ s$e$</simpara>
<simpara>T$h$e$ r$e$c$i$p$i$e$n$t$ m$a$y$ b$e$ a$n$y$t$h$i$n$g$ t$h$e$ a$l$e$r$t$ a$g$e$n$t$ c$a$n$ r$e$c$o$g$n$i$z$e$: a$n$ I$P$ a$d$d$r$e$s$s$, a$n$ e$m$a$i</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ a$d$d$s$ a$ n$e$w$ r$e$c$</simpara>
<literallayout class="monospaced">pcs alert recipient add <emphasis>alert-id</emphasis> value=<emphasis>recipient-value</emphasis> [id=<emphasis>recipient-id</emphasis>] [description=<emphasis>description</emphasis>] [options [<emphasis>option</emphasis>=<emphasis>value</emphasis>]...] [meta [<emphasis>meta-option</emphasis>=<emphasis>value</emphasis>]...]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ u$p$d$a$t$e$s$ a$</simpara>
<literallayout class="monospaced">pcs alert recipient update <emphasis>recipient-id</emphasis> [value=<emphasis>recipient-value</emphasis>] [description=<emphasis>description</emphasis>] [options [<emphasis>option</emphasis>=<emphasis>value</emphasis>]...] [meta [<emphasis>meta-option</emphasis>=<emphasis>value</emphasis>]...]</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$</simpara>
<literallayout class="monospaced">pcs alert recipient remove <emphasis>recipient-id</emphasis></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ r$u$n$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ r$e$c$i$p$i$e$n$t$ d$e$l$e$t$e$</literal> c$o$m$m$a$n$d$, w$h$i$c$<literal></literal>B$o$t$h$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ r$e$c$i$p$i$e$n$t$ r$e$m$o$v$e$</literal> a$n$d$ t$h$e$ <literal>p$c$s$ a$l$e$r$t$ r$e$c$i$p$i$e$n$t$ d$e$l$e$t$e$</literal> </simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$ a$d$d$s$ t$h$e$ a$l$e$r$t$ r$e$c$i$p$i$e$n$t$ <literal>m$y$-a$l$e$r$t$-r$e$c$i$p$i$e$n$t</literal><literal></literal><literal></literal>T$h$i$s$ w$i$l$l$ c$o$n$f$i$g$u$r$e$ t$h$e$ c$l$u$s$t$e$r$ t$o$ c$a$l$l$ t$h$e$ a$l$e$r$t$ s$c$r$i$p$t$ t$h$a$t$ h$a$s$ b$e$e$n$ c$o$n$f$i$g$u$r$e$d$ f$o$r$ <literal>m$y$-a$l$e$r$t$</literal> <literal></literal></simpara>
<literallayout class="monospaced">#  <literal>pcs alert recipient add my-alert value=my-alert-recipient id=my-recipient-id options value=some-address</literal></literallayout>
</section>
<section xml:id="alert_meta_options" remap="_alert_meta_options">
<title>A$l$e$r$t$ m$e$t$a</title>
<simpara>A$s$ w$i$t$h$ r$e$s$o$u$r$c$e$ a$g$e$n$t$s$, m$e$t$a$ o$p$t$i$o$n$s$ c$a$n$ b$e$ c$o$n$f$i$g$u$r$e$d$ f$o$r$<xref linkend="tb-alert-meta-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ a$l$e$rM$e$t$a$ o$p$t$i$o$n$s$ c$a$n$ b$e$ c$o$n$f$i$g$u$r$e$d$ p$e$r$ a$l$e$r$</simpara>
<table xml:id="tb-alert-meta-HAAR" frame="all" rowsep="1" colsep="1">
<title>A$l$e$r$t$ M$e$t$a</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="33*"/>
<colspec colname="col_2" colwidth="33*"/>
<colspec colname="col_3" colwidth="33*"/>
<thead>
<row>
<entry align="left" valign="top">M$e$t$a$-A$t$t</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>t$i$m$e$s$t$a$m$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>%H$:%M$:%S$.%</simpara></entry>
<entry align="left" valign="top"><simpara>F$o$r$m$a$t$ t$h$e$ c$l$u$s$t$e$r$ w$i$l$l$ u$s$e$ w$h$e$n$ s$e$n$d$i$n$g$ tT$h$i$s$ i$s$ a$ s$t$r$i$n$g$ a$s$ u$s$e$d$ w$i$t$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>t$i$m$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>30s</simpara></entry>
<entry align="left" valign="top"><simpara>I$f$ t$h$e$ a$l$e$r$t$ a$g$e$n$t$ d$o$e$s$ n$o$t$ c$o$m$p$l$e$t$e$ w$i$t$h$i$n$ t$h$i$s</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ e$x$a$m$p$l$e$ c$o$n$f$i$g$u$r$e$s$ a$n$ a$l$e$r$t$ t$h$a$t$ c$a$l$l$s$ t$h$e$ s$c$r$i$p$t$ <literal></literal>T$h$e$ f$i$r$s$t$ r$e$c$i$p$i$e$n$t$ h$a$s$ a$n$ I$D$ o$f$ <literal>m$y$-a$l$e$r$t$-r$e$c$i$p$i$e$n$t$1</literal> a$n$d$ t$h$e$ s$<literal></literal>T$h$e$ s$c$r$i$p$t$ w$i$l$l$ g$e$t$ c$a$l$l$e$d$ t$w$i$c$e$ f$o$r$ e$a$c$h$ e$v$e$n$t$, w$O$n$e$ c$a$l$l$ w$i$l$l$ b$e$ p$a$s$s$e$d$ t$o$ t$h$e$ r$e$c$i$p$i$e$n$t$ <literal>s$o$m$e$u$s$e$r$@e$x$a$m$p$l$e$.c$o$m$</literal> w$i$t$h$ a$ t$i$m$e$s$t$a$m$p$ i$n$ t$h$e$ f$o$r$m$a$t$ %D$ %H$:%M$, w$h$i$l$e$ t$h$e$ o$t$h$e$r$ c<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert create id=my-alert path=/path/to/myscript.sh meta timeout=15s</literal>
# <literal>pcs alert recipient add my-alert value=someuser@example.com id=my-alert-recipient1 meta timestamp-format="%D %H:%M"</literal>
# <literal>pcs alert recipient add my-alert value=otheruser@example.com id=my-alert-recipient2 meta timestamp-format="%c"</literal></literallayout>
</section>
<section xml:id="alert_configuration_command_examples" remap="_alert_configuration_command_examples">
<title>A$l$e$r$t$ c$o$n$f$i$g$u$r$a$t$i$o$n</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ s$e$q$u$e$n$t$i$a$l$ e$x$a$m$p$l$e$s$ s$h$o$w$ s$o$m$e$ b$a$s$i$c$ a$l$e$r$t$ c$o$n$f$i$g$u$r$a$t$i$o$n$ c$o$m$m$a$n$d$s$ t$o$ s$h$o$w$ t$h$e$ f$o$</simpara>
<simpara>N$o$t$e$ t$h$a$t$ w$h$i$l$e$ y$o$u$ m$u$s$t$ i$n$s$t$a$l$l$ t$h$e$ a$l$e$r$t$ a$g$e$n$t$s$ t$h$e$m$s$e$l$v$e$s$ o$n$ e$a$c$h$ n$o$d<literal></literal></simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ c$r$e$a$t$e$ a$ s$i$m$p$l$e$ a$l$e$r$t$, a$d$d$ t$w$o$ r$e$c$i$p$i$e$n</simpara>
<itemizedlist>
<listitem>
<simpara>S$i$n$c$e$ n$o$ a$l$e$r$t$ I$D$ v$a$l$u$e$ i$s$ s$p$e$c$i$f$i$e$d$, t$h$e$ s$y$s$t$e<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ f$i$r$s$t$ r$e$c$i$p$i$e$n$t$ c$r$e$a$t$i$o$n$ c$o$m$m$a$n$d$ s$p<literal></literal>S$i$n$c$e$ t$h$i$s$ c$o$m$m$a$n$d$ d$o$e$s$ n$o$t$ s$p$e$c$i$f$y$ a$ r$e$c$i$p$i$e$n$t$ I$D$, t$h$e$ v$a$l$u$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ s$e$c$o$n$d$ r$e$c$i$p$i$e$n$t$ c$r$e$a$t$i$o$n$ c$o$m$m$a$n$d$ s$p<literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ s$p$e$c$i$f$i$e$s$ a$ r$e$c$i$p$i$e$n$t$ I$D$ o$<literal></literal></simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced"># <literal>pcs alert create path=/my/path</literal>
# <literal>pcs alert recipient add alert value=rec_value</literal>
# <literal>pcs alert recipient add alert value=rec_value2 id=my-recipient</literal>
# <literal>pcs alert config</literal>
Alerts:
 Alert: alert (path=/my/path)
  Recipients:
   Recipient: alert-recipient (value=rec_value)
   Recipient: my-recipient (value=rec_value2)</literallayout>
<simpara>T$h$i$s$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ a$d$d$ a$ s$e$c$o$n$d$ a$l$e$T$h$e$ a$l$e$r$t$ I$D$ f$o$r$ t$h$e$ s$e$c$o$n$d$ a$l$e$r$t$ i$s$ <literal>m$y$-a$l$e$r$t$</literal> a$n$d$ t$h<literal></literal>S$i$n$c$e$ n$o$ r$e$c$i$p$i$e$n$t$ I$D$ i$s$ s$p$e$c$i$f$i$e$d$, t$h$e$ s$y$s$t$e$m$ p$r$o$v$<literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert create id=my-alert path=/path/to/script description=alert_description options option1=value1 opt=val meta timeout=50s timestamp-format="%H%B%S"</literal>
# <literal>pcs alert recipient add my-alert value=my-other-recipient</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: alert (path=/my/path)
  Recipients:
   Recipient: alert-recipient (value=rec_value)
   Recipient: my-recipient (value=rec_value2)
 Alert: my-alert (path=/path/to/script)
  Description: alert_description
  Options: opt=val option1=value1
  Meta options: timestamp-format=%H%B%S timeout=50s
  Recipients:
   Recipient: my-alert-recipient (value=my-other-recipient)</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ m$o$d$i$f$y$ t$h$e$ a$l$e$r$t$ v$a$l$u$e$s$ f$o$r$ t$h$e$ a$l$e$r$t$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert update my-alert options option1=newvalue1 meta timestamp-format="%H%M%S"</literal>
# <literal>pcs alert recipient update my-alert-recipient options option1=new meta timeout=60s</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: alert (path=/my/path)
  Recipients:
   Recipient: alert-recipient (value=rec_value)
   Recipient: my-recipient (value=rec_value2)
 Alert: my-alert (path=/path/to/script)
  Description: alert_description
  Options: opt=val option1=newvalue1
  Meta options: timestamp-format=%H%M%S timeout=50s
  Recipients:
   Recipient: my-alert-recipient (value=my-other-recipient)
    Options: option1=new
    Meta options: timeout=60s</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ r$e$c$i$p$i<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert recipient remove my-recipient</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: alert (path=/my/path)
  Recipients:
   Recipient: alert-recipient (value=rec_value)
 Alert: my-alert (path=/path/to/script)
  Description: alert_description
  Options: opt=val option1=newvalue1
  Meta options: timestamp-format="%M%B%S" timeout=50s
  Recipients:
   Recipient: my-alert-recipient (value=my-other-recipient)
    Options: option1=new
    Meta options: timeout=60s</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ <literal>m$y$a</literal></simpara>
<literallayout class="monospaced"># <literal>pcs alert remove myalert</literal>
# <literal>pcs alert</literal>
Alerts:
 Alert: alert (path=/my/path)
  Recipients:
   Recipient: alert-recipient (value=rec_value)</literallayout>
</section>
<section xml:id="writing_an_alert_agent" remap="_writing_an_alert_agent">
<title>W$r$i$t$i$n$g$ a$n$ a$</title>
<simpara>T$h$e$r$e$ a$r$e$ t$h$r$e$e$ t$y$p$e$s$ o$f$ P$a$c$e$m$a$k$e$r$ a$l$e$r$t$s$: n$o$d$e$ a$l$eT$h$e$ e$n$v$i$r$o$n$m$e$n$t$ v$a$r$i$a$b$l$e$s$ t$h$a$t$ a$r$e$ p$a$s$s$e$d$ t$o$ t$h$e$ a$l$e$r$t$ a$g$<xref linkend="tb-alert-environmentvariables-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ e$n$v$i$r$o$n$m$e$n$t$ v$a$r$i$a$b$l$e$s$ t$h$a$t$ a$r$e$ p$a$s$s$e$d$ t$o$ a$l$e$r$t$ a$g$e$n$t$s$ a$n$d$ s$p$e$c$i$f$i$e$s$ w</simpara>
<table xml:id="tb-alert-environmentvariables-HAAR" frame="all" rowsep="1" colsep="1">
<title>E$n$v$i$r$o$n$m$e$n$t$ V$a$r$i$a$b$l$e$s$ P$</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="44*"/>
<colspec colname="col_2" colwidth="56*"/>
<thead>
<row>
<entry align="left" valign="top">E$n$v$i$r$o$n$m$e$n$</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ t$y$p$e$ o$f$ a$l$e$r$t$ (n$o$d$e$, f$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ v$e$r$s$i$o$n$ o$f$ P$a$c$e$m$a$k$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$_r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ c$o$n$f$i$g$u$r$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$_n$o$d</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ s$e$q$u$e$n$c$e$ n$u$m$b$e$r$ i$n$c$r$e$a$s$e$d$ w$h$e$n$e$v$e$r$ a$n$ a$l$e$r$t$ i$s$ b$e$i$n$g$ i$s$s$u$e$d$ o$n$ t$h$e$ l$o$c$a$l$ n$o$d$e$, w$h$i$c$h$ c$a$n$ b$eA$n$ a$l$e$r$t$ f$o$r$ a$n$ e$v$e$n$t$ t$h$a$t$ h$a$p$p$e$n$e$d$ l$a$t$e$r$ i$n$ t$i$m$e$ r$e$l$i$a$b$l$y$ h$a$s$ a$ h$B$e$ a$w$a$r$e$ t$h$a$t$ t$h$i$s$ n$u$m$b$e$r$ h$a$s$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$_t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ t$i$m$e$s$t$a$m$p$ c$r$e$a$t$e$d$ p$r$i$o$r$ t$o$ e$x$e$c$u$t$i$n$g$ t$h$e$ a$g$e$n$t$, i$n$ t$h$e$ f$o$r$m<literal></literal>T$h$i$s$ a$l$l$o$w$s$ t$h$e$ a$g$e$n$t$ t$o$ h$a$v$e$ a$ r$e$l$i$a$b$l$e$, h$i$g$h$-p$r$e$c$i$s$i$o$n$ t$i$m$e$ o$f$ w$h$e$n$ t$h$e$ e$v$e$n$t$ o$c$c$u$r$r$e$d$, r$e$g$a$r$d$l$e$s$s$ o$f$ w$h$e$n$ t$h$e$ a$g$e$n$t$ i$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>N$a$m$e$ o$f$ a$f$f$e</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>D$e$t$a$i$l$ a$b$o$F$o$r$ n$o$d$e$ a$l$e$r$t$s$, t$h$i$s$ i$s$ t$h$e$ n$o$d$e$’s$ c$u$F$o$r$ f$e$n$c$i$n$g$ a$l$e$r$t$s$, t$h$i$s$ i$s$ a$ s$u$m$m$a$r$y$ o$f$ t$h$e$ r$e$q$u$e$s$t$e$d$ f$e$n$c$i$n$g$ o$p$e$r$a$t$i$o$n$, i$n$c$lF$o$r$ r$e$s$o$u$r$c$e$ a$l$e$r$t$s$, t$h$i$s$ i$s$ a$ r$e$a$d$a$b$l$e$ s$t$r$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>I$D$ o$f$ n$o$d$e$ w$h$o$s$e$ s$t$a$t$u$s$ c$h$a$n$g$e$d$ (p$r$o</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ r$e$q$u$e$s$t$e$d$ f$e$n$c$i$n$g$ o$r$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$o$n$ (p$r$o$v$i</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$u$m$e$r$i$c$a$l$ r$e$t$u$r$n$ c$o$d$e$ o$f$ t$h$e$ f$e$n$c$i$n$g$ o$r$ r$e$s$o$u$r$c$e$ o$p$e$r$a$t$i$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$a$m$e$ o$f$ t$h$e$ a$f$f$e$c$t$e$d$ r$e$s$o$u$r</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$_</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ i$n$t$e$r$v$a$l$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ o$p$e$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t$_t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ e$x$p$e$c$t$e$d$ n$u$m$e$r$i$c$a$l$ r$e$t$u$r$n$ c$o$d$e$ o$f$ t$h$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>C$R$M$_a$l$e$r$t</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$ n$u$m$e$r$i$c$a$l$ c$o$d$e$ u$s$e$d$ b$y$ P$a$c$e$m$a$k$e$r$ t$o$ r$e$p$r$e$s$e$n$t$ t$h</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>W$h$e$n$ w$r$i$t$i$n$g$ a$n$ a$l$e$r$t$ a$g$e$n$t$, y$o$u$ m$u$s$t$ t$a$k$e$ t$</simpara>
<itemizedlist>
<listitem>
<simpara>A$l$e$r$t$ a$g$e$n$t$s$ m$a$y$ b$e$ c$a$l$l$e$d$ w$i$t$h$ n$o$ r$e$c$i$p$i$e$n$t$ (i$f$ n$o$n$e$ i$s$ c$o$n$f$i$g$u$r$e$d$), s$o$ t$h$e$ a$g$e$n$t$ m$u$s$t$ U$s$e$r$s$ m$a$y$ m$o$d$i$f$y$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$n$ s$</simpara>
</listitem>
<listitem>
<simpara>I$f$ m$o$r$e$ t$h$a$n$ o$n$e$ r$e$c$i$p$i$e$n$t$ i$s$ c$o$n$f$i$g$u$r$e$d$ f$o$r$ a$n$ a$l$e$r$t$, t$h$e$I$f$ a$n$ a$g$e$n$t$ i$s$ n$o$t$ a$b$l$e$ t$o$ r$u$n$ c$o$n$c$u$r$r$e$n$t$l$y$, i$t$ s$h$o$u$l$d$ T$h$e$ a$g$e$n$t$ i$s$ f$r$e$e$, h$o$w$e$v$e$r$, t$o$ i$n$t$e$r$p</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ a$ c$l$u$s$t$e$r$ e$v$e$n$t$ o$c$c$u$r$s$, a$l$l$ a$l$e$r$t$s$ a$r$e$ f$i$r$e$d$ o$fD$e$p$e$n$d$i$n$g$ o$n$ h$o$w$ m$a$n$y$ a$l$e$r$t$s$ a$n$d$ r$e$c$i$p$i$e$n$t$s$ a$r$e$ c$o$n$f$i$g$u$r$e$d$ a$n$d$ o$n$ w$h$a$t$ i$s$ d$o$T$h$e$ a$g$e$n$t$ c$o$u$l$d$ b$e$ w$r$i$t$t$e$n$ t$o$ t$a$k$e$ t$h$i$s$ i$n$t$o$ c$o$n$s$i$d$e$r$a$t$i$o$n$, f$o$r$ e$x$a$m$p$l$e$ b$y$ q$u$e$u$e$i$n$g$ r$e$s$o$u$r$c$e$-i$</simpara>
</listitem>
<listitem>
<simpara>A$l$e$r$t$ a$g$e$n$t$s$ a$r$e$ r$u$n$ a$s$ t$h$e$ <literal>h$a$c$l$u$s$t$e$r$</literal> u$s$e$r$, w$h$I$f$ a$n$ a$g$e$n$t$ r$e$q$u$i$r$e$s$ a$d$d$i$t$i$o$n$a$l$ p$r$i$v$i$l$e$g$e$s$, i$t$ i$s$ r$e$c$o$m$m$e$n$d$e$d$ t$o$ c$o$n$f$i$g$u$r$e$ <literal role="command">s$u$d$o$</literal> t$o$ a$l$l$o$w$ t$h$e$ a$g$e$n</simpara>
</listitem>
<listitem>
<simpara>T$a$k$e$ c$a$r$e$ t$o$ v$a$l$i$d$a$t$e$ a$n$d$ s$a$n$i$t$i$z$e$ u$s$e$r$-c$o$n$f$i$g$u$r$e$d$ p$a$r$a$m$e$t$e$r$s$, s$u$c$h$ a$s$ <literal>C$R$M$_a$l$e$r$t$_t$i$m$e$s$t$a$m$p$</literal> (w$h$o$s$e$ c$o$n$t$e$n$t$ i$s$ s$p$e<literal></literal><literal></literal>T$h$i$s$ i$s$ n$e$c$e$s$s$a$r$y$ t$o$ p$r$o$t$e$c$t$ a$g$aI$n$ a$d$d$i$t$i$o$n$, i$f$ s$o$m$e$ u$s$e$r$ c$a$n$ m$o$d$i$f$y$ t$h$e$ C$I$B$ w$i$t$h$o$u$t$ h$a$v$i$n$g$ <literal>h$a$c$l$u$s$t$e$r$</literal>-l$e$v$e$l$ a$c$c$e$s$s$ t$o$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$, t$h$i$s$ i$s$ a$</simpara>
</listitem>
<listitem>
<simpara>I$f$ a$ c$l$u$s$t$e$r$ c$o$n$t$a$i$n$s$ r$e$s$o$u$r$c$e$s$ w$i$t$h$ o$p$e$r$a$t$i$o$n$s$ f$o$r$ w$h$i$c$h$ t$h$e$ <literal>o$n$-f$a$i$l$</literal> p$a$r$a$m$e$t$e$r$ i$s$ s$e$t$ t$o$ <literal>f$e$n$c$e$</literal>, t$h$e$r$e$ w$i$l$l$ b$e$ m$u$l$t$i$p$l$e$ f$e$n$c$e$ n$o$t$i$f$B$o$t$h$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$-f$e$n$c$e$d$</literal> a$n$d$ <literal>p$a$c$e$m$a$k$e$r$</literal>P$a$c$e$m$a$k$e$r$ p$e$r$f$o$r$m$s$ o$n$l$y$ o$n$e$ a$c$t$u$a$l$ f$e$n$c$e$ o$p$e$r$a$t$i$o$n$ i$n$ t$h$i$s$ c$a$s$e</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>T$h$e$ a$l$e$r$t$s$ i$n$t$e$r$f$a$c$e$ i$s$ d$e$s$i$g$n$e$d$ t$o$ b$e$ b$a$c$k$w$a$r$d$ c$o$m$p$a$t$i$b$l$e$ w$i$t$h$ t$h$e$ e$x$t$e$r$n$a$l$<literal></literal>T$o$ p$r$e$s$e$r$v$e$ t$h$i$s$ c$o$m$p$a$t$i$b$i$l$i$t$y$, t$h$e$ e$n$v$i$r$o$n$m$e$n$t$ v$a$r$i$a$b$l$e$s$ p$a$s$s$e$d$ t$o$ a$l$e$r$t$ a$g$e$n<literal></literal><literal></literal>O$n$e$ b$r$e$a$k$ i$n$ c$o$m$p$a$t$i$b$i$l$i$t$y$ i$s$ t$h$a$t$ t$h$e$ <literal>C$l$u$s$t$e$r$M$o$n$</literal> r$e$s$o$u$r$c$e$ r$a$n$ e$x$t$e$r$n$a$l$ s$c$r$i$p$t$s$<literal></literal></simpara>
</note>
</section>
</chapter>
<chapter xml:id="assembly_configuring-multisite-cluster-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ m$u$l$t$i$-s$i$t$e$ c$l</title>
<simpara>W$h$e$n$ a$ c$l$u$s$t$e$r$ s$p$a$n$s$ m$o$r$e$ t$h$a$n$ o$n$e$ s$i$t$e$, i$s$s$u$e$s$ w$i$t$h$ n$e$t$w$o$r$k$ c$o$n$n$e$c$t$i$vW$h$e$n$ c$o$n$n$e$c$t$i$v$i$t$y$ d$r$o$p$s$, t$h$e$r$e$ i$s$ n$o$ w$a$y$ f$o$r$ a$ n$o$d$e$ o$n$ o$n$e$ s$i$t$e$ t$o$ d$e$t$e$r$m$i$n$e$ w$h$e$t$h$e$r$ a$ n$o$d$e$ o$n$ a$I$n$ a$d$d$i$t$i$o$n$, i$t$ c$a$n$ b$e$ p$r$o$b$l$e$m$a$t$i$c$ t$o$ p$r$o$v$i$d$e$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ s$e$r$v$i$c$e$s$ </simpara>
<simpara>T$o$ a$d$d$r$e$s$s$ t$h$e$s$e$ i$s$s$u$e$s$, P$a$c$e$m$a$k$e$r$ p$r$o$v$i$d$e$s$ f$u$l$l$ s$u$p$p$o$r$t$ f$o$r$ t$h$e$ a$b$i$l$i$t$y$ t$o$ c$o$n$f$i$g$u$r$e$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t</simpara>
<section xml:id="con_booth-cluster-ticket-manager-configuring-multisite-cluster">
<title>O$v$e$r$v$i$e$w$ o$f$ B$o$o$t$h$ c$l$u$s</title>
<simpara>T$h$e$ B$o$o$t$h$ <emphasis>t$i$c$k$e$t$ m$a$n$a$g$e$r$</emphasis> i$s$ a$ d$i$s$t$r$i$b$u$t$e$d$ s$e$r$v$i$c$e$ t$h$a$t$ i$s$ m$e$a$n$t$ t$o$ b$e$ r$u$n$ o$n$ a$ d$i$f$f$e$r$e$n$t$ p$h$y$s$i$c$a$I$t$ y$i$e$l$d$s$ a$n$o$t$h$e$r$, l$o$o$s$e$ c$l$u$s$t$e$r$, a$ <emphasis>B$o$o$t$h$ f$o$r$m$a$t$i$o$n$</emphasis>, t$h$a$t$ s$iT$h$i$s$ a$g$g$r$e$g$a$t$e$d$ c$o$m$m$u$n$i$c$a$t$i$o$n$ l$a$y$e$r$ f$a$c$i$l$i$t$a$t$e$s$ c$o$n$s$e$n$s$u$s$-b$</simpara>
<simpara>A$ B$o$o$t$h$ <emphasis>t$i$c$k$e$t$</emphasis> i$s$ a$ s$i$n$g$l$e$t$o$n$ i$n$ t$h$e$ B$o$o$t$h$ f$o$r$m$a$t$i$o$n$ a$n$d$ r$e$p$r$e$s$eR$e$s$o$u$r$c$e$s$ c$a$n$ b$e$ c$o$n$f$i$g$u$r$e$d$ t$o$ r$e$q$T$h$i$s$ c$a$n$ e$n$s$u$r$e$ t$h$a$t$ r$e$s$o$u$r$c$e$s$ a$r$e$ r$u$n$ a$t$ o$n$l$y$ o$n$e$ s$i$t$e$ a$t$ a$ t$i$m$</simpara>
<simpara>Y$o$u$ c$a$n$ t$h$i$n$k$ o$f$ a$ B$o$o$t$h$ f$o$r$m$a$t$i$o$n$ a$s$ a$n$ o$v$e$r$l$a$y$ c$l$u$s$t$e$r$ c$o$n$s$i$s$t$i$n$g$ o$f$ c$l$u$s$t$e$r$s$ r$u$n$n$i$n$g$ a$t$ d$i$I$t$ i$s$ t$h$e$ B$o$o$t$h$ s$e$r$v$i$c$e$ w$h$i$c$h$ c$o$m$m$u$n$i$c$a$t$e$s$ t$o$ t$h$e$ c$l$u$s$t$e$r$s$ w$h$e$t$h$e$r$ t$h$e$y$ h$a$v$e$ b$e$e$n$ g$r$a$n$t$e$d$ a$ t$i$c$k$e$t$, a$n$d$ i$t$ i$s$ P$a$c$e$m$a$k$T$h$i$s$ m$e$a$n$s$ t$h$a$t$ w$h$e$n$ u$s$i$n$g$ t$h$e$ t$i$c$k$e$t$ m$a$n$a$g$e$r$, e$a$c$h$ o$f$ t$h$e$ c$l$u$s$t$e$r$s$F$o$r$ e$x$a$m$p$l$e$ t$h$e$r$e$ c$a$n$ b$e$ r$e$s$o$u$r$c$e$s$ A$, B$ a$n$d$ C$ r$u$n$n$i$n$g$ o$n$l$y$ i$n$ o$n$e$ c$l$u$s$t$e$r$, r$e$s$o$u$r$c$e$s$ D$, E$, a$n$d$ F$ r$u$n$n$i$n$g$ o$n$l$y$ i$n$ t$h$e$ o$t$h$e$r$ cI$t$ i$s$ a$l$s$o$ p$o$s$s$i$b$l$e$ t$o$ h$a$v$e$ a$n$ a$d$d$i$t$i$o$n$a$l$ r$e$s$o$u$r$c$e$ J$ t$h$a$t$ c$o$u$l$d$ r$u$n$ i$n$ e$i$t</simpara>
</section>
<section xml:id="proc-configuring-multisite-with-booth-configuring-multisite-cluster">
<title>C$o$n$f$i$g$u$r$i$n$g$ m$u$l$t$i$-s$i$t$e$ c$l</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ p$r$o$v$i$d$e$s$ a$n$ o$u$t$l$i$n$e$ o$f$ t$h$e$ s$t$e$p$s$ y$o$u$ f$o$l$l$o$w$ t$o$ c$o$n$f$i$g$u</simpara>
<simpara>T$h$e$s$e$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$s$ u$s$e$ t$h</simpara>
<itemizedlist>
<listitem>
<simpara>C$l$u$s$t$e$r$ 1 c$o$n$s$i$s$t$s$ o$f$ t$h$e$ n$o$d$e$s$ <literal>c$l$u$s$</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$l$u$s$t$e$r$ 1 h$a$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ a$s$</simpara>
</listitem>
<listitem>
<simpara>C$l$u$s$t$e$r$ 2 c$o$n$s$i$s$t$s$ o$f$ <literal>c$l$u$s$t$e$r$2-</literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$l$u$s$t$e$r$ 2 h$a$s$ a$ f$l$o$a$t$i$n$g$ I$P$ a$d$d$r$e$s$s$ a$s$</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ a$r$b$i$t$r$a$t$o$r$ n$o$d$e$ i$s$ <literal>a$r$b$i$t$r$a$t$o$r$-n$o$d$e$</literal> w$i</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ n$a$m$e$ o$f$ t$h$e$ B$o$o$t$h$ t$i$c$k$e$t$ t$h$a$t$ t$h$i$s$ c$o<literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$s$e$ e$x$a$m$p$l$e$ c$o$m$m$a$n$d$s$ a$s$s$u$m$e$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$s$ f$o$r$ a$n$ A$p$a$c$h$e$ s$e$r$v$i$c$e$ h$a$v$e$ b$e$<literal></literal>I$t$ i$s$ n$o$t$ r$e$q$u$i$r$e$d$ t$h$a$t$ t$h$e$ r$e$s$o$u$r$c$e$s$ a$n$d$ r$e$s$o$u$r$c$e$ g$r$o$u$p$s$ b$e$ t$h$e$ s$a$m$e$ o$n$ e$a$c$h$ c$l$u$s$t$e$r$ t$o$ c$o$n$f$i$g$u$r$e$ a$ t$i$c$k$e$t$ c$o$n$s$t$r$a$i$n$t$ f$o$r$ t$h$o$s$e$ r$e$s$</simpara>
<simpara>N$o$t$e$ t$h$a$t$ a$t$ a$n$y$ t$i$m$e$ i$n$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ p$r$o$c$e$d$u$r$e$ y$o$u$ c$a$n$ e$n$t$e$r$ t$h$e$ <literal role="command">p$c$s$ b$o$o$t$h$ c$o$n$f$i$g$</literal> c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ t$h$e$ b$o$o$t$h$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$o$r$ t$h$e<literal role="command"></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ <literal>b$o$o$t$h$-s$i$t$e$</literal> B$o$o$t$h$ t$i$c$k$e$t$ m$a$n$a$g$e$r$ p</simpara>
<literallayout class="monospaced">[root@cluster1-node1 ~]# <literal>yum install -y booth-site</literal>
[root@cluster1-node2 ~]# <literal>yum install -y booth-site</literal>
[root@cluster2-node1 ~]# <literal>yum install -y booth-site</literal>
[root@cluster2-node2 ~]# <literal>yum install -y booth-site</literal></literallayout>
</listitem>
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ <literal>p$c$s$</literal>, <literal>b$o$o$t$h$-c$o$r$e$</literal>, a$n$d$ <literal>b$o$o$t$h$-a$r$b$i$t$r$a</literal></simpara>
<literallayout class="monospaced">[root@arbitrator-node ~]# <literal>yum install -y pcs booth-core booth-arbitrator</literal></literallayout>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ a$r$e$ r$u$n$n$i$n$g$ t$h$e$ <literal>f$i$r$e$w$a$l$l$d$</literal> d$a$e$m$o$n$, e$x$e$c$u$t$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ o$n$ a$l$l$ n$o$d$e$s$ i$n$ b$o$t$h$ c$l$u$s$t$e$r$s$ a$s$ w$e$l$l$ a$s$ o$n$ t$h$</simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>`
# <literal>firewall-cmd --add-service=high-availability</literal>`</literallayout>
<simpara>Y$o$u$ m$a$y$ n$e$e$d$ t$o$ m$o$d$i$f$y$ w$h$i$c$h$ p$o$r$t$s$ a$r$e$F$o$r$ m$o$r$e$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ p$o$r$t$s$ t$h$a$t$ a$r$e$ r$e$q$u$i$r$e$d$ b$y$ t$h$e$ R$e$d$ H$a$t$ H$i$g$h$-A$v$a$i$l$a$b$i<link xlink:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_high_availability_clusters/index#proc_enabling-ports-for-high-availability-creating-high-availability-cluster"></link></simpara>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ B$o$o$t$h$ c$o$n$f$i$g$u$r$a$t$i$o$n$ o$T$h$e$ a$d$d$r$e$s$s$e$s$ y$o$u$ s$p$e$c$i$f$y$ f$o$r$ e$a$c$h$ c$l$u$s$t$e$r$ a$n$d$ fF$o$r$ e$a$c$h$ c$l$u$s$t$e$r$, y$o$u$ s$p$e$c$i$f$y</simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs booth setup sites 192.168.11.100 192.168.22.100 arbitrators 192.168.99.100</literal></literallayout>
<simpara>T$h$i$s$ c$o$m$m$a$n$d$ c$r$e$a$t$e$s$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$s$ <literal>/e$t$c$/b$o$o$t$h$/b$o$o$t$h$.c$o$n$f$</literal> a$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ a$ t$i$c$k$e$t$ f$o$r$ t$h$e$ BT$h$i$s$ i$s$ t$h$e$ t$i$c$k$e$t$ t$h$a$t$ y$o$u$ w$i$l$l$ u$s$e$ t$o$ d$e$f$i$n$e$ t$h$e$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$i$n$t$ t$h$a$t$ w$i$l$l$ a$l$l$o$w$ </simpara>
<simpara>T$h$i$s$ b$a$s$i$c$ f$a$i$l$o$v$e$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ p$r$o$c$e$d$u$r$e$ u$s$e$s$ o$n$l$y$ o$n$e$ t$i$c$k$e$t$, b$u$t$ y$o$u$ c$a$n$ c$r$e$a$t$e$ a$d$d$i$t$i$o$n$a$l$ t$i$c$k$e$t$s$ f$o$r$ m$o$r$e</simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs booth ticket add apacheticket</literal></literallayout>
</listitem>
<listitem>
<simpara>S$y$n$c$h$r$o$n$i$z$e$ t$h$e$ B$o$o$t$h$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$o$</simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs booth sync</literal></literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ t$h$e$ a$r$b$i$t$r$a$t$o$r$ n$o$d$e$, p$u$l$l$ t$h$e$ B$o$o$t$h$I$f$ y$o$u$ h$a$v$e$ n$o$t$ p$r$e$v$i$o$u$s$l$y$ d$o$n$e$ s$o$, y$o$u$ m$u$s$t$ f$i$r$s$t$ a$u$t$h$e$n$t$i$c$a$t$e$ <literal>p$c$s$</literal> t$</simpara>
<literallayout class="monospaced">[arbitrator-node ~] # <literal>pcs host auth cluster1-node1</literal>
[arbitrator-node ~] # <literal>pcs booth pull cluster1-node1</literal></literallayout>
</listitem>
<listitem>
<simpara>P$u$l$l$ t$h$e$ B$o$o$t$h$ c$o$n$f$i$g$u$r$a$t$i$o$n$ t$o$ t$h$e$ o$t$h$e$r$ c$l$u$s$t$e$r$ a$n$d$ A$s$ w$i$t$h$ t$h$e$ a$r$b$i$t$r$a$t$o$r$ n$o$d$e$, i$f$ y$o$u$ h$a$v$e$ n$o$t$ p$r$e$v$i$o$u$s$l$y$ d$o$n$e$ s$o$, y$o$u$ m$u$s$t$ f$i$r$s$t$ a$u$t$h$e$n<literal></literal></simpara>
<literallayout class="monospaced">[cluster2-node1 ~] # <literal>pcs host auth cluster1-node1</literal>
[cluster2-node1 ~] # <literal>pcs booth pull cluster1-node1</literal>
[cluster2-node1 ~] # <literal>pcs booth sync</literal></literallayout>
</listitem>
<listitem>
<simpara>S$t$a$r$t$ a$n$d$ e$n$a$b$l$e$ B$o$o$t$h$</simpara>
<note>
<simpara>Y$o$u$ m$u$s$t$ n$o$t$ m$a$n$u$a$l$l$y$ s$t$a$r$t$ o$r$ e$n$a$b$l$e$ B$o$o$t$h$ o$n$ a$n$y$ o$f$ t$h$e$ n$o$d$e$s$ o$f$ t$h$e$ c$l$u$s$t$e$</simpara>
</note>
<literallayout class="monospaced">[arbitrator-node ~] # <literal>pcs booth start</literal>
[arbitrator-node ~] # <literal>pcs booth enable</literal></literallayout>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ B$o$o$t$h$ t$o$ r$u$n$ a$s$ a$ c$l$u$s$t$e$r$ r$T$h$i$s$ c$r$e$a$t$e$s$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ w$i$t$h$ <literal>b$o$o$t$h$-i$p$</literal> a$n$d$ <literal></literal></simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs booth create ip 192.168.11.100</literal>
[cluster2-node1 ~] # <literal>pcs booth create ip 192.168.22.100</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ a$ t$i$c$k$e$t$ c$o$n$s$t$r$a$i$n$t$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$ g$r$o$u</simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs constraint ticket add apacheticket apachegroup</literal>
[cluster2-node1 ~] # <literal>pcs constraint ticket add apacheticket apachegroup</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ e$n$t$e$r$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ t$h$e</simpara>
<literallayout class="monospaced">pcs constraint ticket [show]</literallayout>
</listitem>
<listitem>
<simpara>G$r$a$n$t$ t$h$e$ t$i$c$k$e$t$ y$o$u$ c$r$e$a$t$e$d$ f$o$r$ t$h$i</simpara>
<simpara>N$o$t$e$ t$h$a$t$ i$t$ i$s$ n$o$t$ n$e$c$e$s$s$a$r$y$ t$o$ h$a$v$e$ d$e$f$i$n$e$d$ t$i$c$kO$n$c$e$ y$o$u$ h$a$v$e$ i$n$i$t$i$a$l$l$y$ g$r$a$n$t$e$d$ a$ t$i$c$k$e$t$ t$o$ a$ c$l$u$s$t$e$r$, t$h$e$n$ B$o$o$t$h$ t$a$k$e$s$ o$v$e$r$ t$i$c$k$e$t$ m$a$n$a$g$e$m$e$n$<literal role="command"></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal role="command">p$c$s$ b$o$o$t$h$</literal> a$d$m$i$n$i$s$t$r$a$t$i$o$n$ c$o$m$m$a$n$d$s$, s<literal role="command"></literal></simpara>
<literallayout class="monospaced">[cluster1-node1 ~] # <literal>pcs booth ticket grant apacheticket</literal></literallayout>
</listitem>
</orderedlist>
<simpara>I$t$ i$s$ p$o$s$s$i$b$l$e$ t$o$ a$d$d$ o$r$ r$e$m$o$v$e$ t$i$c$k$e$t$s$ a$t$ a$n$y$ t$i$m$A$f$t$e$r$ a$d$d$i$n$g$ o$r$ r$e$m$o$v$i$n$g$ a$ t$i$c$k$e$t$, h$o$w$e$v$e$r$, y$o$u$ m$u$s$t$ s$y$n$c$h$r$o$n$i$z$e$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$s$ t$o$ t$h$e$ o$t$h$e$r$ n$o$d$e$s$ a$n$</simpara>
<simpara>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ a$d$d$i$t$i$o$n$a$l$ B$o$o$t$h$ a$d$m$i$n$i$s$t$r$a$t$i$o$n$ c$o$m$m$a$n$d$s$ t$h$a$t$ y$o$u$ c$a$n$ u$s$e$ f$o$r$ c$l$e$a$n$i$n$g$ u$p$ a$n$d$ r$e$m$o$v$i$n$g$ B$o$o$t$h$ <literal role="command"></literal></simpara>
</section>
</chapter>
<chapter xml:id="assembly_remote-node-management-configuring-and-managing-high-availability-clusters">
<title>I$n$t$e$g$r$a$t$i$n$g$ n$o$n$-c$o$r$o$s$y$n$c$ n$o$d$e$s$ i$n$t$o$ a$ c$l$u</title>
<simpara>T$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ a$l$l$o$w$s$ n$o$d$e$s$ n$o$t$ r$u$n$n$i$n$g$ <literal>c$o$r$o$s$y$n$c$</literal> t$o$ i$n$t$e$g$r$a$t$e$ i$n$t$o$ t$h$e$ c$l$u$s$t$e$r$ a$n$d</simpara>
<simpara>A$m$o$n$g$ t$h$e$ c$a$p$a$b$i$l$i$t$i$e$s$ t$h$a$t$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$</literal></simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ a$l$l$o$w$s$ y$o$u$ t$o$ s$c$a$l$e$ b$e$y$o$n$d$ t$h$</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ a$l$l$o$w$s$ y$o$u$ t$o$ m$a$n$a$g$e$ a$ v$i$r$t$u$a$l$ e$n$v$i$r$o$n$m$e$n$t$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ a$n$d$ a$l$s</simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ t$e$r$m$s$ a$r$e$ u$s$e$d$ t$o$ d$e$s$c$r$i$<literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara><emphasis>c$l$u$s$t$e$r$ n$o$d$e$</emphasis> — A$ n$o$d$e$ r$u$n$n$i$n$g$ t$h$e$ H$i$g$h$ A$v$a$i$l$a$b$i$l<literal></literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara><emphasis>r$e$m$o$t$e$ n$o$d$e$</emphasis> — A$ n$o$d$e$ r$u$n$n$i$n$g$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> t$o$ r$e$m$o$t$e$l$y$ i$n$t$e$g$r$a$t$e$ i$n$t$o<literal></literal>A$ r$e$m$o$t$e$ n$o$d$e$ i$s$ c$o$n$f$i$g$u$r$e$d$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ t$h$a$t$ <literal></literal></simpara>
</listitem>
<listitem>
<simpara><emphasis>g$u$e$s$t$ n$o$d$e$</emphasis> — A$ v$i$r$t$u$a$l$ g$u$e$s$t$ n$o$d$e$ r$u$n$n$i$n<literal></literal>T$h$e$ v$i$r$t$u$a$l$ g$u$e$s$t$ r$e$s$o$u$r$c$e$ i$s$ m$a$n$a$g$e$d$ b$y$ t$h$e$ c$l$u$s$t$e$r$; i$t$ i$s$ b$o$t$h$ s$t$a$r$t$e$d$ b$y$ </simpara>
</listitem>
<listitem>
<simpara><emphasis>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</emphasis> — A$ s$e$r$v$i$c$e$ d$a$e$m$o$n$ c$a$p$a$b$l$e$ o$f$ p$e$r$f$o$r$m$i$n$g$ r$e$m$o$t$e$ a$p$p$l$i$c$a$t$i$o$n$ m$a$n$a$g$e$m$e$n$t$ T$h$i$s$ s$e$r$v$i$c$e$ i$s$ a$n$ e$n$h$a$n$c$e$d$ v$e$r$s$i$o$n$ o$f$ P$a$c$e$m$a$k$e$r$’s$ l$o$c$a$l$ e$x$e$c$u$t$o$r$ d$a$e$m$o$n$ (<literal>p$a$c$e$m$a$k$e$r$-e$x$e$c$d$</literal>) t$h</simpara>
</listitem>
</itemizedlist>
<simpara>A$ P$a$c$e$m$a$k$e$r$ c$l$u$s$t$e$r$ r$u$n$n$i$n$g$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> </simpara>
<itemizedlist>
<listitem>
<simpara>R$e$m$o$t$e$ n$o$d$e$s$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ r$u$n$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ (w$i$t$h$ v$e$r$y$</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ c$l$u$s$t$e$r$ s$t$a$c$k$ (<literal>p$a$c$e$m$a$k$e$r$</literal> a$n$d$ <literal>c$o$r$o$s$y$n$c$</literal>), r$u$n$n$i$n$g$ o$n$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$, c$o$n$n$e$c$t$s$ t$o$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$</literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ c$l$u$s$t$e$r$ s$t$a$c$k$ (<literal>p$a$c$e$m$a$k$e$r$</literal> a$n$d$ <literal>c$o$r$o$s$y$n$c$</literal>), r$u$n$n$i$n$g$ o$n$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$, l$a$u$n$c$h$e$s$ t$h$e$ g$u$e$s$t$ n$o$d$e$s$ a$n$d$ i$m$m$e$d$i$a$t$e$l$y$ c$o$n$n$e$c<literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$e$ k$e$y$ d$i$f$f$e$r$e$n$c$e$ b$e$t$w$e$e$n$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$n$d$ t$h$e$ r$e$m$o$t$e$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ t$h$a$t$ t$h$e$ c$l$u$s$t$e$r$ n$o$dT$h$i$s$ m$e$a$n$s$ t$h$e$ r$e$m$o$t$e$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ </simpara>
<itemizedlist>
<listitem>
<simpara>t$h$e$y$ d$o$ n$o$t$ t$a$k$e$ p$</simpara>
</listitem>
<listitem>
<simpara>t$h$e$y$ d$o$ n$o$t$ e$x$e$c$u$t$e$ f$e$n$</simpara>
</listitem>
<listitem>
<simpara>t$h$e$y$ a$r$e$ n$o$t$ e$l$i$g$i$b$l$e$ t$o$ b$e$ t$h$e$ c$l$u$s$t$e</simpara>
</listitem>
<listitem>
<simpara>t$h$e$y$ d$o$ n$o$t$ t$h$e$m$s$e$l$v$e$s$ r$u$n$ t$h$e$ f<literal role="command"></literal></simpara>
</listitem>
</itemizedlist>
<simpara>O$n$ t$h$e$ o$t$h$e$r$ h$a$n$d$, r$e$m$o$t$e$ n$o$d$e$s$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ a$r$e$ n$o$t$ b$o$u$n$d$ t$o$ t$h$e$</simpara>
<simpara>O$t$h$e$r$ t$h$a$n$ t$h$e$s$e$ n$o$t$e$d$ l$i$m$i$t$a$t$i$o$n$s$, t$h$e$ r$e$m$o$t$e$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ b$e$h$a$v$e$ j$u$s$t$ l$i$k$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ i$n$ r$e$s$p$T$h$e$ c$l$u$s$t$e$r$ i$s$ f$u$l$l$y$ c$a$p$a$b$l$e$ o$f$ m$a$n$a$g$i$n$g$ a$n$d$ m$o$n$i$t$o$r$i$n$g$ r$e$s$o$u$r$c$e$s$ o$n$ e$a$c$h$ r$e$m$o$t$e$ a$n$d$ g$u$e$s$t$ n$o$d$e$: Y$o$u$ c$a$n$ b$u$i$l$d$ c$o$n$s$t$r$a$i$n$t$s$ a$g$a$i$n$s$<literal role="command"></literal>R$e$m$o$t$e$ a$n$d$ g$u$e$s$t$ n$o$d$e$s$ a$p$p$e$a$r$ i$n$ c$l$u$s$t$e$r$ s$t$a</simpara>
<section xml:id="ref_host-and-guest-authentication-of-remote-nodes-remote-node-management">
<title>H$o$s$t$ a$n$d$ g$u$e$s$t$ a$u$t$h$e$n$t$i$c$a$t$i$o$n$</title>
<simpara>T$h$e$ c$o$n$n$e$c$t$i$o$n$ b$e$t$w$e$e$n$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$n$d$ p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$ i$s$ s$e$c$u$r$e$d$ u$s$i$n$g$ T$r$a$n$s$p$o$r$t$ L$a$y$e$r$ S$e$c$u$r$i$t$y$ (T$L$S$) w$i$tT$h$i$s$ m$e$a$n$s$ b$o$t$h$ t$h$e$ c$l$u$s$t$e$r$ n$o$d$e$ a$n$d$ t$h$e$ n$o$d$e$ r$u$n$n$i$n$g$ <literal>p$a$c</literal>B$y$ d$e$f$a$u$l$t$ t$h$i$s$ k$e$y$ m$u$s$t$ b$e$ p$l$a$c$e$d$ a$t$ <literal>/e$t$c$/p$a$c$e$m$a$k$e$r$/a$u$t</literal></simpara>
<simpara>T$h$e$ <literal role="command">p$c$s$ c$l$u$s$t$e$r$ n$o$d$e$ a$d$d$-g$u$e$s$t$</literal> c$o$m$m$a$n$d$ s$e$t$s$ u$p$ t$h$e$ <literal>a$u$t$h$k$e$y$</literal> f$o$r$ g$u$e$s$t$ n$o$d$e$s$ a$n$d$ t$h$e$ <literal role="command">p$c$s$</literal><literal></literal></simpara>
</section>
<section xml:id="assembly_configuring-kvm-guest-nodes-remote-node-management">
<title>C$o$n$f$i$g$u$r$i$n$g$ K$V$</title>
<simpara>A$ P$a$c$e$m$a$k$e$r$ g$u$e$s$t$ n$o$d$e$ i$s$ a$ v$i$r$t$u$a$l$ g$u$e$s$t$ n$o$d$e$<literal></literal>T$h$e$ v$i$r$t$u$a$l$ g$u$e$s$t$ n$o$d$e$ i$s$ m$</simpara>
<section xml:id="ref_guest-node-resource-options-configuring-kvm-guest-nodes">
<title>G$u$e$s$t$ n$o$d$e$ r$e$s$o</title>
<simpara>W$h$e$n$ c$o$n$f$i$g$u$r$i$n$g$ a$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$ t$o$ a$c$t$ a$s$ a$ g$u$e$s$t$ n$o$d$e$, y$o$u$ c$r$e$a$t$e$ a$ <literal>V</literal>F$o$r$ d$e$s$c$r$i$p$t$i$o$n$s$ o$f$ t$h$e$ o$p$t$i$o$n$s$ y$o$u$ c$a$n$ s$e$t$<literal></literal><xref linkend="tb-virtdomain-options-HAAR"/></simpara>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$, m$e$t$a$d$a$t$a$ o$p$t$i$o$n$s$ d$e$f$i$n$e$ t$Y$o$u$ s$e$t$ t$h$e$s$e$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$ w$i$t$h$ t$h$e$ <literal role="command">p$</literal><xref linkend="tb-remoteklm-options-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$s$e$ m$e</simpara>
<table xml:id="tb-remoteklm-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>M$e$t$a$d$a$t$a$ O$p$t$i$o$n$s$ f$o$r$ C$o$n$f$i$g$u$r$i$n$g$ </title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="33*"/>
<colspec colname="col_2" colwidth="33*"/>
<colspec colname="col_3" colwidth="33*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$m$o$t$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>&lt;n$o$n</simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ n$a$m$e$ o$f$ t$h$e$ g$u$e$s$t$ n$o$d$e$ tT$h$i$s$ b$o$t$h$ e$n$a$b$l$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ a$s$ a$ g$u$e$s$t$ n$o$d$e$ a$n$d$ d$e$f$i$n$e$s$ <emphasis>W$A$R$N$I$N$G$</emphasis>: T$h$i$s$ v$a$l$u$e$ c$a$n$n$o$t$ o$v$e$r$l$a$p$ w</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$m$o$t$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>3121</simpara></entry>
<entry align="left" valign="top"><simpara>C$o$n$f$i$g$u$r$e$s$ a$ c$u$s$t$o$m$ p$o$r$t$ t$o$ u$s$e$ f$o$r$ t$h$e$ g$u$<literal></literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$m$o$t$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ a$d$d$r$e$s$s$ p$r$o$v$i$d$e$d$ i$n$ t$h$e<literal></literal></simpara></entry>
<entry align="left" valign="top"><simpara>T$h$e$ I$P$ a$d$d$r$e$s$s$ o$r$ h$o$s$t$ </simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$m$o$t$e$-c$o$n$n$e</literal></simpara></entry>
<entry align="left" valign="top"><simpara>60s</simpara></entry>
<entry align="left" valign="top"><simpara>A$m$o$u$n$t$ o$f$ t$i$m$e$ b$e$f$o$r$e$ a$ p$e$n$d$i$n$g$ g$u$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="proc_integrating-vm-as-guest-node-configuring-kvm-guest-nodes">
<title>I$n$t$e$g$r$a$t$i$n$g$ a$ v$i$r$t$u$a$l$ m$a$</title>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ p$r$o$c$e$d$u$r$e$ i$s$ a$ h$i$g$h$-l$e$v$e$l$ s$u$m$m$a$r$y$ o$v$e$r$v$i$e$w$ o$f$ t$h$e$ s$t$e$p$s$ t$o$ p$e$r$f$o$r$m$ t$o$ h$a$v$e$ P$a$c$e$m$a$k$e$r$ l$a$u$n$c$h$ a$ v$i$r$t$u$a<literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ t$h$e$ <literal>V$i$r$t$u$a$</literal></simpara>
</listitem>
<listitem>
<simpara>E$n$t$e$r$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$s$ o$n$ e$v$e$r$y$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$ t$o$ i$n$s$t$a$l$l$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> p$a$c$k$a$g$e$s$, s$t$a$r$t$ t$h$e$ <literal>p$c$s</literal></simpara>
<literallayout class="monospaced"># <literal>yum install pacemaker-remote resource-agents pcs</literal>
# <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal>
# <literal>firewall-cmd --add-port 3121/tcp --permanent</literal>
# <literal>firewall-cmd --add-port 2224/tcp --permanent</literal>
# <literal>firewall-cmd --reload</literal></literallayout>
</listitem>
<listitem>
<simpara>G$i$v$e$ e$a$c$h$ v$i$r$t$u$a$l$ m$a$c$h$i$n$e$ a$ s$t$a$t$i$c$ n$e$t$w$o$r$k$ a$d$d$r$e$s$s$ a$n$d$ u$n$i$qF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$e$t$t$i$n$g$ a$ s$t$a$t$i$c$ I$P$ a$d$d$r$e$s$s$ f$o$r$ t$h$e$ g$u$e$s$t$ v$i$r$t$u$a$l$ m$a$c$h$i$n<emphasis><phrase role="citetitle"></phrase></emphasis></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ h$a$v$e$ n$o$t$ a$l$r$e$a$d$y$ d$o$n$e$ s$o$, a$u$t$h$e$n$t$i$c$a$t$e$ <literal>p$c$s$</literal> t$o$ t$h$e$ </simpara>
<literallayout class="monospaced"># <literal>pcs host auth <emphasis>nodename</emphasis></literal></literallayout>
</listitem>
<listitem>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ c$o$n$v$e$r$t$ a$n$ e$x$i$s$t$i$n$g$ <literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ m$u$s$t$ b$e$ r$u$n$ o$n$ a$ c$l$u$s$t$e$r$ n$o$d$e$ a$n$d$ n$o$t$I$n$ a$d$d$i$t$i$o$n$ t$o$ c$o$n$v$e$r$t$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$, t$h$i$s$ c$o$m$m$a$n$d$ c$o$p$i$e$s$ t$h$e$ <literal>/e$t$c$/p$a$c$e$m$a$k$e$r$/a$u$t$h$k$e$y$</literal> t$o$ t$h$e$ g$u<literal></literal>T$h$e$ n$o$d$e$ n$a$m$e$ f$o$r$ t$h$e$ g$u$e$s$t$ n$o$d$e$, w$h$i$c$h$ y$o$u$ c$a$n$ d$e$f$i$n$e$ a$r$b$i$t$r$a</simpara>
<literallayout class="monospaced"># <literal>pcs cluster node add-guest <emphasis>nodename</emphasis><emphasis></emphasis></literal> r$e$s$o$u$r [<literal><emphasis>options</emphasis></literal>]</literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ c$r$e$a$t$i$n$g$ t$h$e$ <literal>V$i$r$t$u$a$l$D$o$m$a$i$n$</literal> r$e$s$o$u$r$c$e$, y$o$u$ c$a$n$ t$r$e$a$t$ t$h$e$ g$u$e$s$t$ n$oF$o$r$ e$x$a$m$p$l$e$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ a$n$d$ p$l$a$c$e$ a$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$i$n$t$ o$n$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ r$u$n$ o$n$ tY$o$u$ c$a$n$ i$n$c$l$u$d$e$ g$u$e$s$t$ n$o$d$e$s$ i$n$ g$r$o$u$p$s$, w$h$i$c$h$ a$l$l$o$w$s$ y$o$u$ t$</simpara>
<literallayout class="monospaced"># <literal>pcs resource create webserver apache configfile=/etc/httpd/conf/httpd.conf op monitor interval=30s</literal>
# <literal>pcs constraint location webserver prefers</literal> <literal><emphasis>nodename</emphasis></literal></literallayout>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="assembly_configuring-remote-nodes-remote-node-management">
<title>C$o$n$f$i$g$u$r$i$n$g$ P$a$c$e$m$a</title>
<simpara>A$ r$e$m$o$t$e$ n$o$d$e$ i$s$ d$e$f$i$n$e$d$ a$s$ a$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ w$i$t$h$ <literal>o</literal>Y$o$u$ c$r$e$a$t$e$ t$h$i$s$ r$e$s$o$u$r$c$e$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ c</literal></simpara>
<section xml:id="ref_remote-node-resource-options-configuring-remote-nodes">
<title>R$e$m$o$t$e$ n$o$d$e$ r$e$s$</title>
<simpara><xref linkend="tb-remotenode-options-HAAR"/> d$e$s$c$r$i$b$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ o$p$t$i$o$n$s$ y$o$u$ c$a$n$<literal></literal></simpara>
<table xml:id="tb-remotenode-options-HAAR" frame="all" rowsep="1" colsep="1">
<title>R$e$s$o$u$r$c$e$ O$p$t$i$o$n$s$ f</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="38*"/>
<colspec colname="col_2" colwidth="25*"/>
<colspec colname="col_3" colwidth="38*"/>
<thead>
<row>
<entry align="left" valign="top">F$i$e</entry>
<entry align="left" valign="top">D$e$f$a</entry>
<entry align="left" valign="top">D$e$s$c$r$i</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>r$e$c$o$n$n$e$c$t$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>0</simpara></entry>
<entry align="left" valign="top"><simpara>T$i$m$e$ i$n$ s$e$c$o$n$d$s$ t$o$ w$a$i$t$ b$e$f$o$r$e$ a$t$t$e$m$p$t$i$n$g$ t$o$ r$e$c$o$n$n$e$c$t$ t$o$ a$ r$e$m$o$t$e$ n$o$d$e$ a$f$T$h$i$s$ w$a$i$t$ i$s$ I$f$ r$e$c$o$n$n$e$c$t$ f$a$i$l$s$ a$f$t$e$r$ t$h$e$ w$a$i$t$ p$e$r$i$o$d$, a$ n$e$w$ r$e$c$o$n$n$e$c$t$ a$t$W$h$e$n$ t$h$i$s$ o$p$t$i$o$n$ i$s$ i$n$ u$s$e$, P$a$c$e$m$a$k$e$r$ w$i$l$l$ k$e$e$p$ a$t$t$e$m$p$t$i$n$g$ t$o$ r$e$a$c$h$ o$u$t$ a$n$d$ c$o$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>s$e$r$</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A$d$d$r$e$s$s$ s$p$e$c$i$f$i$e$d$ w$i$t$h$ <literal>p</literal></simpara></entry>
<entry align="left" valign="top"><simpara>S$e$r$v$e$r$ t$o$ c$oT$h$i$s$ c$a$n$ b$e$ a$n$ I$P$ a$d$d$r$</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>p$o$</literal></simpara></entry>
<entry align="left" valign="top"/>
<entry align="left" valign="top"><simpara>T$C$P$ p$o$r$t$ t$o$ c$</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="proc-integrating-remote-nodes-configuring-remote-nodes">
<title>R$e$m$o$t$e$ n$o$d$e$ c$o$n$f$i$g$</title>
<simpara>T$h$i$s$ s$e$c$t$i$o$n$ p$r$o$v$i$d$e$s$ a$ h$i$g$h$-l$e$v$e$l$ s$u$m$m$a$r$y$ o$v$e$r$v$i$e$w$ o$f$ t$h$e$ s$t$e$p$s$ t$o$ p$e$r$f$o$r$m$ t$o$ c$o$n$f$i$g$u$r$e$ a$ P$a$c$e$m$a$k$e$r$ R$</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>O$n$ t$h$e$ n$o$d$e$ t$h$a$t$ y$o$u$ w$i$l$l$ b$e$ c$o$n$f$i$g$u$r$i$n$g$ a$s$ a$ r$e$m$o$t$e$ n$o$d$e$, a$l$l$o$w$ c</simpara>
<literallayout class="monospaced"># <literal>firewall-cmd --permanent --add-service=high-availability</literal>
success
# <literal>firewall-cmd --reload</literal>
success</literallayout>
<note>
<simpara>I$f$ y$o$u$ a$r$e$ u$s$i$n$g$ <literal>i$p$t$a$b$l$e$s$</literal> d$i$r$e$c$t$l$y$, o$r$ s$o$m$e$ o$t$h$e$r$ f$i$r$e$w$a$l$l$ s$o$l$u$t$i$o$n$ b$e$s$i$d$e$s$ <literal>f$i$r</literal></simpara>
</note>
</listitem>
<listitem>
<simpara>I$n$s$t$a$l$l$ t$h$e$ <literal role="command">p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> d</simpara>
<literallayout class="monospaced"># <literal>yum install -y pacemaker-remote resource-agents pcs</literal></literallayout>
</listitem>
<listitem>
<simpara>S$t$a$r$t$ a$n$d$ e$n$a$b$l$e$ <literal>p$c$s$d$</literal> o</simpara>
<literallayout class="monospaced"># <literal>systemctl start pcsd.service</literal>
# <literal>systemctl enable pcsd.service</literal></literallayout>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ h$a$v$e$ n$o$t$ a$l$r$e$a$d$y$ d$o$n$e$ s$o$, a$u$t$h$e$n$t$i$c$a$t$e$ <literal>p$c$s$</literal> t$o$ t$h</simpara>
<literallayout class="monospaced"># <literal>pcs host auth remote1</literal></literallayout>
</listitem>
<listitem>
<simpara>A$d$d$ t$h$e$ r$e$m$o$t$e$ n$o$d$e$ r$e$s$o$u$r$c$e$ t$o$ t$h$e$ c$l$u$T$h$i$s$ c$o$m$m$a$n$d$ a$l$s$o$ s$y$n$c$s$ a$l$l$ r$e$l$e$v$a$n$t$ c$o$n$f$i$g$u$r$a$t$i$o$n$ f$i$l$e$s$ t$o$ t$h$e$ n$e$w$ n$o$d$e$, s$t$a$r$<literal></literal>T$h$i$s$ c$o$m$m$a$n$d$ m$u$s$t$ b$e$ r$u$n$ o$n$ a$ c$l$u$s$t$e$r$ n$o$d$e$ a$n$d$ n$o$t$ </simpara>
<literallayout class="monospaced"># <literal>pcs cluster node add-remote remote1</literal></literallayout>
</listitem>
<listitem>
<simpara>A$f$t$e$r$ a$d$d$i$n$g$ t$h$e$ <literal>r$e$m$o$t$e$</literal> r$e$s$o$u$r$c$e$ t$o$ t$h$e$ c$l$u$s$t$e$r$, y$o$u$ c$a$n$ t$r$e$a$t$ t$h$e$ r$e$m$o$t$e$F$o$r$ e$x$a$m$p$l$e$, y$o$u$ c$a$n$ c$r$e$a$t$e$ a$ r$e$s$o$u$r$c$e$ a$n$d$ p$l$a$c$e$ a$ r$e$s$o$u$r$c$e$ c$o$n$s$t$r$a$i$n$t$ o$n$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ r$u$n$ o$n$ t$</simpara>
<literallayout class="monospaced"># <literal>pcs resource create webserver apache configfile=/etc/httpd/conf/httpd.conf op monitor interval=30s</literal>
# <literal>pcs constraint location webserver prefers remote1</literal></literallayout>
<warning>
<simpara>N$e$v$e$r$ i$n$v$o$l$v$e$ a$ r$e$m$o$t$e$ n$o$d$e$ c$o$n$n$e$c$t$i$o$n$ r$e$s$o$u$r$c$e$ i$n$ a$ r$e$s$o$u$r$c$e</simpara>
</warning>
</listitem>
<listitem>
<simpara>C$o$n$f$i$g$u$r$e$ f$e$n$c$i$n$g$ r$e$s$o$u$r$c$R$e$m$o$t$e$ n$o$d$e$s$ a$r$e$ f$e$n$c$e$d$ t$h$e$ s$aC$o$n$f$i$g$u$r$e$ f$e$n$c$i$n$g$ r$e$s$o$u$r$c$e$s$ f$o$r$ u$s$e$ w$i$t$h$ r$e$m$o$t$e$ n$o$d$N$o$t$e$, h$o$w$e$v$e$r$, t$h$a$t$ r$e$m$o$t$e$ n$o$d$e$s$ c$a$n$ n$eO$n$l$y$ c$l$u$s$t$e$r$ n$o$d$e$s$ a$r$e$ c$a$p$a$b$l$e$ o$f$ a$c$t$u$a$l$l$y$ e$x$e$c$u$t$i$n</simpara>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="proc_changing-default-port-location-remote-node-management">
<title>C$h$a$n$g$i$n$g$ t$h$e$ d$e$f$a$u$</title>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ c$h$a$n$g$e$ t$h$e$ d$e$f$a$u$l$t$ p$o$r$t$ l$o$c$a$t$i$o$n$ f$o$r$ e$i$t$h$e$r$ P$a$c$e$m$a$k$e$r$ o$r$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal>, y$o$u$ c$a$n$ s<literal></literal>T$h$i$s$ e$n$v$i$r$o$n$m$e$n$t$ v$a$r$i$a$b$l$e$ c$a$n$ b$e$ e$n$a$b$l$e$d$ b$y$ p$l$a$c$i$n$g$ i$t$ i$<literal></literal></simpara>
<literallayout class="monospaced"><emphasis role="marked">==</emphasis>==# Pacemaker Remote
...
#
# Specify a custom port for Pacemaker Remote connections
PCMK_remote_port=3121</literallayout>
<simpara>W$h$e$n$ c$h$a$n$g$i$n$g$ t$h$e$ d$e$f$a$u$l$t$ p$o$r$t$ u$s$e$d$ b$y$ a$ p$a$r$t$i$c$u$l$a$r$ g$u$e$s$t$ n$o$d$e$ o$r$ r$e$m$o$t$e$ n$o$d$e$, t$h$e$ <literal>P$C$M$K$_r$e$m$o$t$e$_p$o$r$t$</literal> v$a$r$i$a$b$l$e$ m$u$s$t$ b$e$ s$e$t$ i$n$ t$h$a$t$ n$o$d$e$’s$ <literal>/e$t$c$/s$y$s$c$o$n$f$i$g$/p$a$c$e$m$a$k$e$r$</literal> f$i$l$e$, a$n$d$ t$h$e$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$ c$r$e$a$t$i$n$g$ t$h$e$ g$u$e$s$t$ n$o<literal></literal><literal></literal></simpara>
</section>
<section xml:id="proc_upgrading-systems-with-pacemaker-remote-remote-node-management">
<title>U$p$g$r$a$d$i$n$g$ s$y$s$t$e$m$s$ w$i$t$h$ p$</title>
<simpara>I$f$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ i$s$ s$t$o$p$p$e$d$ o$n$ a$n$ a$c$t$i$v$e$ P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ n$o$d$e$, t$h$e$ c$l$u$s$t$e$T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ p$e$r$f$o$r$m$ s$o$f$t$w$a$r$e$ u$p$g$r$a$d$e$s$ a$n$d$ o$t$h$e$r$ r$o$u$t$i$n$e$ m$a$i$n$t$e$nO$n$c$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> i$s$ s$h$u$t$ d$o$w$n$, h$o$w$e$v$e$r$, t$h$e$ c$lI$f$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> i$s$ n$o$t$ r$e$s$t$a$r$t$e$d$ w$i$t$h$i$n$ t$h$e$ r$e$s$o$u$r$c$e$’s$ m$o$n$i$t$o$r$ t$i$m$e$o$u</simpara>
<simpara>I$f$ y$o$u$ w$i$s$h$ t$o$ a$v$o$i$d$ m$o$n$i$t$o$r$ f$a$i$l$u$r$e$s$ w$h$e$n$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ i$s$ s$t$o$p$p$e$d$ o$n$ a$n$ a$c$t$i$v$e$ P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ n$o$d$e$, y$o$u$ c$a$n$ u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r<literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$t$o$p$ t$h$e$ n$o$d$e$’s$ c$o$n$n$e$c$t$i$o$n$ r$e$s$o$u$r$c$e$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ <emphasis>r</emphasis></literal>F$o$r$ g$u$e$s$t$ n$o$d$e$s$, t$h$i$s$ w$i$l$l$ a$l$s$o$ s$t$o$p$ t$h$e$ V$M$, s$o$ t$h$e$ V$M$ m$u$s$t$ b$e$ s$t$a$r$t$e$d$ o$u$t$s$i$d$e$ t$h$e<literal role="command"></literal></simpara>
</listitem>
<listitem>
<simpara>P$e$r$f$o$r$m$ t$h$e$ r$e$q$u$i$r</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ r$e$a$d$y$ t$o$ r$e$t$u$r$n$ t$h$e$ n$o$d$e$ t$o$ t$h$e$ c$l$u$s$t$e$r$, r$e$-e$n$a$b$l$e<literal role="command"></literal></simpara>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_cluster-maintenance-configuring-and-managing-high-availability-clusters">
<title>P$e$r$f$o$r$m$i$n$g$ c$l$u$s$t</title>
<simpara>I$n$ o$r$d$e$r$ t$o$ p$e$r$f$o$r$m$ m$a$i$n$t$e$n$a$n$c$e$ o$n$ t$h$e$ n$o$d$e$s$ o$f$ y$o$u$r$ c$l$u$s$t$e$r$, y$o$u$ m$a$y$ n$e$e$d$ t$o$ s$O$r$ y$o$u$ m$a$y$ n$e$e$d$ t$o$ s$t$o$p$ t$h$e$ c$l$u$s$t$e$r$ s$o$f$t$w$a$r$e$ wP$a$c$e$m$a$k$e$r$ p$r$o$v$i$d$e$s$ a$ v$a$r$i$e$t$y$ o$f$ m$e$t$h$o$d$s$ </simpara>
<itemizedlist>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ s$t$o$p$ a$ n$o$d$e$ i$n$ a$ c$l$u$s$t$e$r$ w$h$i$l$e$ c$o$n$t$i$n$u$i$n$g$ t$o$ p$r$o$v$i$d$e$ t$h$e$ s$e$r$v$i$c$e$s$ r$u$n$n$i$n$g$ o$n$ tA$ n$o$d$e$ t$h$a$t$ i$s$ i$n$ s$t$a$n$d$b$y$ m$o$d$e$ i$s$ n$o$ l$A$n$y$ r$e$s$o$u$r$c$e$ c$u$r$r$e$n$t$l$y$ a$c$t$i$v$e$ o$n$ t$h$e$ n$o$d$e$ w$i$l$l$ b$e$ m$o$v$e$d$ t$o$ a$n$o$t$h$e$r$ n$o$d$e$, oF$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ s$t$a$n$d$b$y$ m$o$d$e$, s$e$e$ <link linkend="proc_stopping-individual-node-cluster-maintenance">P$u</link></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ m$o$v$e$ a$n$ i$n$d$i$v$i$d$u$a$l$ r$e$s$o$u$r$c$e$ o$f$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ i$t$ i$s$ c$u$r$r$e$n$t$l$y$ r$u$n$n$i$n$g$ w$i$t$h$o$u$t$ s$t$o$p$p$i$n$g$ t$h$a$t$ r$<literal role="command"></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d<link linkend="assembly_manually-move-resources-cluster-maintenance"></link></simpara>
<simpara>W$h$e$n$ y$o$u$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d$, t$h$i$s$ a$d$d$s$ a$ c$o$n$s$t$r$a$i$n$t$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$ tW$h$e$n$ y$o$u$ a$r$e$ r$e$a$d$y$ t$o$ m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$e$ b$a$c$k$, y$o$u$ c$a$n$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ c$l$e</literal><literal role="command"></literal>T$h$i$s$ d$o$e$s$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ b$a$c$k$ t$o$ t$h$e$ o$r$i$g$i$n$a$l$ n$o$d$e$, h$o$w$e$v$e$r$, s$i$n$c$e$ w$h$e$r$e$ t$h$e$ r$e$s$o$u$r$cY$o$u$ c$a$n$ r$e$l$o$c$a$t$e$ a$ r$e$s$o$u$r$c$e$ t$o$ i$t$s$ p$r$e$f$e$r$r$e$d$ n$o$d$e$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$l$o$c$a$t$e$ r$</literal><link linkend="proc_moving-resource-to-preferred-node-manually-move-resources"></link></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ s$t$o$p$ a$ r$u$n$n$i$n$g$ r$e$s$o$u$r$c$e$ e$n$t$i$r$e$l$y$ a$n$d$ p$r$e$v$e$n$t$ t$h$e$ c$l$u$s$t$e$r$ f$r$o$m$ s<literal role="command"></literal>F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$</literal> c$o$m$m$a$n$d$, s$e$e$ <link linkend="proc_disabling-resources-cluster-maintenance">E$n$</link></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ w$a$n$t$ t$o$ p$r$e$v$e$n$t$ P$a$c$e$m$a$k$e$r$ f$r$o$m$ t$a$k$i$n$g$ a$n$y$ a$c$t$i$o$n$ f$o$r$ a$ r$e$s$o$u$r$c$e$ (f$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ w$a$n$t$ t$o$ d$i$s$a$b$l$e$ r$e$c$o$v$e$r$y$ a$c$t$i$o$n$s$ w$h$i$l$e$ p$e$r$f$o$r$m$i$n$g$ m$a$i$n$t$e$n$a$n$c$e$ o$n$ t$h$e$ r$e$s$o$u$r$c$e$, o$r$ i$f$ y$o$u$ <literal></literal><literal role="command"></literal><link linkend="proc_unmanaging-resources-cluster-maintenance"></link>P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ c$o$n$n$e$c$t$i$o$n$ r$e$s$o$u$r</simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ p$u$t$ t$h$e$ c$l$u$s$t$e$r$ i$n$ a$ s$t$a$t$e$ w$h$e$r$e$ n$o$ s$e$r$v$i$c$e$s$ w$i$l$l$ b$e$ s$t$a$r$t$e$d$ o$<literal></literal>P$u$t$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ i$n$t$o$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$ a$F$o$r$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ p$u$t$t$i$n$g$ t$h$e$ c$l$u$s$t$e$r$ i$n$ m$a$i$n$t$e$n$a$n$c$e$ m$<link linkend="proc_setting-maintenance-mode-cluster-maintenance"></link></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ u$p$d$a$t$e$ t$h$e$ p$a$c$k$a$g$e$s$ t$h$a$t$ m$a$k$e$ u$p$ t$h$e$ R$H$E$L$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ a$n$d$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ A$d$d$-O$n$s$, y$o$u$ c$a$n$ u$p$d$a$t$e$ t$h$e$ p$a$c$k$a$g$e$s$ o$n$ o$n$e$ n$o$d$e$ a$t$ a$ <link linkend="proc_updating-cluster-packages-cluster-maintenance"></link></simpara>
</listitem>
<listitem>
<simpara>I$f$ y$o$u$ n$e$e$d$ t$o$ p$e$r$f$o$r$m$ m$a$i$n$t$e$n$a$n$c$e$ o$n$ a$ P$a$c$e$m$a$k$e$r$ r$e$m$o$t$e$ n$o$d$e$, y$o$u$ c$a$n$ r$e$m$o$v$e$ t$h$a$t$ n$o$d$e$ f$r$o$m$ t$h$e$ c$l$u$s$t$e$r$ b$y$ d$i$<link linkend="proc_upgrading-remote-nodes-cluster-maintenance"></link></simpara>
</listitem>
</itemizedlist>
<section xml:id="proc_stopping-individual-node-cluster-maintenance">
<title>P$u$t$t$i$n$g$ a$ n$o$d$e$ i$n$t</title>
<simpara>W$h$e$n$ a$ c$l$u$s$t$e$r$ n$o$d$e$ i$s$ i$n$ s$t$a$n$d$b$y$ m$o$d$e$, t$h$e$ n$o$d$eA$n$y$ r$e$s$o$u$r$c$e$s$ c$u$r$r$e$n$t$l$y$ a$c$t$i$v$e$ o$n$ t$h$e$ n$o</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ p$u$t$s$ t$h$e$ s$p$e$cI$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal role="option">--a$l$l$</literal>, t$h$i$s$ c$o$m$m$a$n$d$ p$u$</simpara>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$i$s$ c$o$m$m$a$n$d$ w$h$e$n$ u$p$d$aY$o$u$ c$a$n$ a$l$s$o$ u$s$e$ t$h$i$s$ c$o$m$m$a$n$d$ w$h$e$n$ t$e$s$t$i$n$g$ a$ c$o$n$f$i$g$u$r$a$t$i$o$n$, t$o$ s$i$m</simpara>
<literallayout class="monospaced">pcs node standby <emphasis>node</emphasis> | --all</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ s$p$A$f$t$e$r$ r$u$n$n$i$n$g$ t$h$i$s$ c$o$m$m$a$n$d$, t$h$e$ s$p$e$c$i$f$i$e$d$ nI$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal role="option">--a$l$l$</literal>, t$h$i$s$ c$o$m$m$a$n$d$ r$e$m$o</simpara>
<literallayout class="monospaced">pcs node unstandby <emphasis>node</emphasis> | --all</literallayout>
<simpara>N$o$t$e$ t$h$a$t$ w$h$e$n$ y$o$u$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ n$o$d$e$ s$t$a$n$d$b$y$</literal> c$o$m$m$a$n$d$, t$h$i$s$ p$r$W$h$e$n$ y$o$u$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ n$o$d$e$ u$n$s$t$a$n$d$b$y$</literal> c$o$m$m$a$n$d$, t$h$i$s$ a$T$h$i$s$ d$o$e$s$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ b$a$c$k$ t$o$ t$h$e$ i$n$d$i$c$a$t$e$d$ n$o$d$e$; w$h$e$r$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ c$a$n</simpara>
</section>
<section xml:id="assembly_manually-move-resources-cluster-maintenance">
<title>M$a$n$u$a$l$l$y$ m$o$v$i$n$g$ c$l</title>
<simpara>Y$o$u$ c$a$n$ o$v$e$r$r$i$d$e$ t$h$e$ c$l$u$s$t$e$r$ a$n$d$ f$o$r$c$e$ r$e$s$o$u$r$c$T$h$e$r$e$ a$r$e$ t$w$o$ o$c$c$a$s$i$o$n$s$ w$h$e$n$ y$</simpara>
<itemizedlist>
<listitem>
<simpara>W$h$e$n$ a$ n$o$d$e$ i$s$ u$n$d$e$r$ m$a$i$n$t$e$n$a$n$c$e$, a$n$d$ y$o$u$ n$e$e$d$ t$o$ m$o$v$e$ a$l$l$ r$e$</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ i$n$d$i$v$i$d$u$a$l$l$y$ s$p$e$c$i$f$i$e$d$ r$</simpara>
</listitem>
</itemizedlist>
<simpara>T$o$ m$o$v$e$ a$l$l$ r$e$s$o$u$r$c$e$s$ r$u$n$n$i$n$g$ o$n$ a$ n$o$d$e$ t$o$ a$ d$i$f$f$e$r$e$</simpara>
<simpara>Y$o$u$ c$a$n$ m$o$v$e$ i$n$d$i$v$i$d$u$a$l$l$y$ s$p$e$c$i$f$i$e$d$ r$e$s$o$u$r</simpara>
<itemizedlist>
<listitem>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d$ t$o$ m$o$v$e$ a$ r$e$s$o$u$r$</simpara>
</listitem>
<listitem>
<simpara>Y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$l$o$c$a$t$e$ r$u$n$</literal> c$o$m$m$a$n$d$ t$o$ m$o$v$e$ a$ r$e$s$o$u$r$c$e$ t$o$ i$t$s$ p$r$e$f$e$r$r$e$d$ n$o$d$e$, a$s$ d$e$t$e$r$m$i$n$</simpara>
</listitem>
</itemizedlist>
<section xml:id="proc_moving-resource-from-node-manually-move-resources">
<title>M$o$v$i$n$g$ a$ r$e$s$o$u$r$c$e$ f$r$o$</title>
<simpara>T$o$ m$o$v$e$ a$ r$e$s$o$u$r$c$e$ o$f$f$ t$h$e$ n$o$d$e$ o$n$ w$h$i$c$h$ i$t$ i$s$ c$u$r$r$e$n$t$l$y$ r$u$n$n$i$n$g$, u$s$e$ t$h$e$ f$o$l$l$o$w$i$n<emphasis></emphasis>S$p$e$c$i$f$y$ t$h$e$ <literal>d$e$s$t$i$n$a$t$i$o$n$_n$o$d$e$</literal> i$f$ y$o$u$ w$a$n$t$ t$o$ i$n$d$i$c$a$t$e$ o$n$ w$h$i</simpara>
<literallayout class="monospaced">pcs resource move <emphasis>resource_id</emphasis> [<emphasis>destination_node</emphasis>] [--master] [lifetime=<emphasis>lifetime</emphasis>]</literallayout>
<note>
<simpara>W$h$e$n$ y$o$u$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d$, t$h$i$s$ a$d$d$s$ a$ c$o$n$s$t$r$a$i$n$t$ t$o$ t$h$e$ r$e$s$o$u$r$c$e$ tY$o$u$ c$a$n$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ c$l$e$a$r$</literal> o$r$ t$h$e$ <literal role="command">p$c$s$ c$o$n$s$t$r</literal>T$h$i$s$ d$o$e$s$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ b$a$c$k$ t$o$ t$h$e$ o$r$i$g$i$n$a$l$ n$o$d$e$; w$h$e$r$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ c$a$n$</simpara>
</note>
<simpara>I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal>--m$a$s$t$e$r$</literal> p$a$r$a$m$e$t$e$r$ o$f$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d$, t$h$e$ s$c$o$p$e$ o$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ i$s$ <emphasis></emphasis><emphasis></emphasis></simpara>
<simpara>Y$o$u$ c$a$n$ o$p$t$i$o$n$a$l$l$y$ c$o$n$f$i$g$u$r$e$ a$ <literal>l$i$f$e$t$i$m$e$</literal> p$a$r$a$m$e$t$e$r$ f$o$r$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$Y$o$u$ s$p$e$c$i$f$y$ t$h$e$ u$n$i$t$s$ o$f$ a$ <literal>l$i$f$e$t$i$m$e$</literal> p$a$r$a$m$e$t$e$r$ a$c$c$o$r$d$i$n$g$ t$o$ t$h$e$ f$o$r$m$a$t$ d$e$f$i$n$e$d$ i$n$ I$S$O$ 8601, w$h$i$c$h$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ u$n$i$t$ a$s$ a$ c$a$p$i$t$a$l$ l$e$t$t$e$r$ </simpara>
<simpara>T$o$ d$i$s$t$i$n$g$u$i$s$h$ a$ u$n$i$t$ o$f$ m$i$n$u$t$e$s$(M$) f$r$o$m$ a$ u$n$i$t$ o$f$ m$o$n$t$h$s$(M$), y$o$u$ m$u$s$F$o$r$ e$x$a$m$p$l$e$, a$ <literal>l$i$f$e$t$i$m$e$</literal> p$a$r$a$m$e$t$e$r$ o$f$ 5M$ i$n$d$i$c$a$t$e$s$ a$n$ i$n$t$e$r$v$a$l$ o$f$ f$i$v$e$ m$o$n$t$h$s$, w$h$i$l$e$ <literal></literal></simpara>
<simpara>T$h$e$ <literal>l$i$f$e$t$i$m$e$</literal> p$a$r$a$m$e$t$e$r$ i$s$ c$h$e$c$k$e$d$ a$t$ i$n$t$e$r$v$a$l$s$ d$e$f$i$n$e$d$ b$<literal></literal>B$y$ d$e$f$a$u$l$t$ t$h$i$s$ v$a$l$uI$f$ y$o$u$r$ c$o$n$f$i$g$u$r$a$t$i$o$n$ r$e$q$u$i$r$e$s$ t$h$a$t$ y$o$u$ c$h$e$c$k$ t$h$i$s$ p$a$r$a$m$e$t$e$r$ m$o$r$e$ f$r$e$q$</simpara>
<literallayout class="monospaced">pcs property set cluster-recheck-interval=<emphasis>value</emphasis></literallayout>
<simpara>Y$o$u$ c$a$n$ o$p$t$i$o$n$a$l$l$y$ c$o$n$f$i$g$u$r$e$ a$ <literal>--w$a$i$t$[=<emphasis>n$</emphasis>]</literal> p$a$r$a$m$e$t$e$r$ f$o$r$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> c$o$m$m$a$n$d$ t$o$ i$n$d$i$c$a$t$e$ t$h$e$ n$u$m$b$e$r$ o$f$ s$e$c$o$n$d$s$ t$o$ w$a$i$t$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ n$, t$h$e$ d$e$f$a$u$l$t$ r$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ m$o$v$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ <literal>r$e$s$o$u$r$c$e$1</literal> t$o$ n$o$d$e$ <literal>e$x$a$m$p$l$e$-n$o$d$e$2</literal> a$n$d$ p$r$e$v$e$n$t$s$ i$t$ f$r$o$m$ m$o$v$i$n$g$ b</simpara>
<literallayout class="monospaced">pcs resource move resource1 example-node2 lifetime=PT1H30M</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ m$o$v$e$s$ t$h$e$ r$e$s$o$u$r$c$e$ <literal>r$e$s$o$u$r$c$e$1</literal> t$o$ n$o$d$e$ <literal>e$x$a$m$p$l$e$-n$o$d$e$2</literal> a$n$d$ p$r$e$v$e$n$t$s$ i$t$ f$r$o$m$ m</simpara>
<literallayout class="monospaced">pcs resource move resource1 example-node2 lifetime=PT30M</literallayout>
</section>
<section xml:id="proc_moving-resource-to-preferred-node-manually-move-resources">
<title>M$o$v$i$n$g$ a$ r$e$s$o$u$r$c$e$ t$o$ i</title>
<simpara>A$f$t$e$r$ a$ r$e$s$o$u$r$c$e$ h$a$s$ m$o$v$e$d$, e$i$t$h$e$r$ d$u$e$ t$o$ a$ f$a$i$l$o$v$e$r$ o$r$ t$o$ a$n$ a$d$m$i$n$i$s$t$r$a$t$o$r$ m$a$n$u$a$l$l$y$ m$o$v$i$n$g$ t$h$e$ n$o$d$e$, i$t$ w$i$l$l$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$oT$o$ r$e$l$o$c$a$t$e$ r$e$s$o$u$r$c$e$s$ t$o$ t$h$e$i$r$ p$r$e$f$e$r$r$e$A$ p$r$e$f$e$r$r$e$d$ n$o$d$e$ i$s$ d$e$t$e$r$m$i$n$e$d$ b$y$ t$h$e$ c$u$r$r$e$n$t$ c$l$u$s$t$e$r$ s$t$a$t$u$s$, c$o$n$s$t$r$a$i$n$t$s$, r</simpara>
<literallayout class="monospaced">pcs resource relocate run [<emphasis>resource1</emphasis>] [<emphasis>resource2</emphasis>] ...</literallayout>
<simpara>I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ a$n$y$ r$e$s$o$u$r$c$e$s$, a$l$l$ r$e$s$o$u$r$c$e$</simpara>
<simpara>T$h$i$s$ c$o$m$m$a$n$d$ c$a$l$c$u$l$a$t$e$s$ t$h$e$ p$r$e$f$e$r$r$e$d$ n$o$d$e$ f$o$r$ e$a$c$h$ A$f$t$e$r$ c$a$l$c$u$l$a$t$i$n$g$ t$h$e$ p$r$e$f$e$r$r$e$d$ n$o$d$e$, i$t$ c$r$e$a$t$e$s$ l$o$c$a$t$i$o$n$ c$o$n$s$t$r$a$i$n$t$s$ w$h$O$n$c$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ h$a$v$e$ b$e$e$n$ m$o$v$e$d$, t$h$e$ c$o$n$T$o$ r$e$m$o$v$e$ a$l$l$ c$o$n$s$t$r$a$i$n$t$s$ c$r$e$a$t$e$d$ b$y$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$l$o$c$a$t$e$ r$u$n$</literal> c$o$m$m<literal role="command"></literal>T$o$ d$i$s$p$l$a$y$ t$h$e$ c$u$r$r$e$n$t$ s$t$a$t$u$s$ o$f$ r$e$s$o$u$r$c$e$s$ a$n$d$ t$h$e$i$r$ o$p$t$i$m$a$l$ n$o$d$e$ i$g$n$o$r$i$n$g$ r$e<literal role="command"></literal></simpara>
</section>
</section>
<section xml:id="proc_disabling-resources-cluster-maintenance">
<title>D$i$s$a$b$l$i$n$g$, e$n$a$b$l$i$n$g$, a$n$d$ b$a$n</title>
<simpara>I$n$ a$d$d$i$t$i$o$n$ t$o$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ m$o$v$e$</literal> a$n$d$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ r$e$l$o$c$a$t$e$</literal> c$o$m$m$a$n$d$s$, t$h$e$r$e$ a$r$e$ a$ v$a$r$i$e$t$y$</simpara>
<bridgehead xml:id="disabling_a_cluster_resource" renderas="sect3" remap="_disabling_a_cluster_resource">D$i$s$a$b$l$i$n$g$ a$ c$l$u$</bridgehead>
<simpara>Y$o$u$ c$a$n$ m$a$n$u$a$l$l$y$ s$t$o$p$ a$ r$u$n$n$i$n$g$ r$e$s$o$u$r$c$e$ a$n$d$ p$r$e$v$e$n$t$ t$h$e$ c$l$u$s$t$eD$e$p$e$n$d$i$n$g$ o$n$ t$h$e$ r$e$s$t$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ (c$o$n$s$t$r$a$i$n$t$s$, o$p$t$i$o$n$s$, I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal role="option">--w$a$i$t$</literal> o$p$t$i$o$n$, <emphasis role="strong"><phrase role="application">p$c$s$</phrase></emphasis> w$i$l$l$ w$a$i$t$ u$p$ t$o$ 'n$' s$e$c$o$n$d$s$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ s$t$o$p$ a$n$d$ t$h$e$nI$f$ 'n$' i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$ i$t$ d$e$</simpara>
<literallayout class="monospaced">pcs resource disable <emphasis>resource_id</emphasis> [--wait[=<emphasis>n</emphasis>]]</literallayout>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.2, y$o$u$ c$a$n$ s$p$e$c$i$f$y$ t$h$a$t$ a$ r$e$s$o$u$r$c$e$ b$e$ d$i$s$a$b$l$e$d$ o$n$l$y$ i$f$ E$n$s$u$r$i$n$g$ t$h$a$t$ t$h$i$s$ w$o$u$l$d$ b$e$ t$h$e$ c$a$s$e$ c$a$n$ b$e$ i$m$p$o$s$s$i$b$l$e$ t$o$ d$o$ b$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ --s$i$m$u$l$a$t$e$</literal> c$o$m$m$a$n$d$ s$h$o$w$s$ t$h$e$ e$f$f$e$c$t$s$ o$f$ d$i$s$a$b$l$i</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ --s$a$f$e$</literal> c$o$m$m$a$n$d$ d$i$s$a$b$l$e$s$ a$ r$e$s$o$u$r$c$e$ o$n$l$y$ i$f$ n$o$ o$t$h$e$r$ r$e$s$o$u$r$c$e$s$ w$o$u$lT$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ s$a$f$e$-d$i$s$a$b$l$e$</literal> c$o$m$m$a$n$d$ i$s$ a$n$ a$l$i$a$s$ f$o<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ --s$a$f$e$ --n$o$-s$t$r$i$c$t$</literal> c$o$m$m$a$n$d$ d$i$s$a$b$l$e$s$ a$ r$e$s$o$u$r$c$</simpara>
</listitem>
</itemizedlist>
<bridgehead xml:id="enabling_a_cluster_resource" renderas="sect3" remap="_enabling_a_cluster_resource">E$n$a$b$l$i$n$g$ a$ c$l$u$s</bridgehead>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ a$l$l$o$w$ t$hD$e$p$e$n$d$i$n$g$ o$n$ t$h$e$ r$e$s$t$ o$f$ t$h$e$ c$o$n$f$i$g$u$r$a$t$i$o$I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal role="option">--w$a$i$t$</literal> o$p$t$i$o$n$, <emphasis role="strong"><phrase role="application">p$c$s$</phrase></emphasis> w$i$l$l$ w$a$i$t$ u$p$ t$o$ 'n$' s$e$c$o$n$d$s$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ s$t$a$r$t$ a$n$d$ t$h$e$I$f$ 'n$' i$s$ n$o$t$ s$p$e$c$i$f$i$e$d$ i$t$ d$e$</simpara>
<literallayout class="monospaced">pcs resource enable <emphasis>resource_id</emphasis> [--wait[=<emphasis>n</emphasis>]]</literallayout>
<bridgehead xml:id="preventing_a_resource_from_running_on_a_particular_node" renderas="sect3" remap="_preventing_a_resource_from_running_on_a_particular_node">P$r$e$v$e$n$t$i$n$g$ a$ r$e$s$o$u$r$c$e$ f$r$o$m$ r$u$n</bridgehead>
<simpara>U$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t$o$ p$r$e$v$e$n$t$ a$ r$e$s$o$u$r$c$e$ f$r$o$m$ r$u$n$n$i$n$g$ o$n$ a$ s$p$e$c$i</simpara>
<literallayout class="monospaced">pcs resource ban <emphasis>resource_id</emphasis> [<emphasis>node</emphasis>] [--master] [lifetime=<emphasis>lifetime</emphasis>] [--wait[=<emphasis>n</emphasis>]]</literallayout>
<simpara>N$o$t$e$ t$h$a$t$ w$h$e$n$ y$o$u$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ b$a$n$</literal> c$o$m$m$a$n$d$, t$h$i$s$ a$d$d$s$ a$ -I$N$F$I$N$I$T$Y$ l$o$c$a$t$i$o$n$ c$o$nY$o$u$ c$a$n$ e$x$e$c$u$t$e$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ c$l$e$a$r$</literal> o$r$ t$h$e$ <literal role="command">p$c$s$ c$o$n$s$t$r</literal>T$h$i$s$ d$o$e$s$ n$o$t$ n$e$c$e$s$s$a$r$i$l$y$ m$o$v$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ b$a$c$k$ t$o$ t$h$e$ i$n$d$i$c$a$t$e$d$ n$o$d$e$; w$h$e$r$e$ t$h$e$ r$e$s$o$u$r$c$e$s$ c$a$n</simpara>
<simpara>I$f$ y$o$u$ s$p$e$c$i$f$y$ t$h$e$ <literal>--m$a$s$t$e$r$</literal> p$a$r$a$m$e$t$e$r$ o$f$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ b$a$n$</literal> c$o$m$m$a$n$d$, t$h$e$ s$c$o$p$e$ o$f$ t$h$e$ c$o$n$s$t$r$a$i$n$t$ i$s$ l<emphasis></emphasis><emphasis></emphasis></simpara>
<simpara>Y$o$u$ c$a$n$ o$p$t$i$o$n$a$l$l$y$ c$o$n$f$i$g$u$r$e$ a$ <literal>l$i$f$e$t$i$m$e$</literal> p$a$r$a$m$e$t$e$r$ f$o$r$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ b$a$n$</literal> c$o</simpara>
<simpara>Y$o$u$ c$a$n$ o$p$t$i$o$n$a$l$l$y$ c$o$n$f$i$g$u$r$e$ a$ <literal>--w$a$i$t$[=<emphasis>n$</emphasis>]</literal> p$a$r$a$m$e$t$e$r$ f$o$r$ t$h$e$ <literal>p$c$s$ r$e$s$o$u$r$c$e$ b$a$n$</literal> c$o$m$m$a$n$d$ t$o$ i$n$d$i$c$a$t$e$ t$h$e$ n$u$m$b$e$r$ o$f$ s$e$c$o$n$d$s$ t$o$ w$a$i$t$ f$o$r$ t$h$e$ r$e$s$o$u$r$c$e$ t$o$ I$f$ y$o$u$ d$o$ n$o$t$ s$p$e$c$i$f$y$ n$, t$h$e$ d$e$f$a$u$l$t$ r$</simpara>
<bridgehead xml:id="forcing_a_resource_to_start_on_the_current_node" renderas="sect3" remap="_forcing_a_resource_to_start_on_the_current_node">F$o$r$c$i$n$g$ a$ r$e$s$o$u$r$c$e$ t$o$ s$t$a$r</bridgehead>
<simpara>U$s$e$ t$h$e$ <literal role="command">d$e$b$u$g$-s$t$a$r$t$</literal> p$a$r$a$m$e$t$e$r$ o$f$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$</literal> c$o$m$m$a$n$d$ t$o$ f$o$r$c$e$ a$ s$p$e$c$i$f$i$e$d$ r$e$s$o$u$r$c$e$ t$o$ s$t$a$r$t$ o$n$ t$h$e$ c$u$r$r$e$n$t$ n$T$h$i$s$ i$s$ m$a$i$n$l$y$ u$s$e$d$ f$o$r$ d$e$b$u$g$g$i$n$g$ r$e$s$o$u$r$c$e$s$; s$t$a$r$t$i$n$g$ r$e$s$o$u$r$c$e$s$ o$n$ a$ c$l$u$s$t$e$r$ i$s$ (a$l<literal role="command"></literal>I$f$ y$o$u$r$ r$e$s$o$u$r$c$e$ i$s$ n$o$t$ s$t$a$r$t$i$n$g$, i$t$ i$s$ u$s$u$a$l$l$y$ d$u$e$ t$o$ e$i$t$h$e$r$ a$ m$i$s$c$o$n$f$i$g$u$r$a$t$i$o$n$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$ (w$h$i$c$h$ y$o$u$ d$e$b$u$g$ i$n$ t$h$e$ Y$o$u$ c$a$n$ u$s$e$ t$h$i$s$ c$o$m$m$a$n$d$ t$o$ t$e$s$t$ r$e$s$o$u$r$c$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$, b$u$t$ i$t$ s$h$o$u$</simpara>
<simpara>T$h$e$ f$o$r$m$a$t$ o$f$ t$h$e$ <literal role="command">d$e$b$u$g$-s$t$a$r$t</literal></simpara>
<literallayout class="monospaced">pcs resource debug-start <emphasis>resource_id</emphasis></literallayout>
</section>
<section xml:id="proc_unmanaging-resources-cluster-maintenance">
<title>S$e$t$t$i$n$g$ a$ r$e$s$o$u$r$c$e$ t</title>
<simpara>W$h$e$n$ a$ r$e$s$o$u$r$c$e$ i$s$ i$n$ <literal>u$n$m$a$n$a$g$e$d$</literal> m$o$d$e$, t$h$e$ r$e$s$o$u$r$c$e$ i$s$ s$t$i$l$l$ i$n$ t$h$e$ c$o$</simpara>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ t$h$e$ i$n$d$i$c$a$<literal></literal></simpara>
<literallayout class="monospaced">pcs resource unmanage <emphasis>resource1</emphasis>  [<emphasis>resource2</emphasis>] ...</literallayout>
<simpara>T$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ s$e$t$s$ r$e$s$o$u$r$c$e$s$ t$o$ <literal>m$a$n$a</literal></simpara>
<literallayout class="monospaced">pcs resource manage <emphasis>resource1</emphasis>  [<emphasis>resource2</emphasis>] ...</literallayout>
<simpara>Y$o$u$ c$a$n$ s$p$e$c$i$f$y$ t$h$e$ n$a$m$e$ o$f$ a$ r$e$s$o$u$r$c$e$ g$r$o$u$p$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e</literal><literal role="command"></literal>T$h$e$ c$o$m$m$a$n$d$ w$i$l$l$ a$c$t$ o$n$ a$l$l$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$s$ i$n$ t$h$e$ g$r$o$u$p$, s$o$ t$h$a$t$ y$o$u$ c$a$n$ s$e$t$ a$l$l$ o$f$ t$h$e$ r$e$s$o$u$r$c$e$s$ i$n$ a$ g$r$o$u$p$ t$o$ <literal>m$a$n$a$g$e$d</literal><literal></literal></simpara>
</section>
<section xml:id="proc_setting-maintenance-mode-cluster-maintenance">
<title>P$u$t$t$i$n$g$ a$ c$l$u$s$t$e$r$ i$n$</title>
<simpara>W$h$e$n$ a$ c$l$u$s$t$e$r$ i$s$ i$n$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$, t$h$e$ c$l$u$s$t$e$r$ d$o$e$s$ n$o$t$ W$h$e$n$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$ i$s$ c$o$m$p$l$e$t$e$d$, t$h$e$ c$l$u$s$t$e$r$ d$o$e$s$ a$ s$a$n$i$t$y$ c$h$e$c$k$ o$f$ t$h$e$ c$u$r$r$e$n$</simpara>
<simpara>T$o$ p$u$t$ a$ c$l$u$s$t$e$r$ i$n$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$, u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ t<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set maintenance-mode=true</literal></literallayout>
<simpara>T$o$ r$e$m$o$v$e$ a$ c$l$u$s$t$e$r$ f$r$o$m$ m$a$i$n$t$e$n$a$n$c$e$ m$o$d$e$, u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$<literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set maintenance-mode=false</literal></literallayout>
<simpara>Y$o$u$ c$a$n$ r$e$m$o$v$e$ a$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ f$r$o$m$ t$h$e$ c$o$n$</simpara>
<literallayout class="monospaced">pcs property unset <emphasis>property</emphasis></literallayout>
<simpara>A$l$t$e$r$n$a$t$e$l$y$, y$o$u$ c$a$n$ r$e$m$o$v$e$ a$ c$l$u$s$t$e$r$ p$r$o$p$e$r$t$y$ f$r$o$m$ a$ c$o$n$f$i$g$u$r$a$t$i$o$n$ b$y$ l$e<literal role="command"></literal>T$h$i$s$ r$e$s$t$o$r$e$s$ t$h$a$t$ p$r$o$p$e$r$t$F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ p$r$e$v$i$o$u$s$l$y$ s$e$t$ t$h$e$ <literal>s$y$m$m$e$t$r$i$c$-c$l$u$s$t$e$r$</literal> p$r$o$p$e$r$t$y$ t$o$ <literal>f$a$l$s$e$</literal>, t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ r$e$m$o$v$e$s$ t$h$e$ v$a$l$u$e$ y$o$u$ h$a$v$e$ <literal></literal><literal></literal></simpara>
<literallayout class="monospaced"># <literal>pcs property set symmetric-cluster=</literal></literallayout>
</section>
<section xml:id="proc_updating-cluster-packages-cluster-maintenance">
<title>U$p$d$a$t$i$n$g$ a$ R$H$E$L$ h$i$g$h$ a$v</title>
<simpara>U$p$d$a$t$i$n$g$ p$a$c$k$a$g$e$s$ t$h$a$t$ m$a$k$e$ u$p$ t$h$e$ R$H$E$L$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ a$n$d$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ A$d$d$-O$n$s$, </simpara>
<itemizedlist>
<listitem>
<simpara><emphasis>R$o$l$l$i$n$g$ U$p$d$a$t$e$s$</emphasis>: R$e$m$o$v$e$ o$n$e$ n$o$d$e$ a$t$ a$ t$i$m$e$ f$r$o$m$ s$e$r$v$i$c$e$, u$p$d$a$t$e$ i$tT$h$i$s$ a$l$l$o$w$s$ t$h$e$ c$l$u$s$t$e$r$ t$o$ c$o$n$t$i$n$u$e$ p$r$o$v$i$d$i$n$g$ s$e$r$v$i$c$e$ a$n$</simpara>
</listitem>
<listitem>
<simpara><emphasis>E$n$t$i$r$e$ C$l$u$s$t$e$r$ U$p$d$a$t$e$</emphasis>: S$t$o$p$ t$h$e$ e$n$t$i$r$e$ c$l$u$s$t$e$r$, a$p$p$l$y$ u$p$d$a$t</simpara>
</listitem>
</itemizedlist>
<warning>
<simpara>I$t$ i$s$ c$r$i$t$i$c$a$l$ t$h$a$t$ w$h$e$n$ p$e$r$f$o$r$m$i$n$g$ s$o$f$t$w$a$r$e$ u$p$d$a$t$e$ p$r$o$c$e$d$u$r$e$s$ f$o$r$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$I$n$u$x$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ a$n$d$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ c$l$u$s$t$e$r$s$, y$o$</simpara>
</warning>
<simpara>F$o$r$ a$ f$u$l$l$ d$e$s$c$r$i$p$t$i$o$n$ o$f$ e$a$c$h$ o$f$ t$h$e$s$e$ m$e$t$h$o$d$s$ a$n$d$ t$h$e$ p$r$o$c$e$d$u$r$e$s$ t$o$ f$o$l$l$o$w$ f$o$r$ t$h$e$ u$p$d$a$t$e$s$, s$e$e$ <link xlink:href="https://access.redhat.com/articles/2059253/">R$e$c$o$m$m$e$n$d$e$d$ P$r$a$c</link></simpara>
</section>
<section xml:id="proc_upgrading-remote-nodes-cluster-maintenance">
<title>U$p$g$r$a$d$i$n$g$ r$e$m$o$t$e$ n$o$d$</title>
<simpara>I$f$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ i$s$ s$t$o$p$p$e$d$ o$n$ a$n$ a$c$t$i$v$e$ r$e$m$o$t$e$ n$o$d$e$ o$r$ g$u$e$s$t$ n$o$d$e$, t$h$e$ c$l$u$s$t$T$h$i$s$ a$l$l$o$w$s$ y$o$u$ t$o$ p$e$r$f$o$r$m$ s$o$f$t$w$a$r$e$ u$p$g$r$a$d$e$s$ a$n$d$ o$t$h$e$r$ r$o$u$t$i$n$e$ m$a$i$n$t$e$nO$n$c$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> i$s$ s$h$u$t$ d$o$w$n$, h$o$w$e$v$e$r$, t$h$e$ c$lI$f$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> i$s$ n$o$t$ r$e$s$t$a$r$t$e$d$ w$i$t$h$i$n$ t$h$e$ r$e$s$o$u$r$c$e$’s$ m$o$n$i$t$o$r$ t$i$m$e$o$u</simpara>
<simpara>I$f$ y$o$u$ w$i$s$h$ t$o$ a$v$o$i$d$ m$o$n$i$t$o$r$ f$a$i$l$u$r$e$s$ w$h$e$n$ t$h$e$ <literal>p$a$c$e$m$a$k$e$r$_r$e$m$o$t$e$</literal> s$e$r$v$i$c$e$ i$s$ s$t$o$p$p$e$d$ o$n$ a$n$ a$c$t$i$v$e$ P$a$c$e$m$a$k$e$r$ R$e$m$o$t$e$ n$o$d$e$, y$o$u$ c$a$n$ u$s$e$ t$h$e$ f$o$l$l$o$w$i$n$g$ p$r<literal></literal></simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>S$t$o$p$ t$h$e$ n$o$d$e$’s$ c$o$n$n$e$c$t$i$o$n$ r$e$s$o$u$r$c$e$ w$i$t$h$ t$h$e$ <literal role="command">p$c$s$ r$e$s$o$u$r$c$e$ d$i$s$a$b$l$e$ <emphasis>r</emphasis></literal>F$o$r$ g$u$e$s$t$ n$o$d$e$s$, t$h$i$s$ w$i$l$l$ a$l$s$o$ s$t$o$p$ t$h$e$ V$M$, s$o$ t$h$e$ V$M$ m$u$s$t$ b$e$ s$t$a$r$t$e$d$ o$u$t$s$i$d$e$ t$h$e<literal role="command"></literal></simpara>
</listitem>
<listitem>
<simpara>P$e$r$f$o$r$m$ t$h$e$ r$e$q$u$i$r</simpara>
</listitem>
<listitem>
<simpara>W$h$e$n$ r$e$a$d$y$ t$o$ r$e$t$u$r$n$ t$h$e$ n$o$d$e$ t$o$ t$h$e$ c$l$u$s$t$e$r$, r$e$-e$n$a$b$l$e<literal role="command"></literal></simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_migrating-cluster-vms-cluster-maintenance">
<title>M$i$g$r$a$t$i$n$g$ V$M$s$ i$n$ </title>
<simpara>I$n$f$o$r$m$a$t$i$o$n$ o$n$ s$u$p$p$o$r$t$ p$o$l$i$c$i$e$s$ f$o$r$ R$H$E$L$ h$i$g$h$ a$v$a$i$l$a$b$i$l$i$t$y$ c$l$u$s$t$e$r$s$ w$i$t$h$ v$i$r$t$u$a$l$i$z$e$d$ c$l$u$s$t$e$r$ m$e$m$b$e$r$s$ c$a$n$ b$e$ f$o$u$n$d$ i$n$ <link xlink:href="https://access.redhat.com/articles/3131111/">S$u$p$p</link>A$s$ n$o$t$e$d$, R$e$d$ H$a$t$ d$o$e$s$ n$o$t$ s$u$p$p$o$r$t$ l$i$v$e$ m$i$g$r$a$t$i$o$n$ o$f$ a$c$t$iI$f$ y$o$u$ n$e$e$d$ t$o$ p$e$r$f$o$r$m$ a$ l$i$v$e$ m$i$g$r$a$t$i$o$n$, y$o$u$ w$i$l$l$ f$i$r$s$t$ n$e$e$d$ t$o$ s$t$o$p$ t$h$e$ c$l$u$s$t$e$r$ s$e$r$v$i$c$e$s$ o$n$ t$h$e$ V$M$ t$o$ r$e$m$o$v$e$ t$h$e$T$h$e$ f$o$l$l$o$w$i$n$g$ s$t$e$p$s$ o$u$t$l$i$n$e$ t$h$e$ p$r$o$c$e$d$u$r$e$ f$o$r$ r$e$m$o$v$i$n$g$ a$ V$M$ f$r$o$m$ a$ c$l$u$s$</simpara>
<simpara>T$h$i$s$ p$r$o$c$e$d$u$r$e$ a$p$p$l$i$e$s$ t$o$ V$M$s$ t$h$a$t$ a$r$e$ u$s$e$d$ a$s$ f$u$l$l$ c$l$u$s$t$e$r$ n$o$d$e$s$, n$o$t$ t$o$ V$M$s$ m$a$n$a$g$e$d$ a$s$ c$l$u$s$t$e$r$ r$e$s$o$u$r$c$e$s$ (i$nF$o$r$ g$e$n$e$r$a$l$ i$n$f$o$r$m$a$t$i$o$n$ o$n$ t$h$e$ f$u$l$l$e$r$ p$r$o$c$e$d$u$r$e$ r$e$q$u$i$r$e$d$ f$o$r$ u$p$d$a$t$i$n$g$ p$a$c$k$a$g$e$s$ t$h$a$t$ m$a$k$e$ u$p$ t$h$e$ R$H$E$L$ H$i$g$h$ A$v$a$i$l$a$b$i$l$i$t$y$ a$n$d$ R$e$s$i$l$i$e$n$t$ S$t$o$r$a$g$e$ A$d$d$-O$n$s$, e$i$t$h$e$r$ i$n$d$i$v<link xlink:href="https://access.redhat.com/articles/2059253/"></link></simpara>
<note>
<simpara>B$e$f$o$r$e$ p$e$r$f$o$r$m$i$n$g$ t$h$i$s$ p$r$o$c$e$d$u$r$e$, c$o$n$s$i$d$e$r$ t$h$e$ e$f$f$e$c$t$F$o$r$ e$x$a$m$p$l$e$, i$f$ y$o$u$ h$a$v$e$ a$ t$h$r$e$e$-n$o$d$e$ c$l$u$s$t$e$r$ a$n$d$ y$o$u$ r$e$m$o$v$e$ o$n$e$ n$o$d$e$,I$f$ o$n$e$ n$o$d$e$ o$f$ a$ t$h$r$e$e$-n$o$d$e$ c$l$u$s$t$e$r$ i$s$ a$l$r$e$a$d$y$ d$o$w$n$,</simpara>
</note>
<orderedlist numeration="arabic">
<listitem>
<simpara>I$f$ a$n$y$ p$r$e$p$a$r$a$t$i$o$n$s$ n$e$e$d$ t$o$ b$e$ m$a$d$e$ b$e$f$o$r$e$ s$t$o$p$p$i$n$g$ o$r$ m$o$v$i$n$g$ t$h$e$ r$e$s$o$u$r$c$e$s$</simpara>
</listitem>
<listitem>
<simpara>R$u$n$ t$h$e$ f$o$l$l$o$w$i$n$g$ c$o$m$m$a$n$d$ o$n$ t$h$e$ V$M$ t$o$ s$t$o</simpara>
<literallayout class="monospaced"># <literal>pcs cluster stop</literal></literallayout>
</listitem>
<listitem>
<simpara>P$e$r$f$o$r$m$ t$h$e$ l$i$v$e$ m$i$g$</simpara>
</listitem>
<listitem>
<simpara>S$t$a$r$t$ c$l$u$s$t$e$r$ s$e$r$v</simpara>
<literallayout class="monospaced"># <literal>pcs cluster start</literal></literallayout>
</listitem>
</orderedlist>
</section>
</chapter>
<chapter xml:id="assembly_configuring-disaster-recovery-configuring-and-managing-high-availability-clusters">
<title>C$o$n$f$i$g$u$r$i$n$g$ d$i$s$a$s$t$e$r</title>
<simpara>O$n$e$ m$e$t$h$o$d$ o$f$ p$r$o$v$i$d$i$n$g$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ f$o$r$ a$ h$i$g$h$ a$v$a$Y$o$u$ c$a$n$ t$h$e$n$ c$o$n$f$i$g$u$r$e$ o$n$e$ c$l$u$s$t$e$r$ a$s$ y$o$u$r$ p$r$i$m$a$r$y$ s$i$t$e$ c$l$u$s$t$e$r$, a$n$</simpara>
<simpara>I$n$ n$o$r$m$a$l$ c$i$r$c$u$m$s$t$a$n$c$e$s$, t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ i$T$h$e$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ c$l$u$s$t$e$r$ h$a$s$ a$l$l$ t$h$e$ r$e$s$o$u$r$c$e$s$ c$o$n$f$i$g$u$r$e$d$ a$s$ w$e$l$F$o$r$ e$x$a$m$p$l$e$, t$h$e$r$e$ m$a$y$ b$e$ a$ d$a$t$a$b$a$s$e$ r$u$n$n$i$n$g$ i$n$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ i$n$ p$r$o$m$o$t$e$d$ mT$h$e$ d$a$t$a$b$a$s$e$ i$n$ t$h$i$s$ s$e$t$u$p$ w$o$u$l$d$ b$e$ c$o$n$f$i$g$u$r$e$d$ s$o$ t$h$a$t$ d$a$t$a$ i$s$ s$y$nT$h$i$s$ i$s$ d$o$n$e$ t$h$r$o$u$g$h$ t$h$e$ d$a$t$a$b$a$s$e$ c$o$n$f$i$g$u$r$a$t$i$o$n$ i$t$s$e$l$f$<literal></literal></simpara>
<simpara>W$h$e$n$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ g$o$e$s$ d$o$w$n$, u$s$e$r$s$ c$a$n$ u$s$e$ t$h$e$ <literal>p$c$s$</literal> c$o$m$m$a$n$d$ i$n$t$e$r$f$a$c$e$ t$o$T$h$e$y$ c$a$n$ t$h$e$n$ l$o$g$ i$n$ t$o$ t$h$e$ d$i$s$a$s$t$e$r$ s$i$t$e$ a$n$d$ p$O$n$c$e$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ h$a$s$ r$e$c$o$v$e$r$e$d$, u$s$e$r$s$ c$a$n$ u$s$e$ t$h$e$ <literal>p$c$s$</literal> c$o$m$m$a$n$d$ i$n$t</simpara>
<simpara>A$s$ o$f$ R$e$d$ H$a$t$ E$n$t$e$r$p$r$i$s$e$ L$i$n$u$x$ 8.2, y$o$u$ c$a$n$ u$s$e$ t$h$e$ <literal>p$c$s$</literal> c$o$m$m$a$n$d$ t$o$ d$i$s$p$l$a$y$ t$h$e$ s$t$a$t$u$s$ o$f$ b$o$t$h$ t$h$e$ p$r$i$m</simpara>
<section xml:id="ref_recovery-considerations-configuring-disaster-recovery">
<title>C$o$n$s$i$d$e$r$a$t$i$o$n$s$ f$o$r$ d$i$s$a$s</title>
<simpara>W$h$e$n$ p$l$a$n$n$i$n$g$ a$n$d$ c$o$n$f$i$g$u$r$i$n$g$ a$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ s$i$t$e$ t$h$a$t$ y$o$u$ w$i$l$l$ m$a$n$a$g$e$ a$n$d$ m$o$n$i<literal></literal></simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ s$i$T$h$i$s$ m$a$k$e$s$ i$t$ p$o$s$s$i$b$l$e$ t$o$ c$o$n$f$i$g$u$r$e$ i$t$ w$i$t$h$ s$a$m$e$ t$o$o$l$s</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ p$r$i$m$a$r$y$ a$n$d$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ c$l$u$s$t$e$r$s$ a$r$e$ c$r$e$a$t$<literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ c$l$u$s$t$e$r$s$ a$n$d$ t$h$e$i$r$ r$e$s$o$u$r$c$e$s$ m$u$s$t$ b$e$ c$o$n$f$i$g$u$r$e$d$ s$o$ t$h$a$t$ t$h$a</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ c$l$u$s$t$e$r$ n$o$d$e$s$ i$n$ t$h$e$ r$e$c$o$v$e$r$y$ s$i$t$e$ c$a$n$ n$o$t$ h$a$v$e$ t$h$e$</simpara>
</listitem>
<listitem>
<simpara>T$h$e$ p$c$s$ u$s$e$r$ <literal>h$a$c$l$u$s$t$e$r$</literal> m$u$s$t$ b$e$ a$u$t$h$e$n$t$i$c$a$t$e$d$ f$o$r$ e$a$c$h$ n$o$d$e$ i$n$ b$o$t$h$ c$l$u$s$t$<literal></literal></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_disaster-recovery-display-configuring-disaster-recovery">
<title>D$i$s$p$l$a$y$i$n$g$ s$t$a$t$u$s$ o$f$ r$e$c$o$v$e$r$y$ c$l</title>
<simpara>T$o$ c$o$n$f$i$g$u$r$e$ a$ p$r$i$m$a$r$y$ a$n$d$ a$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ c$l$u$s$t$e$r$ s$o$ t$h$a$t$ y$o$u$ c$a$n$ d$i$s$p$l$a</simpara>
<note>
<simpara>S$e$t$t$i$n$g$ u$p$ a$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ c$l$u$s$t$e$r$ d$o$e$s$ n$o$t$ a$u$t$o$m$a$T$h$o$s$e$ i$t$e$m$s$ m$u$s$t$ b$e$ c$o$n$f$i$g$u$r$</simpara>
</note>
<simpara>I$n$ t$h$i$s$ e$</simpara>
<itemizedlist>
<listitem>
<simpara>T$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ w$i$l$l$ b$e$ n$a$m$e$d$ <literal>P$r$i$m$a$r$y$S$i$t$e$</literal> a$n$d$ w$i$l$l$ c$o$n$s$i$<literal></literal><literal></literal></simpara>
</listitem>
<listitem>
<simpara>T$h$e$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ s$i$t$e$ c$l$u$s$t$e$r$ w$i$l$l$ b$e$ n$a$m$e$d$ <literal>D$R$s$i$t$e$</literal> a$n$d$ w$i$l$l$ c<literal></literal><literal></literal></simpara>
</listitem>
</itemizedlist>
<simpara>T$h$i$s$ e$x$a$m$p$l$e$ s$e$t$s$ u$p$ a$ b$a$s$i$c$ c$l$u$s$t$e$r$ w$i$t$h$ n</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>A$u$t$h$e$n$t$i$c$a$t$e$ a$l$l$ o$f$ t$h$e$ n$o$d$e$s$ t$h$a$t$ w$</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs host auth z1.example.com z2.example.com z3.example.com z4.example.com  -u hacluster -p password</literal>
z1.example.com: Authorized
z2.example.com: Authorized
z3.example.com: Authorized
z4.example.com: Authorized</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ c$l$u$s$t$e$r$ t$h$a$t$ w$i$l$l$ b$e$ u$s$e$d$ a$s$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs cluster setup PrimarySite z1.example.com z2.example.com  --start</literal>
{...}
Cluster has been successfully set up.
Starting cluster on hosts: 'z1.example.com', 'z2.example.com'...</literallayout>
</listitem>
<listitem>
<simpara>C$r$e$a$t$e$ t$h$e$ c$l$u$s$t$e$r$ t$h$a$t$ w$i$l$l$ b$e$ u$s$e$d$ a$s$ t$h$e$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ </simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs cluster setup DRSite z3.example.com z4.example.com --start</literal>
{...}
Cluster has been successfully set up.
Starting cluster on hosts: 'z3.example.com', 'z4.example.com'...</literallayout>
</listitem>
<listitem>
<simpara>F$r$o$m$ a$ n$o$d$e$ i$n$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$, s$e$t$ u$p$ t$h$e$ T$h$e$ r$e$c$o$v$e$r$y$ s$i$t$e$ i$s$ d$e$f$i$n$e$d$ b$y$ a</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs dr set-recovery-site z3.example.com</literal>
Sending 'disaster-recovery config' to 'z3.example.com', 'z4.example.com'
z3.example.com: successful distribution of the file 'disaster-recovery config'
z4.example.com: successful distribution of the file 'disaster-recovery config'
Sending 'disaster-recovery config' to 'z1.example.com', 'z2.example.com'
z1.example.com: successful distribution of the file 'disaster-recovery config'
z2.example.com: successful distribution of the file 'disaster-recovery config'</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ d$i$s$a$s$t$e$r$ r$e$c$o</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs dr config</literal>
Local site:
  Role: Primary
Remote site:
  Role: Recovery
  Nodes:
    z1.example.com
    z2.example.com</literallayout>
</listitem>
<listitem>
<simpara>C$h$e$c$k$ t$h$e$ s$t$a$t$u$s$ o$f$ t$h$e$ p$r$i$m$a$r$y$ c$l$u$s$t$e$r$ a$n$d$ t$h$e$ d$i$s$a$s$t$e$r$ r$e$c</simpara>
<literallayout class="monospaced">[root@z1 ~]# <literal>pcs dr status</literal>
--- Local cluster - Primary site ---
Cluster name: PrimarySite

WARNINGS:
No stonith devices and stonith-enabled is not false

Cluster Summary:
  * Stack: corosync
  * Current DC: z2.example.com (version 2.0.3-2.el8-2c9cea563e) - partition with quorum
  * Last updated: Mon Dec  9 04:10:31 2019
  * Last change:  Mon Dec  9 04:06:10 2019 by hacluster via crmd on z2.example.com
  * 2 nodes configured
  * 0 resource instances configured

Node List:
  * Online: [ z1.example.com z2.example.com ]

Full List of Resources:
  * No resources

Daemon Status:
  corosync: active/disabled
  pacemaker: active/disabled
  pcsd: active/enabled


--- Remote cluster - Recovery site ---
Cluster name: DRSite

WARNINGS:
No stonith devices and stonith-enabled is not false

Cluster Summary:
  * Stack: corosync
  * Current DC: z4.example.com (version 2.0.3-2.el8-2c9cea563e) - partition with quorum
  * Last updated: Mon Dec  9 04:10:34 2019
  * Last change:  Mon Dec  9 04:09:55 2019 by hacluster via crmd on z4.example.com
  * 2 nodes configured
  * 0 resource instances configured

Node List:
  * Online: [ z3.example.com z4.example.com ]

Full List of Resources:
  * No resources

Daemon Status:
  corosync: active/disabled
  pacemaker: active/disabled
  pcsd: active/enabled</literallayout>
</listitem>
</orderedlist>
<simpara>F$o$r$ a$d$d$i$t$i$o$n$a$l$ d$i$s$p$l$a$y$ o$p$t$i$o$n$s$ f$o$r$ a$ d$i$s$a$s$t$e$r$ r$e$c$o$v$e$r$y$ c$o$n$f$i$g<literal></literal></simpara>
</section>
</chapter>
</book>